var z3=Object.create;var{defineProperty:s0,getPrototypeOf:H3,getOwnPropertyNames:J3}=Object;var Y3=Object.prototype.hasOwnProperty;var K3=(i,$1,J1)=>{J1=i!=null?z3(H3(i)):{};const Q1=$1||!i||!i.__esModule?s0(J1,"default",{value:i,enumerable:!0}):J1;for(let x of J3(i))if(!Y3.call(Q1,x))s0(Q1,x,{get:()=>i[x],enumerable:!0});return Q1};var D3=(i,$1)=>()=>($1||i(($1={exports:{}}).exports,$1),$1.exports);var o0=D3((t1,F0)=>{/*! For license information please see quill.js.LICENSE.txt */(function(i,$1){typeof t1=="object"&&typeof F0=="object"?F0.exports=$1():typeof define=="function"&&define.amd?define([],$1):typeof t1=="object"?t1.Quill=$1():i.Quill=$1()})(self,function(){return function(){var i={3500:function(x,O,z){z.d(O,{E2:function(){return V},ZP:function(){return I},i2:function(){return S},qz:function(){return U}});var B=z(8473),j=z(1702),k=z.n(j),M=z(8474),T=z(784),L=z(3583);class I extends B.BlockBlot{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=U(this)),this.cache.delta}deleteAt(D,G){super.deleteAt(D,G),this.cache={}}formatAt(D,G,A,p){G<=0||(this.scroll.query(A,B.Scope.BLOCK)?D+G===this.length()&&this.format(A,p):super.formatAt(D,Math.min(G,this.length()-D-1),A,p),this.cache={})}insertAt(D,G,A){if(A!=null)return super.insertAt(D,G,A),void(this.cache={});if(G.length===0)return;const p=G.split("\n"),h=p.shift();h.length>0&&(D<this.length()-1||this.children.tail==null?super.insertAt(Math.min(D,this.length()-1),h):this.children.tail.insertAt(this.children.tail.length(),h),this.cache={});let F1=this;p.reduce((Y1,c)=>(F1=F1.split(Y1,!0),F1.insertAt(0,c),c.length),D+h.length)}insertBefore(D,G){const{head:A}=this.children;super.insertBefore(D,G),A instanceof M.Z&&A.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(D,G){super.moveChildren(D,G),this.cache={}}optimize(D){super.optimize(D),this.cache={}}path(D){return super.path(D,!0)}removeChild(D){super.removeChild(D),this.cache={}}split(D){let G=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(G&&(D===0||D>=this.length()-1)){const p=this.clone();return D===0?(this.parent.insertBefore(p,this),this):(this.parent.insertBefore(p,this.next),p)}const A=super.split(D,G);return this.cache={},A}}I.blotName="block",I.tagName="P",I.defaultChild=M.Z,I.allowedChildren=[M.Z,T.Z,B.EmbedBlot,L.Z];class S extends B.EmbedBlot{attach(){super.attach(),this.attributes=new B.AttributorStore(this.domNode)}delta(){return new(k())().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(D,G){const A=this.scroll.query(D,B.Scope.BLOCK_ATTRIBUTE);A!=null&&this.attributes.attribute(A,G)}formatAt(D,G,A,p){this.format(A,p)}insertAt(D,G,A){if(A!=null)return void super.insertAt(D,G,A);const p=G.split("\n"),h=p.pop(),F1=p.map((c)=>{const R=this.scroll.create(I.blotName);return R.insertAt(0,c),R}),Y1=this.split(D);F1.forEach((c)=>{this.parent.insertBefore(c,Y1)}),h&&this.parent.insertBefore(this.scroll.create("text",h),Y1)}}function U(D){let G=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return D.descendants(B.LeafBlot).reduce((A,p)=>p.length()===0?A:A.insert(p.value(),V(p,{},G)),new(k())).insert("\n",V(D))}function V(D){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return D==null?G:(("formats"in D)&&typeof D.formats=="function"&&(G={...G,...D.formats()},A&&delete G["code-token"]),D.parent==null||D.parent.statics.blotName==="scroll"||D.parent.statics.scope!==D.statics.scope?G:V(D.parent,G,A))}S.scope=B.Scope.BLOCK_BLOT},8474:function(x,O,z){var B=z(8473);class j extends B.EmbedBlot{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}j.blotName="break",j.tagName="BR",O.Z=j},5019:function(x,O,z){var B=z(8473);class j extends B.ContainerBlot{}O.Z=j},5191:function(x,O,z){var B=z(8473),j=z(3583);class k extends B.EmbedBlot{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(M,T,L){super(M,T),this.selection=L,this.textNode=document.createTextNode(k.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(M,T){if(this.savedLength!==0)return void super.format(M,T);let L=this,I=0;for(;L!=null&&L.statics.scope!==B.Scope.BLOCK_BLOT;)I+=L.offset(L.parent),L=L.parent;L!=null&&(this.savedLength=k.CONTENTS.length,L.optimize(),L.formatAt(I,k.CONTENTS.length,M,T),this.savedLength=0)}index(M,T){return M===this.textNode?0:super.index(M,T)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const M=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const T=this.prev instanceof j.Z?this.prev:null,L=T?T.length():0,I=this.next instanceof j.Z?this.next:null,S=I?I.text:"",{textNode:U}=this,V=U.data.split(k.CONTENTS).join("");let D;if(U.data=k.CONTENTS,T)D=T,(V||I)&&(T.insertAt(T.length(),V+S),I&&I.remove());else if(I)D=I,I.insertAt(0,V);else{const G=document.createTextNode(V);D=this.scroll.create(G),this.parent.insertBefore(D,this)}if(this.remove(),M){const G=(h,F1)=>T&&h===T.domNode?F1:h===U?L+F1-1:I&&h===I.domNode?L+V.length+F1:null,A=G(M.start.node,M.start.offset),p=G(M.end.node,M.end.offset);if(A!==null&&p!==null)return{startNode:D.domNode,startOffset:A,endNode:D.domNode,endOffset:p}}return null}update(M,T){if(M.some((L)=>L.type==="characterData"&&L.target===this.textNode)){const L=this.restore();L&&(T.range=L)}}optimize(M){super.optimize(M);let{parent:T}=this;for(;T;){if(T.domNode.tagName==="A"){this.savedLength=k.CONTENTS.length,T.isolate(this.offset(T),this.length()).unwrap(),this.savedLength=0;break}T=T.parent}}value(){return""}}O.Z=k},8726:function(x,O,z){var B=z(8473),j=z(3583);const k="\uFEFF";class M extends B.EmbedBlot{constructor(T,L){super(T,L),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach((I)=>{this.contentNode.appendChild(I)}),this.leftGuard=document.createTextNode(k),this.rightGuard=document.createTextNode(k),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(T,L){return T===this.leftGuard?0:T===this.rightGuard?1:super.index(T,L)}restore(T){let L,I=null;const S=T.data.split(k).join("");if(T===this.leftGuard)if(this.prev instanceof j.Z){const U=this.prev.length();this.prev.insertAt(U,S),I={startNode:this.prev.domNode,startOffset:U+S.length}}else L=document.createTextNode(S),this.parent.insertBefore(this.scroll.create(L),this),I={startNode:L,startOffset:S.length};else T===this.rightGuard&&(this.next instanceof j.Z?(this.next.insertAt(0,S),I={startNode:this.next.domNode,startOffset:S.length}):(L=document.createTextNode(S),this.parent.insertBefore(this.scroll.create(L),this.next),I={startNode:L,startOffset:S.length}));return T.data=k,I}update(T,L){T.forEach((I)=>{if(I.type==="characterData"&&(I.target===this.leftGuard||I.target===this.rightGuard)){const S=this.restore(I.target);S&&(L.range=S)}})}}O.Z=M},784:function(x,O,z){var B=z(8473),j=z(8474),k=z(3583);class M extends B.InlineBlot{static allowedChildren=[M,j.Z,B.EmbedBlot,k.Z];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(T,L){const I=M.order.indexOf(T),S=M.order.indexOf(L);return I>=0||S>=0?I-S:T===L?0:T<L?-1:1}formatAt(T,L,I,S){if(M.compare(this.statics.blotName,I)<0&&this.scroll.query(I,B.Scope.BLOT)){const U=this.isolate(T,L);S&&U.wrap(I,S)}else super.formatAt(T,L,I,S)}optimize(T){if(super.optimize(T),this.parent instanceof M&&M.compare(this.statics.blotName,this.parent.statics.blotName)>0){const L=this.parent.isolate(this.offset(),this.length());this.moveChildren(L),L.wrap(this)}}}O.Z=M},3583:function(x,O,z){z.d(O,{Z:function(){return j},b:function(){return k}});var B=z(8473);class j extends B.TextBlot{}function k(M){return M.replace(/[&<>"']/g,(T)=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[T])}},1713:function(x,O,z){z.d(O,{default:function(){return C}});var B=z(250),j=z(3500),k=z(8474),M=z(5019),T=z(5191),L=z(8726),I=z(784),S=z(8473),U=z(1702),V=z.n(U),D=z(1274);function G(X){return X instanceof j.ZP||X instanceof j.i2}function A(X){return typeof X.updateContent=="function"}class p extends S.ScrollBlot{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=j.ZP;static allowedChildren=[j.ZP,j.i2,M.Z];constructor(X,w,q){let{emitter:H}=q;super(X,w),this.emitter=H,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",(K)=>this.handleDragStart(K))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const X=this.batch;this.batch=!1,this.update(X)}emitMount(X){this.emitter.emit(D.Z.events.SCROLL_BLOT_MOUNT,X)}emitUnmount(X){this.emitter.emit(D.Z.events.SCROLL_BLOT_UNMOUNT,X)}emitEmbedUpdate(X,w){this.emitter.emit(D.Z.events.SCROLL_EMBED_UPDATE,X,w)}deleteAt(X,w){const[q,H]=this.line(X),[K]=this.line(X+w);if(super.deleteAt(X,w),K!=null&&q!==K&&H>0){if(q instanceof j.i2||K instanceof j.i2)return void this.optimize();const Z=K.children.head instanceof k.Z?null:K.children.head;q.moveChildren(K,Z),q.remove()}this.optimize()}enable(){let X=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",X?"true":"false")}formatAt(X,w,q,H){super.formatAt(X,w,q,H),this.optimize()}insertAt(X,w,q){if(X>=this.length())if(q==null||this.scroll.query(w,S.Scope.BLOCK)==null){const H=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(H),q==null&&w.endsWith("\n")?H.insertAt(0,w.slice(0,-1),q):H.insertAt(0,w,q)}else{const H=this.scroll.create(w,q);this.appendChild(H)}else super.insertAt(X,w,q);this.optimize()}insertBefore(X,w){if(X.statics.scope===S.Scope.INLINE_BLOT){const q=this.scroll.create(this.statics.defaultChild.blotName);q.appendChild(X),super.insertBefore(q,w)}else super.insertBefore(X,w)}insertContents(X,w){const q=this.deltaToRenderBlocks(w.concat(new(V())().insert("\n"))),H=q.pop();if(H==null)return;this.batchStart();const K=q.shift();if(K){const P=K.type==="block"&&(K.delta.length()===0||!this.descendant(j.i2,X)[0]&&X<this.length()),r=K.type==="block"?K.delta:new(V())().insert({[K.key]:K.value});h(this,X,r);const m=K.type==="block"?1:0,v=X+r.length()+m;P&&this.insertAt(v-1,"\n");const n=j.E2(this.line(X)[0]),u=U.AttributeMap.diff(n,K.attributes)||{};Object.keys(u).forEach((l)=>{this.formatAt(v-1,1,l,u[l])}),X=v}let[Z,N]=this.children.find(X);q.length&&(Z&&(Z=Z.split(N),N=0),q.forEach((P)=>{if(P.type==="block")h(this.createBlock(P.attributes,Z||void 0),0,P.delta);else{const r=this.create(P.key,P.value);this.insertBefore(r,Z||void 0),Object.keys(P.attributes).forEach((m)=>{r.format(m,P.attributes[m])})}})),H.type==="block"&&H.delta.length()&&h(this,Z?Z.offset(Z.scroll)+N:this.length(),H.delta),this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(X){const w=this.path(X).pop();if(!w)return[null,-1];const[q,H]=w;return q instanceof S.LeafBlot?[q,H]:[null,-1]}line(X){return X===this.length()?this.line(X-1):this.descendant(G,X)}lines(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const q=(H,K,Z)=>{let N=[],P=Z;return H.children.forEachAt(K,Z,(r,m,v)=>{G(r)?N.push(r):r instanceof S.ContainerBlot&&(N=N.concat(q(r,m,P))),P-=v}),N};return q(this,X,w)}optimize(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(X,w),X.length>0&&this.emitter.emit(D.Z.events.SCROLL_OPTIMIZE,X,w))}path(X){return super.path(X).slice(1)}remove(){}update(X){if(this.batch)return void(Array.isArray(X)&&(this.batch=this.batch.concat(X)));let w=D.Z.sources.USER;typeof X=="string"&&(w=X),Array.isArray(X)||(X=this.observer.takeRecords()),(X=X.filter((q)=>{let{target:H}=q;const K=this.find(H,!0);return K&&!A(K)})).length>0&&this.emitter.emit(D.Z.events.SCROLL_BEFORE_UPDATE,w,X),super.update(X.concat([])),X.length>0&&this.emitter.emit(D.Z.events.SCROLL_UPDATE,w,X)}updateEmbedAt(X,w,q){const[H]=this.descendant((K)=>K instanceof j.i2,X);H&&H.statics.blotName===w&&A(H)&&H.updateContent(q)}handleDragStart(X){X.preventDefault()}deltaToRenderBlocks(X){const w=[];let q=new(V());return X.forEach((H)=>{const K=H?.insert;if(K)if(typeof K=="string"){const Z=K.split("\n");Z.slice(0,-1).forEach((P)=>{q.insert(P,H.attributes),w.push({type:"block",delta:q,attributes:H.attributes??{}}),q=new(V())});const N=Z[Z.length-1];N&&q.insert(N,H.attributes)}else{const Z=Object.keys(K)[0];if(!Z)return;this.query(Z,S.Scope.INLINE)?q.push(H):(q.length()&&w.push({type:"block",delta:q,attributes:{}}),q=new(V()),w.push({type:"blockEmbed",key:Z,value:K[Z],attributes:H.attributes??{}}))}}),q.length()&&w.push({type:"block",delta:q,attributes:{}}),w}createBlock(X,w){let q;const H={};Object.entries(X).forEach((N)=>{let[P,r]=N;this.query(P,S.Scope.BLOCK&S.Scope.BLOT)!=null?q=P:H[P]=r});const K=this.create(q||this.statics.defaultChild.blotName,q?X[q]:void 0);this.insertBefore(K,w||void 0);const Z=K.length();return Object.entries(H).forEach((N)=>{let[P,r]=N;K.formatAt(0,Z,P,r)}),K}}function h(X,w,q){q.reduce((H,K)=>{const Z=U.Op.length(K);let N=K.attributes||{};if(K.insert!=null){if(typeof K.insert=="string"){const P=K.insert;X.insertAt(H,P);const[r]=X.descendant(S.LeafBlot,H),m=j.E2(r);N=U.AttributeMap.diff(m,N)||{}}else if(typeof K.insert=="object"){const P=Object.keys(K.insert)[0];if(P==null)return H;if(X.insertAt(H,P,K.insert[P]),X.scroll.query(P,S.Scope.INLINE)!=null){const[r]=X.descendant(S.LeafBlot,H),m=j.E2(r);N=U.AttributeMap.diff(m,N)||{}}}}return Object.keys(N).forEach((P)=>{X.formatAt(H,Z,P,N[P])}),H+Z},w)}var F1=p,Y1=z(3583),c=z(1453),R=z(8103);class f extends R.Z{lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(X,w){super(X,w),this.quill.on(B.ZP.events.EDITOR_CHANGE,(q,H,K,Z)=>{q===B.ZP.events.SELECTION_CHANGE?H&&Z!==B.ZP.sources.SILENT&&(this.currentRange=H):q===B.ZP.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&Z!==B.ZP.sources.USER?this.transform(H):this.record(H,K)),this.currentRange=g(this.currentRange,H))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:"z",shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",(q)=>{q.inputType==="historyUndo"?(this.undo(),q.preventDefault()):q.inputType==="historyRedo"&&(this.redo(),q.preventDefault())})}change(X,w){if(this.stack[X].length===0)return;const q=this.stack[X].pop();if(!q)return;const H=this.quill.getContents(),K=q.delta.invert(H);this.stack[w].push({delta:K,range:g(q.range,K)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(q.delta,B.ZP.sources.USER),this.ignoreChange=!1,this.restoreSelection(q)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(X,w){if(X.ops.length===0)return;this.stack.redo=[];let q=X.invert(w),H=this.currentRange;const K=Date.now();if(this.lastRecorded+this.options.delay>K&&this.stack.undo.length>0){const Z=this.stack.undo.pop();Z&&(q=q.compose(Z.delta),H=Z.range)}else this.lastRecorded=K;q.length()!==0&&(this.stack.undo.push({delta:q,range:H}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(X){a(this.stack.undo,X),a(this.stack.redo,X)}undo(){this.change("undo","redo")}restoreSelection(X){if(X.range)this.quill.setSelection(X.range,B.ZP.sources.USER);else{const w=function(q,H){const K=H.reduce((N,P)=>N+(P.delete||0),0);let Z=H.length()-K;return function(N,P){const r=P.ops[P.ops.length-1];return r!=null&&(r.insert!=null?typeof r.insert=="string"&&r.insert.endsWith("\n"):r.attributes!=null&&Object.keys(r.attributes).some((m)=>N.query(m,S.Scope.BLOCK)!=null))}(q,H)&&(Z-=1),Z}(this.quill.scroll,X.delta);this.quill.setSelection(w,B.ZP.sources.USER)}}}function a(X,w){let q=w;for(let H=X.length-1;H>=0;H-=1){const K=X[H];X[H]={delta:q.transform(K.delta,!0),range:K.range&&g(K.range,q)},q=K.delta.transform(q),X[H].delta.length()===0&&X.splice(H,1)}}function g(X,w){if(!X)return X;const q=w.transformPosition(X.index);return{index:q,length:w.transformPosition(X.index+X.length)-q}}f.DEFAULTS={delay:1000,maxStack:100,userOnly:!1};var e=z(4283);class D1 extends R.Z{constructor(X,w){super(X,w),X.root.addEventListener("drop",(q)=>{q.preventDefault();let H=null;if(document.caretRangeFromPoint)H=document.caretRangeFromPoint(q.clientX,q.clientY);else if(document.caretPositionFromPoint){const Z=document.caretPositionFromPoint(q.clientX,q.clientY);H=document.createRange(),H.setStart(Z.offsetNode,Z.offset),H.setEnd(Z.offsetNode,Z.offset)}const K=H&&X.selection.normalizeNative(H);if(K){const Z=X.selection.normalizedToRange(K);q.dataTransfer?.files&&this.upload(Z,q.dataTransfer.files)}})}upload(X,w){const q=[];Array.from(w).forEach((H)=>{H&&this.options.mimetypes?.includes(H.type)&&q.push(H)}),q.length>0&&this.options.handler.call(this,X,q)}}D1.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(X,w){const q=w.map((H)=>new Promise((K)=>{const Z=new FileReader;Z.onload=(N)=>{K(N.target.result)},Z.readAsDataURL(H)}));Promise.all(q).then((H)=>{const K=H.reduce((Z,N)=>Z.insert({image:N}),new(V())().retain(X.index).delete(X.length));this.quill.updateContents(K,D.Z.sources.USER),this.quill.setSelection(X.index+H.length,D.Z.sources.SILENT)})}};var K1=D1;const X1=["insertText","insertReplacementText"];class $ extends R.Z{constructor(X,w){super(X,w),X.root.addEventListener("beforeinput",(q)=>{this.handleBeforeInput(q)}),/Android/i.test(navigator.userAgent)||X.on(B.ZP.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(X){e.WQ({range:X,quill:this.quill})}replaceText(X){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(X.length===0)return!1;if(w){const q=this.quill.getFormat(X.index,1);this.deleteRange(X),this.quill.updateContents(new(V())().retain(X.index).insert(w,q),B.ZP.sources.USER)}else this.deleteRange(X);return this.quill.setSelection(X.index+w.length,0,B.ZP.sources.SILENT),!0}handleBeforeInput(X){if(this.quill.composition.isComposing||X.defaultPrevented||!X1.includes(X.inputType))return;const w=X.getTargetRanges?X.getTargetRanges()[0]:null;if(!w||w.collapsed===!0)return;const q=function(Z){return typeof Z.data=="string"?Z.data:Z.dataTransfer?.types.includes("text/plain")?Z.dataTransfer.getData("text/plain"):null}(X);if(q==null)return;const H=this.quill.selection.normalizeNative(w),K=H?this.quill.selection.normalizedToRange(H):null;K&&this.replaceText(K,q)&&X.preventDefault()}handleCompositionStart(){const X=this.quill.getSelection();X&&this.replaceText(X)}}var J=$;const F=/Mac/i.test(navigator.platform);class Q extends R.Z{isListening=!1;selectionChangeDeadline=0;constructor(X,w){super(X,w),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(X,w){let{line:q,event:H}=w;if(!(q instanceof S.ParentBlot&&q.uiNode))return!0;const K=getComputedStyle(q.domNode).direction==="rtl";return!!(K&&H.key!=="ArrowRight"||!K&&H.key!=="ArrowLeft")||(this.quill.setSelection(X.index-1,X.length+(H.shiftKey?1:0),B.ZP.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",(X)=>{!X.defaultPrevented&&((w)=>w.key==="ArrowLeft"||w.key==="ArrowRight"||w.key==="ArrowUp"||w.key==="ArrowDown"||w.key==="Home"||!(!F||w.key!=="a"||w.ctrlKey!==!0))(X)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()},{once:!0}))}handleSelectionChange(){const X=document.getSelection();if(!X)return;const w=X.getRangeAt(0);if(w.collapsed!==!0||w.startOffset!==0)return;const q=this.quill.scroll.find(w.startContainer);if(!(q instanceof S.ParentBlot&&q.uiNode))return;const H=document.createRange();H.setStartAfter(q.uiNode),H.setEndAfter(q.uiNode),X.removeAllRanges(),X.addRange(H)}}var b=Q;B.ZP.register({"blots/block":j.ZP,"blots/block/embed":j.i2,"blots/break":k.Z,"blots/container":M.Z,"blots/cursor":T.Z,"blots/embed":L.Z,"blots/inline":I.Z,"blots/scroll":F1,"blots/text":Y1.Z,"modules/clipboard":c.ZP,"modules/history":f,"modules/keyboard":e.ZP,"modules/uploader":K1,"modules/input":J,"modules/uiNode":b});var C=B.ZP},1274:function(x,O,z){var B=z(161),j=z.n(B),k=z(4431);const M=z(1204).Z("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((L)=>{document.addEventListener(L,function(){for(var I=arguments.length,S=new Array(I),U=0;U<I;U++)S[U]=arguments[U];Array.from(document.querySelectorAll(".ql-container")).forEach((V)=>{const D=k.Z.get(V);D&&D.emitter&&D.emitter.handleDOM(...S)})})});class T extends j(){static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.listeners={},this.on("error",M.error)}emit(){for(var L=arguments.length,I=new Array(L),S=0;S<L;S++)I[S]=arguments[S];return M.log.call(M,...I),super.emit(...I)}handleDOM(L){for(var I=arguments.length,S=new Array(I>1?I-1:0),U=1;U<I;U++)S[U-1]=arguments[U];(this.listeners[L.type]||[]).forEach((V)=>{let{node:D,handler:G}=V;(L.target===D||D.contains(L.target))&&G(L,...S)})}listenDOM(L,I,S){this.listeners[L]||(this.listeners[L]=[]),this.listeners[L].push({node:I,handler:S})}}O.Z=T},4431:function(x,O){O.Z=new WeakMap},1204:function(x,O){const z=["error","warn","log","info"];let B="warn";function j(M){if(B&&z.indexOf(M)<=z.indexOf(B)){for(var T=arguments.length,L=new Array(T>1?T-1:0),I=1;I<T;I++)L[I-1]=arguments[I];console[M](...L)}}function k(M){return z.reduce((T,L)=>(T[L]=j.bind(console,L,M),T),{})}k.level=(M)=>{B=M},j.level=k.level,O.Z=k},8103:function(x,O){O.Z=class{static DEFAULTS={};constructor(z){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=z,this.options=B}}},250:function(x,O,z){z.d(O,{ZP:function(){return C}});var B=z(9534),j=z(1061),k=z(8473),M=z(1702),T=z.n(M),L=z(8489),I=z(3500),S=z(8474),U=z(5191),V=z(3583),D=z(6794);const G=/^[ -~]*$/;function A(H,K,Z){if(H.length===0){const[z1]=F1(Z.pop());return K<=0?`</li></${z1}>`:`</li></${z1}>${A([],K-1,Z)}`}const[{child:N,offset:P,length:r,indent:m,type:v},...n]=H,[u,l]=F1(v);if(m>K)return Z.push(v),m===K+1?`<${u}><li${l}>${p(N,P,r)}${A(n,m,Z)}`:`<${u}><li>${A(H,K+1,Z)}`;const B1=Z[Z.length-1];if(m===K&&v===B1)return`</li><li${l}>${p(N,P,r)}${A(n,m,Z)}`;const[t]=F1(Z.pop());return`</li></${t}>${A(H,K-1,Z)}`}function p(H,K,Z){let N=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if("html"in H&&typeof H.html=="function")return H.html(K,Z);if(H instanceof V.Z)return V.b(H.value().slice(K,K+Z));if(H instanceof k.ParentBlot){if(H.statics.blotName==="list-container"){const u=[];return H.children.forEachAt(K,Z,(l,B1,t)=>{const z1="formats"in l&&typeof l.formats=="function"?l.formats():{};u.push({child:l,offset:B1,length:t,indent:z1.indent||0,type:z1.list})}),A(u,-1,[])}const P=[];if(H.children.forEachAt(K,Z,(u,l,B1)=>{P.push(p(u,l,B1))}),N||H.statics.blotName==="list")return P.join("");const{outerHTML:r,innerHTML:m}=H.domNode,[v,n]=r.split(`>${m}<`);return v==="<table"?`<table style="border: 1px solid #000;">${P.join("")}<${n}`:`${v}>${P.join("")}<${n}`}return H.domNode instanceof Element?H.domNode.outerHTML:""}function h(H,K){return Object.keys(K).reduce((Z,N)=>{if(H[N]==null)return Z;const P=K[N];return P===H[N]?Z[N]=P:Array.isArray(P)?P.indexOf(H[N])<0?Z[N]=P.concat([H[N]]):Z[N]=P:Z[N]=[P,H[N]],Z},{})}function F1(H){const K=H==="ordered"?"ol":"ul";switch(H){case"checked":return[K,' data-list="checked"'];case"unchecked":return[K,' data-list="unchecked"'];default:return[K,""]}}function Y1(H){return H.reduce((K,Z)=>{if(typeof Z.insert=="string"){const N=Z.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return K.insert(N,Z.attributes)}return K.push(Z)},new(T()))}function c(H,K){let{index:Z,length:N}=H;return new D.e(Z+K,N)}var R=class{constructor(H){this.scroll=H,this.delta=this.getDelta()}applyDelta(H){this.scroll.update();let K=this.scroll.length();this.scroll.batchStart();const Z=Y1(H),N=new(T());return function(P){const r=[];return P.forEach((m)=>{typeof m.insert=="string"?m.insert.split("\n").forEach((v,n)=>{n&&r.push({insert:"\n",attributes:m.attributes}),v&&r.push({insert:v,attributes:m.attributes})}):r.push(m)}),r}(Z.ops.slice()).reduce((P,r)=>{const m=M.Op.length(r);let v=r.attributes||{},n=!1,u=!1;if(r.insert!=null){if(N.retain(m),typeof r.insert=="string"){const t=r.insert;u=!t.endsWith("\n")&&(K<=P||!!this.scroll.descendant(I.i2,P)[0]),this.scroll.insertAt(P,t);const[z1,L1]=this.scroll.line(P);let V1=B.Z({},I.E2(z1));if(z1 instanceof I.ZP){const[O1]=z1.descendant(k.LeafBlot,L1);O1&&(V1=B.Z(V1,I.E2(O1)))}v=M.AttributeMap.diff(V1,v)||{}}else if(typeof r.insert=="object"){const t=Object.keys(r.insert)[0];if(t==null)return P;const z1=this.scroll.query(t,k.Scope.INLINE)!=null;if(z1)(K<=P||this.scroll.descendant(I.i2,P)[0])&&(u=!0);else if(P>0){const[L1,V1]=this.scroll.descendant(k.LeafBlot,P-1);L1 instanceof V.Z?L1.value()[V1]!=="\n"&&(n=!0):L1 instanceof k.EmbedBlot&&L1.statics.scope===k.Scope.INLINE_BLOT&&(n=!0)}if(this.scroll.insertAt(P,t,r.insert[t]),z1){const[L1]=this.scroll.descendant(k.LeafBlot,P);if(L1){const V1=B.Z({},I.E2(L1));v=M.AttributeMap.diff(V1,v)||{}}}}K+=m}else if(N.push(r),r.retain!==null&&typeof r.retain=="object"){const t=Object.keys(r.retain)[0];if(t==null)return P;this.scroll.updateEmbedAt(P,t,r.retain[t])}Object.keys(v).forEach((t)=>{this.scroll.formatAt(P,m,t,v[t])});const l=n?1:0,B1=u?1:0;return K+=l+B1,N.retain(l),N.delete(B1),P+m+l+B1},0),N.reduce((P,r)=>typeof r.delete=="number"?(this.scroll.deleteAt(P,r.delete),P):P+M.Op.length(r),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(Z)}deleteText(H,K){return this.scroll.deleteAt(H,K),this.update(new(T())().retain(H).delete(K))}formatLine(H,K){let Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(Z).forEach((P)=>{this.scroll.lines(H,Math.max(K,1)).forEach((r)=>{r.format(P,Z[P])})}),this.scroll.optimize();const N=new(T())().retain(H).retain(K,j.Z(Z));return this.update(N)}formatText(H,K){let Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(Z).forEach((P)=>{this.scroll.formatAt(H,K,P,Z[P])});const N=new(T())().retain(H).retain(K,j.Z(Z));return this.update(N)}getContents(H,K){return this.delta.slice(H,H+K)}getDelta(){return this.scroll.lines().reduce((H,K)=>H.concat(K.delta()),new(T()))}getFormat(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=[],N=[];K===0?this.scroll.path(H).forEach((m)=>{const[v]=m;v instanceof I.ZP?Z.push(v):v instanceof k.LeafBlot&&N.push(v)}):(Z=this.scroll.lines(H,K),N=this.scroll.descendants(k.LeafBlot,H,K));const[P,r]=[Z,N].map((m)=>{const v=m.shift();if(v==null)return{};let n=I.E2(v);for(;Object.keys(n).length>0;){const u=m.shift();if(u==null)return n;n=h(I.E2(u),n)}return n});return{...P,...r}}getHTML(H,K){const[Z,N]=this.scroll.line(H);if(Z){const P=Z.length();return Z.length()>=N+K?p(Z,N,K,!(N===0&&K===P)):p(this.scroll,H,K,!0)}return""}getText(H,K){return this.getContents(H,K).filter((Z)=>typeof Z.insert=="string").map((Z)=>Z.insert).join("")}insertContents(H,K){const Z=Y1(K),N=new(T())().retain(H).concat(Z);return this.scroll.insertContents(H,Z),this.update(N)}insertEmbed(H,K,Z){return this.scroll.insertAt(H,K,Z),this.update(new(T())().retain(H).insert({[K]:Z}))}insertText(H,K){let Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return K=K.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(H,K),Object.keys(Z).forEach((N)=>{this.scroll.formatAt(H,K.length,N,Z[N])}),this.update(new(T())().retain(H).insert(K,j.Z(Z)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const H=this.scroll.children.head;if(H?.statics.blotName!==I.ZP.blotName)return!1;const K=H;return!(K.children.length>1)&&K.children.head instanceof S.Z}removeFormat(H,K){const Z=this.getText(H,K),[N,P]=this.scroll.line(H+K);let r=0,m=new(T());N!=null&&(r=N.length()-P,m=N.delta().slice(P,P+r-1).insert("\n"));const v=this.getContents(H,K+r).diff(new(T())().insert(Z).concat(m)),n=new(T())().retain(H).concat(v);return this.applyDelta(n)}update(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const N=this.delta;if(K.length===1&&K[0].type==="characterData"&&K[0].target.data.match(G)&&this.scroll.find(K[0].target)){const P=this.scroll.find(K[0].target),r=I.E2(P),m=P.offset(this.scroll),v=K[0].oldValue.replace(U.Z.CONTENTS,""),n=new(T())().insert(v),u=new(T())().insert(P.value()),l=Z&&{oldRange:c(Z.oldRange,-m),newRange:c(Z.newRange,-m)};H=new(T())().retain(m).concat(n.diff(u,l)).reduce((B1,t)=>t.insert?B1.insert(t.insert,r):B1.push(t),new(T())),this.delta=N.compose(H)}else this.delta=this.getDelta(),H&&L.Z(N.compose(H),this.delta)||(H=N.diff(this.delta,Z));return H}},f=z(1274),a=z(4431),g=z(1204),e=z(8103),D1=z(8726),K1=class{isComposing=!1;constructor(H,K){this.scroll=H,this.emitter=K,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",(H)=>{this.isComposing||this.handleCompositionStart(H)}),this.scroll.domNode.addEventListener("compositionend",(H)=>{this.isComposing&&this.handleCompositionEnd(H)})}handleCompositionStart(H){const K=H.target instanceof Node?this.scroll.find(H.target,!0):null;!K||K instanceof D1.Z||(this.emitter.emit(f.Z.events.COMPOSITION_BEFORE_START,H),this.scroll.batchStart(),this.emitter.emit(f.Z.events.COMPOSITION_START,H),this.isComposing=!0)}handleCompositionEnd(H){this.emitter.emit(f.Z.events.COMPOSITION_BEFORE_END,H),this.scroll.batchEnd(),this.emitter.emit(f.Z.events.COMPOSITION_END,H),this.isComposing=!1}},X1=z(6760);const $=(H)=>{const K=H.getBoundingClientRect(),Z="offsetWidth"in H&&Math.abs(K.width)/H.offsetWidth||1,N="offsetHeight"in H&&Math.abs(K.height)/H.offsetHeight||1;return{top:K.top,right:K.left+H.clientWidth*Z,bottom:K.top+H.clientHeight*N,left:K.left}},J=(H)=>{const K=parseInt(H,10);return Number.isNaN(K)?0:K},F=(H,K,Z,N,P,r)=>H<Z&&K>N?0:H<Z?-(Z-H+P):K>N?K-H>N-Z?H+P-Z:K-N+r:0,Q=g.Z("quill"),b=new k.Registry;k.ParentBlot.uiClass="ql-ui";class C{static DEFAULTS={bounds:null,modules:{},placeholder:"",readOnly:!1,registry:b,theme:"default"};static events=f.Z.events;static sources=f.Z.sources;static version="2.0.0-beta.0";static imports={delta:T(),parchment:k,"core/module":e.Z,"core/theme":X1.Z};static debug(H){H===!0&&(H="log"),g.Z.level(H)}static find(H){let K=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return a.Z.get(H)||b.find(H,K)}static import(H){return this.imports[H]==null&&Q.error(`Cannot import ${H}. Are you sure it was registered?`),this.imports[H]}static register(H,K){let Z=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(typeof H!="string"){const N="attrName"in H?H.attrName:H.blotName;typeof N=="string"?this.register(`formats/${N}`,H,K):Object.keys(H).forEach((P)=>{this.register(P,H[P],K)})}else this.imports[H]==null||Z||Q.warn(`Overwriting ${H} with`,K),this.imports[H]=K,(H.startsWith("blots/")||H.startsWith("formats/"))&&K.blotName!=="abstract"&&b.register(K),typeof K.register=="function"&&K.register(b)}constructor(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=function(P,r){let m=B.Z({container:P,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0}},r);if(m.theme&&m.theme!==C.DEFAULTS.theme){if(m.theme=C.import(`themes/${m.theme}`),m.theme==null)throw new Error(`Invalid theme ${m.theme}. Did you register it?`)}else m.theme=X1.Z;const v=j.Z(m.theme.DEFAULTS);[v,m].forEach((u)=>{u.modules=u.modules||{},Object.keys(u.modules).forEach((l)=>{u.modules[l]===!0&&(u.modules[l]={})})});const n=Object.keys(v.modules).concat(Object.keys(m.modules)).reduce((u,l)=>{const B1=C.import(`modules/${l}`);return B1==null?Q.error(`Cannot load ${l} module. Are you sure you registered it?`):u[l]=B1.DEFAULTS||{},u},{});return m.modules!=null&&m.modules.toolbar&&m.modules.toolbar.constructor!==Object&&(m.modules.toolbar={container:m.modules.toolbar}),m=B.Z({},C.DEFAULTS,{modules:n},v,m),["bounds","container"].forEach((u)=>{const l=m[u];typeof l=="string"&&(m[u]=document.querySelector(l))}),m.modules=Object.keys(m.modules).reduce((u,l)=>(m.modules[l]&&(u[l]=m.modules[l]),u),{}),m}(H,K),this.container=this.options.container,this.container==null)return void Q.error("Invalid Quill container",H);this.options.debug&&C.debug(this.options.debug);const Z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",a.Z.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new f.Z;const N=this.options.registry.query(k.ScrollBlot.blotName);if(this.scroll=new N(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new R(this.scroll),this.selection=new D.Z(this.scroll,this.emitter),this.composition=new K1(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(f.Z.events.EDITOR_CHANGE,(P)=>{P===f.Z.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(f.Z.events.SCROLL_UPDATE,(P,r)=>{const m=this.selection.lastRange,[v]=this.selection.getRange(),n=m&&v?{oldRange:m,newRange:v}:void 0;X.call(this,()=>this.editor.update(null,r,n),P)}),this.emitter.on(f.Z.events.SCROLL_EMBED_UPDATE,(P,r)=>{const m=this.selection.lastRange,[v]=this.selection.getRange(),n=m&&v?{oldRange:m,newRange:v}:void 0;X.call(this,()=>{const u=new(T())().retain(P.offset(this)).retain({[P.statics.blotName]:r});return this.editor.update(u,[],n)},C.sources.USER)}),Z){const P=this.clipboard.convert({html:`${Z}<p><br></p>`,text:"\n"});this.setContents(P)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof H=="string"){const Z=H;(H=document.createElement("div")).classList.add(Z)}return this.container.insertBefore(H,K),H}blur(){this.selection.setRange(null)}deleteText(H,K,Z){return[H,K,,Z]=w(H,K,Z),X.call(this,()=>this.editor.deleteText(H,K),Z,H,-1*K)}disable(){this.enable(!1)}editReadOnly(H){this.allowReadOnlyEdits=!0;const K=H();return this.allowReadOnlyEdits=!1,K}enable(){let H=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(H),this.container.classList.toggle("ql-disabled",!H)}focus(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),H.preventScroll||this.scrollSelectionIntoView()}format(H,K){let Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:f.Z.sources.API;return X.call(this,()=>{const N=this.getSelection(!0);let P=new(T());if(N==null)return P;if(this.scroll.query(H,k.Scope.BLOCK))P=this.editor.formatLine(N.index,N.length,{[H]:K});else{if(N.length===0)return this.selection.format(H,K),P;P=this.editor.formatText(N.index,N.length,{[H]:K})}return this.setSelection(N,f.Z.sources.SILENT),P},Z)}formatLine(H,K,Z,N,P){let r;return[H,K,r,P]=w(H,K,Z,N,P),X.call(this,()=>this.editor.formatLine(H,K,r),P,H,0)}formatText(H,K,Z,N,P){let r;return[H,K,r,P]=w(H,K,Z,N,P),X.call(this,()=>this.editor.formatText(H,K,r),P,H,0)}getBounds(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Z=null;if(Z=typeof H=="number"?this.selection.getBounds(H,K):this.selection.getBounds(H.index,H.length),!Z)return null;const N=this.container.getBoundingClientRect();return{bottom:Z.bottom-N.top,height:Z.height,left:Z.left-N.left,right:Z.right-N.left,top:Z.top-N.top,width:Z.width}}getContents(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-H;return[H,K]=w(H,K),this.editor.getContents(H,K)}getFormat(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof H=="number"?this.editor.getFormat(H,K):this.editor.getFormat(H.index,H.length)}getIndex(H){return H.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(H){return this.scroll.leaf(H)}getLine(H){return this.scroll.line(H)}getLines(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof H!="number"?this.scroll.lines(H.index,H.length):this.scroll.lines(H,K)}getModule(H){return this.theme.modules[H]}getSelection(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,K=arguments.length>1?arguments[1]:void 0;return typeof H=="number"&&(K=this.getLength()-H),[H,K]=w(H,K),this.editor.getHTML(H,K)}getText(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,K=arguments.length>1?arguments[1]:void 0;return typeof H=="number"&&(K=this.getLength()-H),[H,K]=w(H,K),this.editor.getText(H,K)}hasFocus(){return this.selection.hasFocus()}insertEmbed(H,K,Z){let N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:C.sources.API;return X.call(this,()=>this.editor.insertEmbed(H,K,Z),N,H)}insertText(H,K,Z,N,P){let r;return[H,,r,P]=w(H,0,Z,N,P),X.call(this,()=>this.editor.insertText(H,K,r),P,H,K.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(){const[H,K,,Z]=w(...arguments);return X.call(this,()=>this.editor.removeFormat(H,K),Z,H)}scrollRectIntoView(H){((K,Z)=>{const N=K.ownerDocument;let P=Z,r=K;for(;r;){const v=r===N.body,n=v?{top:0,right:window.visualViewport?.width??N.documentElement.clientWidth,bottom:window.visualViewport?.height??N.documentElement.clientHeight,left:0}:$(r),u=getComputedStyle(r),l=F(P.left,P.right,n.left,n.right,J(u.scrollPaddingLeft),J(u.scrollPaddingRight)),B1=F(P.top,P.bottom,n.top,n.bottom,J(u.scrollPaddingTop),J(u.scrollPaddingBottom));if(l||B1)if(v)N.defaultView?.scrollBy(l,B1);else{const{scrollLeft:t,scrollTop:z1}=r;B1&&(r.scrollTop+=B1),l&&(r.scrollLeft+=l);const L1=r.scrollLeft-t,V1=r.scrollTop-z1;P={left:P.left-L1,top:P.top-V1,right:P.right-L1,bottom:P.bottom-V1}}r=v||u.position==="fixed"?null:(m=r).parentElement||m.getRootNode().host||null}var m})(this.root,H)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const H=this.selection.lastRange,K=H&&this.selection.getBounds(H.index,H.length);K&&this.scrollRectIntoView(K)}setContents(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.Z.sources.API;return X.call(this,()=>{H=new(T())(H);const Z=this.getLength(),N=this.editor.deleteText(0,Z),P=this.editor.insertContents(0,H),r=this.editor.deleteText(this.getLength()-1,1);return N.compose(P).compose(r)},K)}setSelection(H,K,Z){H==null?this.selection.setRange(null,K||C.sources.API):([H,K,,Z]=w(H,K,Z),this.selection.setRange(new D.e(Math.max(0,H),K),Z),Z!==f.Z.sources.SILENT&&this.scrollSelectionIntoView())}setText(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.Z.sources.API;const Z=new(T())().insert(H);return this.setContents(Z,K)}update(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:f.Z.sources.USER;const K=this.scroll.update(H);return this.selection.update(H),K}updateContents(H){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f.Z.sources.API;return X.call(this,()=>(H=new(T())(H),this.editor.applyDelta(H)),K,!0)}}function X(H,K,Z,N){if(!this.isEnabled()&&K===f.Z.sources.USER&&!this.allowReadOnlyEdits)return new(T());let P=Z==null?null:this.getSelection();const r=this.editor.delta,m=H();if(P!=null&&(Z===!0&&(Z=P.index),N==null?P=q(P,m,K):N!==0&&(P=q(P,Z,N,K)),this.setSelection(P,f.Z.sources.SILENT)),m.length()>0){const v=[f.Z.events.TEXT_CHANGE,m,r,K];this.emitter.emit(f.Z.events.EDITOR_CHANGE,...v),K!==f.Z.sources.SILENT&&this.emitter.emit(...v)}return m}function w(H,K,Z,N,P){let r={};return typeof H.index=="number"&&typeof H.length=="number"?typeof K!="number"?(P=N,N=Z,Z=K,K=H.length,H=H.index):(K=H.length,H=H.index):typeof K!="number"&&(P=N,N=Z,Z=K,K=0),typeof Z=="object"?(r=Z,P=N):typeof Z=="string"&&(N!=null?r[Z]=N:P=Z),[H,K,r,P=P||f.Z.sources.API]}function q(H,K,Z,N){const P=typeof Z=="number"?Z:0;if(H==null)return null;let r,m;return K&&typeof K.transformPosition=="function"?[r,m]=[H.index,H.index+H.length].map((v)=>K.transformPosition(v,N!==f.Z.sources.USER)):[r,m]=[H.index,H.index+H.length].map((v)=>v<K||v===K&&N===f.Z.sources.USER?v:P>=0?v+P:Math.max(K,v+P)),new D.e(r,m-r)}},6794:function(x,O,z){z.d(O,{Z:function(){return I},e:function(){return L}});var B=z(8473),j=z(8489),k=z(1061),M=z(1274);const T=z(1204).Z("quill:selection");class L{constructor(U){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=U,this.length=V}}class I{constructor(U,V){this.emitter=V,this.scroll=U,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new L(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,M.Z.sources.USER),1)}),this.emitter.on(M.Z.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const D=this.getNativeRange();D!=null&&D.start.node!==this.cursor.textNode&&this.emitter.once(M.Z.events.SCROLL_UPDATE,(G,A)=>{try{this.root.contains(D.start.node)&&this.root.contains(D.end.node)&&this.setNativeRange(D.start.node,D.start.offset,D.end.node,D.end.offset);const p=A.some((h)=>h.type==="characterData"||h.type==="childList"||h.type==="attributes"&&h.target===this.root);this.update(p?M.Z.sources.SILENT:G)}catch(p){}})}),this.emitter.on(M.Z.events.SCROLL_OPTIMIZE,(D,G)=>{if(G.range){const{startNode:A,startOffset:p,endNode:h,endOffset:F1}=G.range;this.setNativeRange(A,p,h,F1),this.update(M.Z.sources.SILENT)}}),this.update(M.Z.sources.SILENT)}handleComposition(){this.emitter.on(M.Z.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(M.Z.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const U=this.cursor.restore();if(!U)return;setTimeout(()=>{this.setNativeRange(U.startNode,U.startOffset,U.endNode,U.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(M.Z.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(U,V){this.scroll.update();const D=this.getNativeRange();if(D!=null&&D.native.collapsed&&!this.scroll.query(U,B.Scope.BLOCK)){if(D.start.node!==this.cursor.textNode){const G=this.scroll.find(D.start.node,!1);if(G==null)return;if(G instanceof B.LeafBlot){const A=G.split(D.start.offset);G.parent.insertBefore(this.cursor,A)}else G.insertBefore(this.cursor,D.start.node);this.cursor.attach()}this.cursor.format(U,V),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(U){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const D=this.scroll.length();let G;U=Math.min(U,D-1),V=Math.min(U+V,D-1)-U;let[A,p]=this.scroll.leaf(U);if(A==null)return null;[G,p]=A.position(p,!0);const h=document.createRange();if(V>0)return h.setStart(G,p),[A,p]=this.scroll.leaf(U+V),A==null?null:([G,p]=A.position(p,!0),h.setEnd(G,p),h.getBoundingClientRect());let F1,Y1="left";if(G instanceof Text){if(!G.data.length)return null;p<G.data.length?(h.setStart(G,p),h.setEnd(G,p+1)):(h.setStart(G,p-1),h.setEnd(G,p),Y1="right"),F1=h.getBoundingClientRect()}else{if(!(A.domNode instanceof Element))return null;F1=A.domNode.getBoundingClientRect(),p>0&&(Y1="right")}return{bottom:F1.top+F1.height,height:F1.height,left:F1[Y1],right:F1[Y1],top:F1.top,width:0}}getNativeRange(){const U=document.getSelection();if(U==null||U.rangeCount<=0)return null;const V=U.getRangeAt(0);if(V==null)return null;const D=this.normalizeNative(V);return T.info("getNativeRange",D),D}getRange(){const U=this.scroll.domNode;if("isConnected"in U&&!U.isConnected)return[null,null];const V=this.getNativeRange();return V==null?[null,null]:[this.normalizedToRange(V),V]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&S(this.root,document.activeElement)}normalizedToRange(U){const V=[[U.start.node,U.start.offset]];U.native.collapsed||V.push([U.end.node,U.end.offset]);const D=V.map((p)=>{const[h,F1]=p,Y1=this.scroll.find(h,!0),c=Y1.offset(this.scroll);return F1===0?c:Y1 instanceof B.LeafBlot?c+Y1.index(h,F1):c+Y1.length()}),G=Math.min(Math.max(...D),this.scroll.length()-1),A=Math.min(G,...D);return new L(A,G-A)}normalizeNative(U){if(!S(this.root,U.startContainer)||!U.collapsed&&!S(this.root,U.endContainer))return null;const V={start:{node:U.startContainer,offset:U.startOffset},end:{node:U.endContainer,offset:U.endOffset},native:U};return[V.start,V.end].forEach((D)=>{let{node:G,offset:A}=D;for(;!(G instanceof Text)&&G.childNodes.length>0;)if(G.childNodes.length>A)G=G.childNodes[A],A=0;else{if(G.childNodes.length!==A)break;G=G.lastChild,A=G instanceof Text?G.data.length:G.childNodes.length>0?G.childNodes.length:G.childNodes.length+1}D.node=G,D.offset=A}),V}rangeToNative(U){const V=this.scroll.length(),D=(G,A)=>{G=Math.min(V-1,G);const[p,h]=this.scroll.leaf(G);return p?p.position(h,A):[null,-1]};return[...D(U.index,!1),...D(U.index+U.length,!0)]}setNativeRange(U,V){let D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:V,A=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(T.info("setNativeRange",U,V,D,G),U!=null&&(this.root.parentNode==null||U.parentNode==null||D.parentNode==null))return;const p=document.getSelection();if(p!=null)if(U!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:h}=this.getNativeRange()||{};if(h==null||A||U!==h.startContainer||V!==h.startOffset||D!==h.endContainer||G!==h.endOffset){U instanceof Element&&U.tagName==="BR"&&(V=Array.from(U.parentNode.childNodes).indexOf(U),U=U.parentNode),D instanceof Element&&D.tagName==="BR"&&(G=Array.from(D.parentNode.childNodes).indexOf(D),D=D.parentNode);const F1=document.createRange();F1.setStart(U,V),F1.setEnd(D,G),p.removeAllRanges(),p.addRange(F1)}}else p.removeAllRanges(),this.root.blur()}setRange(U){let V=arguments.length>1&&arguments[1]!==void 0&&arguments[1],D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:M.Z.sources.API;if(typeof V=="string"&&(D=V,V=!1),T.info("setRange",U),U!=null){const G=this.rangeToNative(U);this.setNativeRange(...G,V)}else this.setNativeRange(null);this.update(D)}update(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:M.Z.sources.USER;const V=this.lastRange,[D,G]=this.getRange();if(this.lastRange=D,this.lastNative=G,this.lastRange!=null&&(this.savedRange=this.lastRange),!j.Z(V,this.lastRange)){if(!this.composing&&G!=null&&G.native.collapsed&&G.start.node!==this.cursor.textNode){const p=this.cursor.restore();p&&this.setNativeRange(p.startNode,p.startOffset,p.endNode,p.endOffset)}const A=[M.Z.events.SELECTION_CHANGE,k.Z(this.lastRange),k.Z(V),U];this.emitter.emit(M.Z.events.EDITOR_CHANGE,...A),U!==M.Z.sources.SILENT&&this.emitter.emit(...A)}}}function S(U,V){try{V.parentNode}catch(D){return!1}return U.contains(V)}},6760:function(x,O){class z{static DEFAULTS={modules:{}};static themes={default:z};modules={};constructor(B,j){this.quill=B,this.options=j}init(){Object.keys(this.options.modules).forEach((B)=>{this.modules[B]==null&&this.addModule(B)})}addModule(B){const j=this.quill.constructor.import(`modules/${B}`);return this.modules[B]=new j(this.quill,this.options.modules[B]||{}),this.modules[B]}}O.Z=z},767:function(x,O,z){z.d(O,{HE:function(){return T},dk:function(){return M},if:function(){return k}});var B=z(8473);const j={scope:B.Scope.BLOCK,whitelist:["right","center","justify"]},k=new B.Attributor("align","align",j),M=new B.ClassAttributor("align","ql-align",j),T=new B.StyleAttributor("align","text-align",j)},4352:function(x,O,z){z.d(O,{Y:function(){return k},w:function(){return M}});var B=z(8473),j=z(2179);const k=new B.ClassAttributor("background","ql-bg",{scope:B.Scope.INLINE}),M=new j.OO("background","background-color",{scope:B.Scope.INLINE})},7391:function(x,O,z){z.d(O,{EK:function(){return V},ZP:function(){return U},se:function(){return S}});var B=z(3500),j=z(8474),k=z(5191),M=z(784),T=z(3583),L=z(5019),I=z(250);class S extends L.Z{static create(D){const G=super.create(D);return G.setAttribute("spellcheck","false"),G}code(D,G){return this.children.map((A)=>A.length()<=1?"":A.domNode.innerText).join("\n").slice(D,D+G)}html(D,G){return`<pre>\n${T.b(this.code(D,G))}\n</pre>`}}class U extends B.ZP{static TAB="  ";static register(){I.ZP.register(S)}}class V extends M.Z{}V.blotName="code",V.tagName="CODE",U.blotName="code-block",U.className="ql-code-block",U.tagName="DIV",S.blotName="code-block-container",S.className="ql-code-block-container",S.tagName="DIV",S.allowedChildren=[U],U.allowedChildren=[T.Z,j.Z,k.Z],U.requiredContainer=S},2179:function(x,O,z){z.d(O,{HQ:function(){return M},Hn:function(){return k},OO:function(){return j}});var B=z(8473);class j extends B.StyleAttributor{value(T){let L=super.value(T);return L.startsWith("rgb(")?(L=L.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${L.split(",").map((I)=>`00${parseInt(I,10).toString(16)}`.slice(-2)).join("")}`):L}}const k=new B.ClassAttributor("color","ql-color",{scope:B.Scope.INLINE}),M=new j("color","color",{scope:B.Scope.INLINE})},6880:function(x,O,z){z.d(O,{H8:function(){return T},IF:function(){return k},hY:function(){return M}});var B=z(8473);const j={scope:B.Scope.BLOCK,whitelist:["rtl"]},k=new B.Attributor("direction","dir",j),M=new B.ClassAttributor("direction","ql-direction",j),T=new B.StyleAttributor("direction","direction",j)},5351:function(x,O,z){z.d(O,{H:function(){return T},_:function(){return k}});var B=z(8473);const j={scope:B.Scope.INLINE,whitelist:["serif","monospace"]},k=new B.ClassAttributor("font","ql-font",j);class M extends B.StyleAttributor{value(L){return super.value(L).replace(/["']/g,"")}}const T=new M("font","font-family",j)},8312:function(x,O,z){z.d(O,{Z:function(){return k},m:function(){return j}});var B=z(8473);const j=new B.ClassAttributor("size","ql-size",{scope:B.Scope.INLINE,whitelist:["small","large","huge"]}),k=new B.StyleAttributor("size","font-size",{scope:B.Scope.INLINE,whitelist:["10px","18px","32px"]})},1453:function(x,O,z){z.d(O,{ZP:function(){return f},fw:function(){return X1}});var B=z(8473),j=z(1702),k=z.n(j),M=z(3500),T=z(1204),L=z(8103),I=z(250),S=z(767),U=z(4352),V=z(7391),D=z(2179),G=z(6880),A=z(5351),p=z(8312),h=z(4283);const F1=T.Z("quill:clipboard"),Y1=[[Node.TEXT_NODE,function(F,Q){let b=F.data;if(F.parentElement?.tagName==="O:P")return Q.insert(b.trim());if(!K1(F)){if(b.trim().length===0&&b.includes("\n"))return Q;const C=(X,w)=>{const q=w.replace(/[^\u00a0]/g,"");return q.length<1&&X?" ":q};b=b.replace(/\r\n/g," ").replace(/\n/g," "),b=b.replace(/\s\s+/g,C.bind(C,!0)),(F.previousSibling==null&&F.parentElement!=null&&e(F.parentElement)||F.previousSibling instanceof Element&&e(F.previousSibling))&&(b=b.replace(/^\s+/,C.bind(C,!1))),(F.nextSibling==null&&F.parentElement!=null&&e(F.parentElement)||F.nextSibling instanceof Element&&e(F.nextSibling))&&(b=b.replace(/\s+$/,C.bind(C,!1)))}return Q.insert(b)}],[Node.TEXT_NODE,J],["br",function(F,Q){return g(Q,"\n")||Q.insert("\n"),Q}],[Node.ELEMENT_NODE,J],[Node.ELEMENT_NODE,function(F,Q,b){const C=b.query(F);if(C==null)return Q;if(C.prototype instanceof B.EmbedBlot){const X={},w=C.value(F);if(w!=null)return X[C.blotName]=w,new(k())().insert(X,C.formats(F,b))}else if(C.prototype instanceof B.BlockBlot&&!g(Q,"\n")&&Q.insert("\n"),typeof C.formats=="function")return a(Q,C.blotName,C.formats(F,b));return Q}],[Node.ELEMENT_NODE,function(F,Q,b){const C=B.Attributor.keys(F),X=B.ClassAttributor.keys(F),w=B.StyleAttributor.keys(F),q={};return C.concat(X).concat(w).forEach((H)=>{let K=b.query(H,B.Scope.ATTRIBUTE);K!=null&&(q[K.attrName]=K.value(F),q[K.attrName])||(K=c[H],K==null||K.attrName!==H&&K.keyName!==H||(q[K.attrName]=K.value(F)||void 0),K=R[H],K==null||K.attrName!==H&&K.keyName!==H||(K=R[H],q[K.attrName]=K.value(F)||void 0))}),Object.keys(q).length>0?a(Q,q):Q}],[Node.ELEMENT_NODE,function(F,Q){const b={},C=F.style||{};return C.fontStyle==="italic"&&(b.italic=!0),C.textDecoration==="underline"&&(b.underline=!0),C.textDecoration==="line-through"&&(b.strike=!0),(C.fontWeight?.startsWith("bold")||parseInt(C.fontWeight,10)>=700)&&(b.bold=!0),Object.keys(b).length>0&&(Q=a(Q,b)),parseFloat(C.textIndent||0)>0?new(k())().insert("\t").concat(Q):Q}],["li",function(F,Q,b){const C=b.query(F);if(C==null||C.blotName!=="list"||!g(Q,"\n"))return Q;let X=-1,w=F.parentNode;for(;w!=null;)["OL","UL"].includes(w.tagName)&&(X+=1),w=w.parentNode;return X<=0?Q:Q.reduce((q,H)=>H.attributes&&typeof H.attributes.indent=="number"?q.push(H):q.insert(H.insert,{indent:X,...H.attributes||{}}),new(k()))}],["ol, ul",function(F,Q){return a(Q,"list",F.tagName==="OL"?"ordered":"bullet")}],["pre",function(F,Q,b){const C=b.query("code-block");return a(Q,"code-block",!C||C.formats(F,b))}],["tr",function(F,Q){const b=F.parentElement?.tagName==="TABLE"?F.parentElement:F.parentElement?.parentElement;if(b!=null)return a(Q,"table",Array.from(b.querySelectorAll("tr")).indexOf(F)+1)}],["b",$.bind($,"bold")],["i",$.bind($,"italic")],["strike",$.bind($,"strike")],["style",function(){return new(k())}]],c=[S.if,G.IF].reduce((F,Q)=>(F[Q.keyName]=Q,F),{}),R=[S.HE,U.w,D.HQ,G.H8,A.H,p.Z].reduce((F,Q)=>(F[Q.keyName]=Q,F),{});class f extends L.Z{constructor(F,Q){super(F,Q),this.quill.root.addEventListener("copy",(b)=>this.onCaptureCopy(b,!1)),this.quill.root.addEventListener("cut",(b)=>this.onCaptureCopy(b,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],Y1.concat(this.options.matchers).forEach((b)=>{let[C,X]=b;this.addMatcher(C,X)})}addMatcher(F,Q){this.matchers.push([F,Q])}convert(F){let{html:Q,text:b}=F,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(C[V.ZP.blotName])return new(k())().insert(b||"",{[V.ZP.blotName]:C[V.ZP.blotName]});if(!Q)return new(k())().insert(b||"");const X=this.convertHTML(Q);return g(X,"\n")&&(X.ops[X.ops.length-1].attributes==null||C.table)?X.compose(new(k())().retain(X.length()-1).delete(1)):X}convertHTML(F){const Q=new DOMParser().parseFromString(F,"text/html").body,b=new WeakMap,[C,X]=this.prepareMatching(Q,b);return X1(this.quill.scroll,Q,C,X,b)}dangerouslyPasteHTML(F,Q){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I.ZP.sources.API;if(typeof F=="string"){const C=this.convert({html:F,text:""});this.quill.setContents(C,Q),this.quill.setSelection(0,I.ZP.sources.SILENT)}else{const C=this.convert({html:Q,text:""});this.quill.updateContents(new(k())().retain(F).concat(C),b),this.quill.setSelection(F+C.length(),I.ZP.sources.SILENT)}}onCaptureCopy(F){let Q=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(F.defaultPrevented)return;F.preventDefault();const[b]=this.quill.selection.getRange();if(b==null)return;const{html:C,text:X}=this.onCopy(b,Q);F.clipboardData?.setData("text/plain",X),F.clipboardData?.setData("text/html",C),Q&&h.WQ({range:b,quill:this.quill})}onCapturePaste(F){if(F.defaultPrevented||!this.quill.isEnabled())return;F.preventDefault();const Q=this.quill.getSelection(!0);if(Q==null)return;const b=F.clipboardData?.getData("text/html"),C=F.clipboardData?.getData("text/plain"),X=Array.from(F.clipboardData?.files||[]);if(!b&&X.length>0)this.quill.uploader.upload(Q,X);else{if(b&&X.length>0){const w=new DOMParser().parseFromString(b,"text/html");if(w.body.childElementCount===1&&w.body.firstElementChild?.tagName==="IMG")return void this.quill.uploader.upload(Q,X)}this.onPaste(Q,{html:b,text:C})}}onCopy(F){const Q=this.quill.getText(F);return{html:this.quill.getSemanticHTML(F),text:Q}}onPaste(F,Q){let{text:b,html:C}=Q;const X=this.quill.getFormat(F.index),w=this.convert({text:b,html:C},X);F1.log("onPaste",w,{text:b,html:C});const q=new(k())().retain(F.index).delete(F.length).concat(w);this.quill.updateContents(q,I.ZP.sources.USER),this.quill.setSelection(q.length()-F.length,I.ZP.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(F,Q){const b=[],C=[];return this.matchers.forEach((X)=>{const[w,q]=X;switch(w){case Node.TEXT_NODE:C.push(q);break;case Node.ELEMENT_NODE:b.push(q);break;default:Array.from(F.querySelectorAll(w)).forEach((H)=>{if(Q.has(H))Q.get(H)?.push(q);else Q.set(H,[q])})}}),[b,C]}}function a(F,Q,b){return typeof Q=="object"?Object.keys(Q).reduce((C,X)=>a(C,X,Q[X]),F):F.reduce((C,X)=>{if(X.attributes&&X.attributes[Q])return C.push(X);const w=b?{[Q]:b}:{};return C.insert(X.insert,{...w,...X.attributes})},new(k()))}function g(F,Q){let b="";for(let C=F.ops.length-1;C>=0&&b.length<Q.length;--C){const X=F.ops[C];if(typeof X.insert!="string")break;b=X.insert+b}return b.slice(-1*Q.length)===Q}function e(F){return F.childNodes.length!==0&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(F.tagName.toLowerCase())}f.DEFAULTS={matchers:[]};const D1=new WeakMap;function K1(F){return F!=null&&(D1.has(F)||(F.tagName==="PRE"?D1.set(F,!0):D1.set(F,K1(F.parentNode))),D1.get(F))}function X1(F,Q,b,C,X){return Q.nodeType===Q.TEXT_NODE?C.reduce((w,q)=>q(Q,w,F),new(k())):Q.nodeType===Q.ELEMENT_NODE?Array.from(Q.childNodes||[]).reduce((w,q)=>{let H=X1(F,q,b,C,X);return q.nodeType===Q.ELEMENT_NODE&&(H=b.reduce((K,Z)=>Z(q,K,F),H),H=(X.get(q)||[]).reduce((K,Z)=>Z(q,K,F),H)),w.concat(H)},new(k())):new(k())}function $(F,Q,b){return a(b,F,!0)}function J(F,Q,b){if(!g(Q,"\n")){if(e(F))return Q.insert("\n");if(Q.length()>0&&F.nextSibling){let C=F.nextSibling;for(;C!=null;){if(e(C))return Q.insert("\n");const X=b.query(C);if(X&&X.prototype instanceof M.i2)return Q.insert("\n");C=C.firstChild}}}return Q}},4283:function(x,O,z){z.d(O,{WQ:function(){return Y1},ZP:function(){return D}});var B=z(8489),j=z(1061),k=z(1702),M=z.n(k),T=z(8473),L=z(250),I=z(1204),S=z(8103);const U=I.Z("quill:keyboard"),V=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class D extends S.Z{static match(c,R){return!["altKey","ctrlKey","metaKey","shiftKey"].some((f)=>!!R[f]!==c[f]&&R[f]!==null)&&(R.key===c.key||R.key===c.which)}constructor(c,R){super(c,R),this.bindings={},Object.keys(this.options.bindings).forEach((f)=>{this.options.bindings[f]&&this.addBinding(this.options.bindings[f])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(c){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=function(g){if(typeof g=="string"||typeof g=="number")g={key:g};else{if(typeof g!="object")return null;g=j.Z(g)}return g.shortKey&&(g[V]=g.shortKey,delete g.shortKey),g}(c);a!=null?(typeof R=="function"&&(R={handler:R}),typeof f=="function"&&(f={handler:f}),(Array.isArray(a.key)?a.key:[a.key]).forEach((g)=>{const e={...a,key:g,...R,...f};this.bindings[e.key]=this.bindings[e.key]||[],this.bindings[e.key].push(e)})):U.warn("Attempted to add invalid keyboard binding",a)}listen(){this.quill.root.addEventListener("keydown",(c)=>{if(c.defaultPrevented||c.isComposing)return;const R=(this.bindings[c.key]||[]).concat(this.bindings[c.which]||[]).filter((b)=>D.match(c,b));if(R.length===0)return;const f=L.ZP.find(c.target,!0);if(f&&f.scroll!==this.quill.scroll)return;const a=this.quill.getSelection();if(a==null||!this.quill.hasFocus())return;const[g,e]=this.quill.getLine(a.index),[D1,K1]=this.quill.getLeaf(a.index),[X1,$]=a.length===0?[D1,K1]:this.quill.getLeaf(a.index+a.length),J=D1 instanceof T.TextBlot?D1.value().slice(0,K1):"",F=X1 instanceof T.TextBlot?X1.value().slice($):"",Q={collapsed:a.length===0,empty:a.length===0&&g.length()<=1,format:this.quill.getFormat(a),line:g,offset:e,prefix:J,suffix:F,event:c};R.some((b)=>{if(b.collapsed!=null&&b.collapsed!==Q.collapsed)return!1;if(b.empty!=null&&b.empty!==Q.empty)return!1;if(b.offset!=null&&b.offset!==Q.offset)return!1;if(Array.isArray(b.format)){if(b.format.every((C)=>Q.format[C]==null))return!1}else if(typeof b.format=="object"&&!Object.keys(b.format).every((C)=>b.format[C]===!0?Q.format[C]!=null:b.format[C]===!1?Q.format[C]==null:B.Z(b.format[C],Q.format[C])))return!1;return!(b.prefix!=null&&!b.prefix.test(Q.prefix)||b.suffix!=null&&!b.suffix.test(Q.suffix)||b.handler.call(this,a,Q,b)===!0)})&&c.preventDefault()})}handleBackspace(c,R){const f=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(R.prefix)?2:1;if(c.index===0||this.quill.getLength()<=1)return;let a={};const[g]=this.quill.getLine(c.index);let e=new(M())().retain(c.index-f).delete(f);if(R.offset===0){const[D1]=this.quill.getLine(c.index-1);if(D1&&!(D1.statics.blotName==="block"&&D1.length()<=1)){const K1=g.formats(),X1=this.quill.getFormat(c.index-1,1);if(a=k.AttributeMap.diff(K1,X1)||{},Object.keys(a).length>0){const $=new(M())().retain(c.index+g.length()-2).retain(1,a);e=e.compose($)}}}this.quill.updateContents(e,L.ZP.sources.USER),this.quill.focus()}handleDelete(c,R){const f=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(R.suffix)?2:1;if(c.index>=this.quill.getLength()-f)return;let a={};const[g]=this.quill.getLine(c.index);let e=new(M())().retain(c.index).delete(f);if(R.offset>=g.length()-1){const[D1]=this.quill.getLine(c.index+1);if(D1){const K1=g.formats(),X1=this.quill.getFormat(c.index,1);a=k.AttributeMap.diff(K1,X1)||{},Object.keys(a).length>0&&(e=e.retain(D1.length()-1).retain(1,a))}}this.quill.updateContents(e,L.ZP.sources.USER),this.quill.focus()}handleDeleteRange(c){Y1({range:c,quill:this.quill}),this.quill.focus()}handleEnter(c,R){const f=Object.keys(R.format).reduce((g,e)=>(this.quill.scroll.query(e,T.Scope.BLOCK)&&!Array.isArray(R.format[e])&&(g[e]=R.format[e]),g),{}),a=new(M())().retain(c.index).delete(c.length).insert("\n",f);this.quill.updateContents(a,L.ZP.sources.USER),this.quill.setSelection(c.index+1,L.ZP.sources.SILENT),this.quill.focus()}}const G={bindings:{bold:h("bold"),italic:h("italic"),underline:h("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(c,R){return!(!R.collapsed||R.offset===0)||(this.quill.format("indent","+1",L.ZP.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(c,R){return!(!R.collapsed||R.offset===0)||(this.quill.format("indent","-1",L.ZP.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(c,R){R.format.indent!=null?this.quill.format("indent","-1",L.ZP.sources.USER):R.format.list!=null&&this.quill.format("list",!1,L.ZP.sources.USER)}},"indent code-block":A(!0),"outdent code-block":A(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(c){this.quill.deleteText(c.index-1,1,L.ZP.sources.USER)}},tab:{key:"Tab",handler(c,R){if(R.format.table)return!0;this.quill.history.cutoff();const f=new(M())().retain(c.index).delete(c.length).insert("\t");return this.quill.updateContents(f,L.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(c.index+1,L.ZP.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,L.ZP.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(c,R){const f={list:!1};R.format.indent&&(f.indent=!1),this.quill.formatLine(c.index,c.length,f,L.ZP.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(c){const[R,f]=this.quill.getLine(c.index),a={...R.formats(),list:"checked"},g=new(M())().retain(c.index).insert("\n",a).retain(R.length()-f-1).retain(1,{list:"unchecked"});this.quill.updateContents(g,L.ZP.sources.USER),this.quill.setSelection(c.index+1,L.ZP.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(c,R){const[f,a]=this.quill.getLine(c.index),g=new(M())().retain(c.index).insert("\n",R.format).retain(f.length()-a-1).retain(1,{header:null});this.quill.updateContents(g,L.ZP.sources.USER),this.quill.setSelection(c.index+1,L.ZP.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(c){const R=this.quill.getModule("table");if(R){const[f,a,g,e]=R.getTable(c),D1=function(X1,$,J,F){return $.prev==null&&$.next==null?J.prev==null&&J.next==null?F===0?-1:1:J.prev==null?-1:1:$.prev==null?-1:$.next==null?1:null}(0,a,g,e);if(D1==null)return;let K1=f.offset();if(D1<0){const X1=new(M())().retain(K1).insert("\n");this.quill.updateContents(X1,L.ZP.sources.USER),this.quill.setSelection(c.index+1,c.length,L.ZP.sources.SILENT)}else if(D1>0){K1+=f.length();const X1=new(M())().retain(K1).insert("\n");this.quill.updateContents(X1,L.ZP.sources.USER),this.quill.setSelection(K1,L.ZP.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(c,R){const{event:f,line:a}=R,g=a.offset(this.quill.scroll);f.shiftKey?this.quill.setSelection(g-1,L.ZP.sources.USER):this.quill.setSelection(g+a.length(),L.ZP.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(c,R){if(this.quill.scroll.query("list")==null)return!0;const{length:f}=R.prefix,[a,g]=this.quill.getLine(c.index);if(g>f)return!0;let e;switch(R.prefix.trim()){case"[]":case"[ ]":e="unchecked";break;case"[x]":e="checked";break;case"-":case"*":e="bullet";break;default:e="ordered"}this.quill.insertText(c.index," ",L.ZP.sources.USER),this.quill.history.cutoff();const D1=new(M())().retain(c.index-g).delete(f+1).retain(a.length()-2-g).retain(1,{list:e});return this.quill.updateContents(D1,L.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(c.index-f,L.ZP.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(c){const[R,f]=this.quill.getLine(c.index);let a=2,g=R;for(;g!=null&&g.length()<=1&&g.formats()["code-block"];)if(g=g.prev,a-=1,a<=0){const e=new(M())().retain(c.index+R.length()-f-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(e,L.ZP.sources.USER),this.quill.setSelection(c.index-1,L.ZP.sources.SILENT),!1}return!0}},"embed left":p("ArrowLeft",!1),"embed left shift":p("ArrowLeft",!0),"embed right":p("ArrowRight",!1),"embed right shift":p("ArrowRight",!0),"table down":F1(!1),"table up":F1(!0)}};function A(c){return{key:"Tab",shiftKey:!c,format:{"code-block":!0},handler(R,f){let{event:a}=f;const g=this.quill.scroll.query("code-block"),{TAB:e}=g;if(R.length===0&&!a.shiftKey)return this.quill.insertText(R.index,e,L.ZP.sources.USER),void this.quill.setSelection(R.index+e.length,L.ZP.sources.SILENT);const D1=R.length===0?this.quill.getLines(R.index,1):this.quill.getLines(R);let{index:K1,length:X1}=R;D1.forEach(($,J)=>{c?($.insertAt(0,e),J===0?K1+=e.length:X1+=e.length):$.domNode.textContent.startsWith(e)&&($.deleteAt(0,e.length),J===0?K1-=e.length:X1-=e.length)}),this.quill.update(L.ZP.sources.USER),this.quill.setSelection(K1,X1,L.ZP.sources.SILENT)}}}function p(c,R){return{key:c,shiftKey:R,altKey:null,[c==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(f){let{index:a}=f;c==="ArrowRight"&&(a+=f.length+1);const[g]=this.quill.getLeaf(a);return!(g instanceof T.EmbedBlot&&(c==="ArrowLeft"?R?this.quill.setSelection(f.index-1,f.length+1,L.ZP.sources.USER):this.quill.setSelection(f.index-1,L.ZP.sources.USER):R?this.quill.setSelection(f.index,f.length+1,L.ZP.sources.USER):this.quill.setSelection(f.index+f.length+1,L.ZP.sources.USER),1))}}}function h(c){return{key:c[0],shortKey:!0,handler(R,f){this.quill.format(c,!f.format[c],L.ZP.sources.USER)}}}function F1(c){return{key:c?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(R,f){const a=c?"prev":"next",g=f.line,e=g.parent[a];if(e!=null){if(e.statics.blotName==="table-row"){let D1=e.children.head,K1=g;for(;K1.prev!=null;)K1=K1.prev,D1=D1.next;const X1=D1.offset(this.quill.scroll)+Math.min(f.offset,D1.length()-1);this.quill.setSelection(X1,0,L.ZP.sources.USER)}}else{const D1=g.table()[a];D1!=null&&(c?this.quill.setSelection(D1.offset(this.quill.scroll)+D1.length()-1,0,L.ZP.sources.USER):this.quill.setSelection(D1.offset(this.quill.scroll),0,L.ZP.sources.USER))}return!1}}}function Y1(c){let{quill:R,range:f}=c;const a=R.getLines(f);let g={};if(a.length>1){const e=a[0].formats(),D1=a[a.length-1].formats();g=k.AttributeMap.diff(D1,e)||{}}R.deleteText(f,L.ZP.sources.USER),Object.keys(g).length>0&&R.formatLine(f.index,1,g,L.ZP.sources.USER),R.setSelection(f.index,L.ZP.sources.SILENT)}D.DEFAULTS=G},161:function(x){var O=Object.prototype.hasOwnProperty,z="~";function B(){}function j(L,I,S){this.fn=L,this.context=I,this.once=S||!1}function k(L,I,S,U,V){if(typeof S!="function")throw new TypeError("The listener must be a function");var D=new j(S,U||L,V),G=z?z+I:I;return L._events[G]?L._events[G].fn?L._events[G]=[L._events[G],D]:L._events[G].push(D):(L._events[G]=D,L._eventsCount++),L}function M(L,I){--L._eventsCount==0?L._events=new B:delete L._events[I]}function T(){this._events=new B,this._eventsCount=0}Object.create&&(B.prototype=Object.create(null),new B().__proto__||(z=!1)),T.prototype.eventNames=function(){var L,I,S=[];if(this._eventsCount===0)return S;for(I in L=this._events)O.call(L,I)&&S.push(z?I.slice(1):I);return Object.getOwnPropertySymbols?S.concat(Object.getOwnPropertySymbols(L)):S},T.prototype.listeners=function(L){var I=z?z+L:L,S=this._events[I];if(!S)return[];if(S.fn)return[S.fn];for(var U=0,V=S.length,D=new Array(V);U<V;U++)D[U]=S[U].fn;return D},T.prototype.listenerCount=function(L){var I=z?z+L:L,S=this._events[I];return S?S.fn?1:S.length:0},T.prototype.emit=function(L,I,S,U,V,D){var G=z?z+L:L;if(!this._events[G])return!1;var A,p,h=this._events[G],F1=arguments.length;if(h.fn){switch(h.once&&this.removeListener(L,h.fn,void 0,!0),F1){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,I),!0;case 3:return h.fn.call(h.context,I,S),!0;case 4:return h.fn.call(h.context,I,S,U),!0;case 5:return h.fn.call(h.context,I,S,U,V),!0;case 6:return h.fn.call(h.context,I,S,U,V,D),!0}for(p=1,A=new Array(F1-1);p<F1;p++)A[p-1]=arguments[p];h.fn.apply(h.context,A)}else{var Y1,c=h.length;for(p=0;p<c;p++)switch(h[p].once&&this.removeListener(L,h[p].fn,void 0,!0),F1){case 1:h[p].fn.call(h[p].context);break;case 2:h[p].fn.call(h[p].context,I);break;case 3:h[p].fn.call(h[p].context,I,S);break;case 4:h[p].fn.call(h[p].context,I,S,U);break;default:if(!A)for(Y1=1,A=new Array(F1-1);Y1<F1;Y1++)A[Y1-1]=arguments[Y1];h[p].fn.apply(h[p].context,A)}}return!0},T.prototype.on=function(L,I,S){return k(this,L,I,S,!1)},T.prototype.once=function(L,I,S){return k(this,L,I,S,!0)},T.prototype.removeListener=function(L,I,S,U){var V=z?z+L:L;if(!this._events[V])return this;if(!I)return M(this,V),this;var D=this._events[V];if(D.fn)D.fn!==I||U&&!D.once||S&&D.context!==S||M(this,V);else{for(var G=0,A=[],p=D.length;G<p;G++)(D[G].fn!==I||U&&!D[G].once||S&&D[G].context!==S)&&A.push(D[G]);A.length?this._events[V]=A.length===1?A[0]:A:M(this,V)}return this},T.prototype.removeAllListeners=function(L){var I;return L?(I=z?z+L:L,this._events[I]&&M(this,I)):(this._events=new B,this._eventsCount=0),this},T.prototype.off=T.prototype.removeListener,T.prototype.addListener=T.prototype.on,T.prefixed=z,T.EventEmitter=T,x.exports=T},9661:function(x){var O=-1,z=1,B=0;function j(R,f,a,g,e){if(R===f)return R?[[B,R]]:[];if(a!=null){var D1=function(F,Q,b){var C=typeof b=="number"?{index:b,length:0}:b.oldRange,X=typeof b=="number"?null:b.newRange,w=F.length,q=Q.length;if(C.length===0&&(X===null||X.length===0)){var H=C.index,K=F.slice(0,H),Z=F.slice(H),N=X?X.index:null,P=H+q-w;if((N===null||N===P)&&!(P<0||P>q)){var r=Q.slice(0,P);if((n=Q.slice(P))===Z){var m=Math.min(H,P);if((l=K.slice(0,m))===(t=r.slice(0,m)))return Y1(l,K.slice(m),r.slice(m),Z)}}if(N===null||N===H){var v=H,n=(r=Q.slice(0,v),Q.slice(v));if(r===K){var u=Math.min(w-v,q-v);if((B1=Z.slice(Z.length-u))===(z1=n.slice(n.length-u)))return Y1(K,Z.slice(0,Z.length-u),n.slice(0,n.length-u),B1)}}}if(C.length>0&&X&&X.length===0){var l=F.slice(0,C.index),B1=F.slice(C.index+C.length);if(!(q<(m=l.length)+(u=B1.length))){var t=Q.slice(0,m),z1=Q.slice(q-u);if(l===t&&B1===z1)return Y1(l,F.slice(m,w-u),Q.slice(m,q-u),B1)}}return null}(R,f,a);if(D1)return D1}var K1=M(R,f),X1=R.substring(0,K1);K1=L(R=R.substring(K1),f=f.substring(K1));var $=R.substring(R.length-K1),J=function(F,Q){var b;if(!F)return[[z,Q]];if(!Q)return[[O,F]];var C=F.length>Q.length?F:Q,X=F.length>Q.length?Q:F,w=C.indexOf(X);if(w!==-1)return b=[[z,C.substring(0,w)],[B,X],[z,C.substring(w+X.length)]],F.length>Q.length&&(b[0][0]=b[2][0]=O),b;if(X.length===1)return[[O,F],[z,Q]];var q=function(v,n){var u=v.length>n.length?v:n,l=v.length>n.length?n:v;if(u.length<4||2*l.length<u.length)return null;function B1(T1,q1,f1){for(var E1,W1,b1,w1,C1=T1.substring(f1,f1+Math.floor(T1.length/4)),y1=-1,g1="";(y1=q1.indexOf(C1,y1+1))!==-1;){var x1=M(T1.substring(f1),q1.substring(y1)),h1=L(T1.substring(0,f1),q1.substring(0,y1));g1.length<h1+x1&&(g1=q1.substring(y1-h1,y1)+q1.substring(y1,y1+x1),E1=T1.substring(0,f1-h1),W1=T1.substring(f1+x1),b1=q1.substring(0,y1-h1),w1=q1.substring(y1+x1))}return 2*g1.length>=T1.length?[E1,W1,b1,w1,g1]:null}var t,z1,L1,V1,O1,S1=B1(u,l,Math.ceil(u.length/4)),R1=B1(u,l,Math.ceil(u.length/2));return S1||R1?(t=R1?S1&&S1[4].length>R1[4].length?S1:R1:S1,v.length>n.length?(z1=t[0],L1=t[1],V1=t[2],O1=t[3]):(V1=t[0],O1=t[1],z1=t[2],L1=t[3]),[z1,L1,V1,O1,t[4]]):null}(F,Q);if(q){var H=q[0],K=q[1],Z=q[2],N=q[3],P=q[4],r=j(H,Z),m=j(K,N);return r.concat([[B,P]],m)}return function(v,n){for(var u=v.length,l=n.length,B1=Math.ceil((u+l)/2),t=B1,z1=2*B1,L1=new Array(z1),V1=new Array(z1),O1=0;O1<z1;O1++)L1[O1]=-1,V1[O1]=-1;L1[t+1]=0,V1[t+1]=0;for(var S1=u-l,R1=S1%2!=0,T1=0,q1=0,f1=0,E1=0,W1=0;W1<B1;W1++){for(var b1=-W1+T1;b1<=W1-q1;b1+=2){for(var w1=t+b1,C1=(A1=b1===-W1||b1!==W1&&L1[w1-1]<L1[w1+1]?L1[w1+1]:L1[w1-1]+1)-b1;A1<u&&C1<l&&v.charAt(A1)===n.charAt(C1);)A1++,C1++;if(L1[w1]=A1,A1>u)q1+=2;else if(C1>l)T1+=2;else if(R1&&(x1=t+S1-b1)>=0&&x1<z1&&V1[x1]!==-1&&A1>=(g1=u-V1[x1]))return k(v,n,A1,C1)}for(var y1=-W1+f1;y1<=W1-E1;y1+=2){for(var g1,x1=t+y1,h1=(g1=y1===-W1||y1!==W1&&V1[x1-1]<V1[x1+1]?V1[x1+1]:V1[x1-1]+1)-y1;g1<u&&h1<l&&v.charAt(u-g1-1)===n.charAt(l-h1-1);)g1++,h1++;if(V1[x1]=g1,g1>u)E1+=2;else if(h1>l)f1+=2;else if(!R1){var A1;if((w1=t+S1-y1)>=0&&w1<z1&&L1[w1]!==-1){if(C1=t+(A1=L1[w1])-w1,A1>=(g1=u-g1))return k(v,n,A1,C1)}}}}return[[O,v],[z,n]]}(F,Q)}(R=R.substring(0,R.length-K1),f=f.substring(0,f.length-K1));return X1&&J.unshift([B,X1]),$&&J.push([B,$]),G(J,e),g&&function(F){for(var Q=!1,b=[],C=0,X=null,w=0,q=0,H=0,K=0,Z=0;w<F.length;)F[w][0]==B?(b[C++]=w,q=K,H=Z,K=0,Z=0,X=F[w][1]):(F[w][0]==z?K+=F[w][1].length:Z+=F[w][1].length,X&&X.length<=Math.max(q,H)&&X.length<=Math.max(K,Z)&&(F.splice(b[C-1],0,[O,X]),F[b[C-1]+1][0]=z,C--,w=--C>0?b[C-1]:-1,q=0,H=0,K=0,Z=0,X=null,Q=!0)),w++;for(Q&&G(F),function(v){function n(q1,f1){if(!q1||!f1)return 6;var E1=q1.charAt(q1.length-1),W1=f1.charAt(0),b1=E1.match(I),w1=W1.match(I),C1=b1&&E1.match(S),y1=w1&&W1.match(S),g1=C1&&E1.match(U),x1=y1&&W1.match(U),h1=g1&&q1.match(V),A1=x1&&f1.match(D);return h1||A1?5:g1||x1?4:b1&&!C1&&y1?3:C1||y1?2:b1||w1?1:0}for(var u=1;u<v.length-1;){if(v[u-1][0]==B&&v[u+1][0]==B){var l=v[u-1][1],B1=v[u][1],t=v[u+1][1],z1=L(l,B1);if(z1){var L1=B1.substring(B1.length-z1);l=l.substring(0,l.length-z1),B1=L1+B1.substring(0,B1.length-z1),t=L1+t}for(var V1=l,O1=B1,S1=t,R1=n(l,B1)+n(B1,t);B1.charAt(0)===t.charAt(0);){l+=B1.charAt(0),B1=B1.substring(1)+t.charAt(0),t=t.substring(1);var T1=n(l,B1)+n(B1,t);T1>=R1&&(R1=T1,V1=l,O1=B1,S1=t)}v[u-1][1]!=V1&&(V1?v[u-1][1]=V1:(v.splice(u-1,1),u--),v[u][1]=O1,S1?v[u+1][1]=S1:(v.splice(u+1,1),u--))}u++}}(F),w=1;w<F.length;){if(F[w-1][0]==O&&F[w][0]==z){var N=F[w-1][1],P=F[w][1],r=T(N,P),m=T(P,N);r>=m?(r>=N.length/2||r>=P.length/2)&&(F.splice(w,0,[B,P.substring(0,r)]),F[w-1][1]=N.substring(0,N.length-r),F[w+1][1]=P.substring(r),w++):(m>=N.length/2||m>=P.length/2)&&(F.splice(w,0,[B,N.substring(0,m)]),F[w-1][0]=z,F[w-1][1]=P.substring(0,P.length-m),F[w+1][0]=O,F[w+1][1]=N.substring(m),w++),w++}w++}}(J),J}function k(R,f,a,g){var e=R.substring(0,a),D1=f.substring(0,g),K1=R.substring(a),X1=f.substring(g),$=j(e,D1),J=j(K1,X1);return $.concat(J)}function M(R,f){if(!R||!f||R.charAt(0)!==f.charAt(0))return 0;for(var a=0,g=Math.min(R.length,f.length),e=g,D1=0;a<e;)R.substring(D1,e)==f.substring(D1,e)?D1=a=e:g=e,e=Math.floor((g-a)/2+a);return A(R.charCodeAt(e-1))&&e--,e}function T(R,f){var a=R.length,g=f.length;if(a==0||g==0)return 0;a>g?R=R.substring(a-g):a<g&&(f=f.substring(0,a));var e=Math.min(a,g);if(R==f)return e;for(var D1=0,K1=1;;){var X1=R.substring(e-K1),$=f.indexOf(X1);if($==-1)return D1;K1+=$,$!=0&&R.substring(e-K1)!=f.substring(0,K1)||(D1=K1,K1++)}}function L(R,f){if(!R||!f||R.slice(-1)!==f.slice(-1))return 0;for(var a=0,g=Math.min(R.length,f.length),e=g,D1=0;a<e;)R.substring(R.length-e,R.length-D1)==f.substring(f.length-e,f.length-D1)?D1=a=e:g=e,e=Math.floor((g-a)/2+a);return p(R.charCodeAt(R.length-e))&&e--,e}var I=/[^a-zA-Z0-9]/,S=/\s/,U=/[\r\n]/,V=/\n\r?\n$/,D=/^\r?\n\r?\n/;function G(R,f){R.push([B,""]);for(var a,g=0,e=0,D1=0,K1="",X1="";g<R.length;)if(g<R.length-1&&!R[g][1])R.splice(g,1);else switch(R[g][0]){case z:D1++,X1+=R[g][1],g++;break;case O:e++,K1+=R[g][1],g++;break;case B:var $=g-D1-e-1;if(f){if($>=0&&F1(R[$][1])){var J=R[$][1].slice(-1);if(R[$][1]=R[$][1].slice(0,-1),K1=J+K1,X1=J+X1,!R[$][1]){R.splice($,1),g--;var F=$-1;R[F]&&R[F][0]===z&&(D1++,X1=R[F][1]+X1,F--),R[F]&&R[F][0]===O&&(e++,K1=R[F][1]+K1,F--),$=F}}h(R[g][1])&&(J=R[g][1].charAt(0),R[g][1]=R[g][1].slice(1),K1+=J,X1+=J)}if(g<R.length-1&&!R[g][1]){R.splice(g,1);break}if(K1.length>0||X1.length>0){K1.length>0&&X1.length>0&&((a=M(X1,K1))!==0&&($>=0?R[$][1]+=X1.substring(0,a):(R.splice(0,0,[B,X1.substring(0,a)]),g++),X1=X1.substring(a),K1=K1.substring(a)),(a=L(X1,K1))!==0&&(R[g][1]=X1.substring(X1.length-a)+R[g][1],X1=X1.substring(0,X1.length-a),K1=K1.substring(0,K1.length-a)));var Q=D1+e;K1.length===0&&X1.length===0?(R.splice(g-Q,Q),g-=Q):K1.length===0?(R.splice(g-Q,Q,[z,X1]),g=g-Q+1):X1.length===0?(R.splice(g-Q,Q,[O,K1]),g=g-Q+1):(R.splice(g-Q,Q,[O,K1],[z,X1]),g=g-Q+2)}g!==0&&R[g-1][0]===B?(R[g-1][1]+=R[g][1],R.splice(g,1)):g++,D1=0,e=0,K1="",X1=""}R[R.length-1][1]===""&&R.pop();var b=!1;for(g=1;g<R.length-1;)R[g-1][0]===B&&R[g+1][0]===B&&(R[g][1].substring(R[g][1].length-R[g-1][1].length)===R[g-1][1]?(R[g][1]=R[g-1][1]+R[g][1].substring(0,R[g][1].length-R[g-1][1].length),R[g+1][1]=R[g-1][1]+R[g+1][1],R.splice(g-1,1),b=!0):R[g][1].substring(0,R[g+1][1].length)==R[g+1][1]&&(R[g-1][1]+=R[g+1][1],R[g][1]=R[g][1].substring(R[g+1][1].length)+R[g+1][1],R.splice(g+1,1),b=!0)),g++;b&&G(R,f)}function A(R){return R>=55296&&R<=56319}function p(R){return R>=56320&&R<=57343}function h(R){return p(R.charCodeAt(0))}function F1(R){return A(R.charCodeAt(R.length-1))}function Y1(R,f,a,g){return F1(R)||h(g)?null:function(e){for(var D1=[],K1=0;K1<e.length;K1++)e[K1][1].length>0&&D1.push(e[K1]);return D1}([[B,R],[O,f],[z,a],[B,g]])}function c(R,f,a,g){return j(R,f,a,g,!0)}c.INSERT=z,c.DELETE=O,c.EQUAL=B,x.exports=c},9907:function(x,O,z){x=z.nmd(x);var B="__lodash_hash_undefined__",j=9007199254740991,k="[object Arguments]",M="[object Boolean]",T="[object Date]",L="[object Function]",I="[object GeneratorFunction]",S="[object Map]",U="[object Number]",V="[object Object]",D="[object Promise]",G="[object RegExp]",A="[object Set]",p="[object String]",h="[object Symbol]",F1="[object WeakMap]",Y1="[object ArrayBuffer]",c="[object DataView]",R="[object Float32Array]",f="[object Float64Array]",a="[object Int8Array]",g="[object Int16Array]",e="[object Int32Array]",D1="[object Uint8Array]",K1="[object Uint8ClampedArray]",X1="[object Uint16Array]",$="[object Uint32Array]",J=/\w*$/,F=/^\[object .+?Constructor\]$/,Q=/^(?:0|[1-9]\d*)$/,b={};b[k]=b["[object Array]"]=b[Y1]=b[c]=b[M]=b[T]=b[R]=b[f]=b[a]=b[g]=b[e]=b[S]=b[U]=b[V]=b[G]=b[A]=b[p]=b[h]=b[D1]=b[K1]=b[X1]=b[$]=!0,b["[object Error]"]=b[L]=b[F1]=!1;var C=typeof z.g=="object"&&z.g&&z.g.Object===Object&&z.g,X=typeof self=="object"&&self&&self.Object===Object&&self,w=C||X||Function("return this")(),q=O&&!O.nodeType&&O,H=q&&x&&!x.nodeType&&x,K=H&&H.exports===q;function Z(d,W){return d.set(W[0],W[1]),d}function N(d,W){return d.add(W),d}function P(d,W,E,o){var _1=-1,I1=d?d.length:0;for(o&&I1&&(E=d[++_1]);++_1<I1;)E=W(E,d[_1],_1,d);return E}function r(d){var W=!1;if(d!=null&&typeof d.toString!="function")try{W=!!(d+"")}catch(E){}return W}function m(d){var W=-1,E=Array(d.size);return d.forEach(function(o,_1){E[++W]=[_1,o]}),E}function v(d,W){return function(E){return d(W(E))}}function n(d){var W=-1,E=Array(d.size);return d.forEach(function(o){E[++W]=o}),E}var u,l=Array.prototype,B1=Function.prototype,t=Object.prototype,z1=w["__core-js_shared__"],L1=(u=/[^.]+$/.exec(z1&&z1.keys&&z1.keys.IE_PROTO||""))?"Symbol(src)_1."+u:"",V1=B1.toString,O1=t.hasOwnProperty,S1=t.toString,R1=RegExp("^"+V1.call(O1).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T1=K?w.Buffer:void 0,q1=w.Symbol,f1=w.Uint8Array,E1=v(Object.getPrototypeOf,Object),W1=Object.create,b1=t.propertyIsEnumerable,w1=l.splice,C1=Object.getOwnPropertySymbols,y1=T1?T1.isBuffer:void 0,g1=v(Object.keys,Object),x1=y(w,"DataView"),h1=y(w,"Map"),A1=y(w,"Promise"),b0=y(w,"Set"),I0=y(w,"WeakMap"),G0=y(Object,"create"),N0=u1(x1),P0=u1(h1),A0=u1(A1),_0=u1(b0),K0=u1(I0),i1=q1?q1.prototype:void 0,D0=i1?i1.valueOf:void 0;function z0(d){var W=-1,E=d?d.length:0;for(this.clear();++W<E;){var o=d[W];this.set(o[0],o[1])}}function m1(d){var W=-1,E=d?d.length:0;for(this.clear();++W<E;){var o=d[W];this.set(o[0],o[1])}}function $0(d){var W=-1,E=d?d.length:0;for(this.clear();++W<E;){var o=d[W];this.set(o[0],o[1])}}function H0(d){this.__data__=new m1(d)}function T0(d,W,E){var o=d[W];O1.call(d,W)&&r1(o,E)&&(E!==void 0||(W in d))||(d[W]=E)}function V0(d,W){for(var E=d.length;E--;)if(r1(d[E][0],W))return E;return-1}function j0(d,W,E,o,_1,I1,U1){var j1;if(o&&(j1=I1?o(d,_1,I1,U1):o(d)),j1!==void 0)return j1;if(!Y0(d))return d;var c1=n1(d);if(c1){if(j1=function(M1){var Z1=M1.length,N1=M1.constructor(Z1);return Z1&&typeof M1[0]=="string"&&O1.call(M1,"index")&&(N1.index=M1.index,N1.input=M1.input),N1}(d),!W)return function(M1,Z1){var N1=-1,s1=M1.length;for(Z1||(Z1=Array(s1));++N1<s1;)Z1[N1]=M1[N1];return Z1}(d,j1)}else{var p1=H1(d),o1=p1==L||p1==I;if(q0(d))return function(M1,Z1){if(Z1)return M1.slice();var N1=new M1.constructor(M1.length);return M1.copy(N1),N1}(d,W);if(p1==V||p1==k||o1&&!I1){if(r(d))return I1?d:{};if(j1=function(M1){return typeof M1.constructor!="function"||k1(M1)?{}:Y0(Z1=E1(M1))?W1(Z1):{};var Z1}(o1?{}:d),!W)return function(M1,Z1){return Y(M1,s(M1),Z1)}(d,function(M1,Z1){return M1&&Y(Z1,O0(Z1),M1)}(j1,d))}else{if(!b[p1])return I1?d:{};j1=function(M1,Z1,N1,s1){var Q0,B0=M1.constructor;switch(Z1){case Y1:return S0(M1);case M:case T:return new B0(+M1);case c:return function(P1,e1){var X0=e1?S0(P1.buffer):P1.buffer;return new P1.constructor(X0,P1.byteOffset,P1.byteLength)}(M1,s1);case R:case f:case a:case g:case e:case D1:case K1:case X1:case $:return function(P1,e1){var X0=e1?S0(P1.buffer):P1.buffer;return new P1.constructor(X0,P1.byteOffset,P1.length)}(M1,s1);case S:return function(P1,e1,X0){return P(e1?X0(m(P1),!0):m(P1),Z,new P1.constructor)}(M1,s1,N1);case U:case p:return new B0(M1);case G:return function(P1){var e1=new P1.constructor(P1.source,J.exec(P1));return e1.lastIndex=P1.lastIndex,e1}(M1);case A:return function(P1,e1,X0){return P(e1?X0(n(P1),!0):n(P1),N,new P1.constructor)}(M1,s1,N1);case h:return Q0=M1,D0?Object(D0.call(Q0)):{}}}(d,p1,j0,W)}}U1||(U1=new H0);var a1=U1.get(d);if(a1)return a1;if(U1.set(d,j1),!c1)var l1=E?function(M1){return function(Z1,N1,s1){var Q0=N1(Z1);return n1(Z1)?Q0:function(B0,P1){for(var e1=-1,X0=P1.length,c0=B0.length;++e1<X0;)B0[c0+e1]=P1[e1];return B0}(Q0,s1(Z1))}(M1,O0,s)}(d):O0(d);return function(M1,Z1){for(var N1=-1,s1=M1?M1.length:0;++N1<s1&&Z1(M1[N1],N1)!==!1;);}(l1||d,function(M1,Z1){l1&&(M1=d[Z1=M1]),T0(j1,Z1,j0(M1,W,E,o,Z1,d,U1))}),j1}function S0(d){var W=new d.constructor(d.byteLength);return new f1(W).set(new f1(d)),W}function Y(d,W,E,o){E||(E={});for(var _1=-1,I1=W.length;++_1<I1;){var U1=W[_1],j1=o?o(E[U1],d[U1],U1,E,d):void 0;T0(E,U1,j1===void 0?d[U1]:j1)}return E}function _(d,W){var E,o,_1=d.__data__;return((o=typeof(E=W))=="string"||o=="number"||o=="symbol"||o=="boolean"?E!=="__proto__":E===null)?_1[typeof W=="string"?"string":"hash"]:_1.map}function y(d,W){var E=function(o,_1){return o==null?void 0:o[_1]}(d,W);return function(o){return!(!Y0(o)||(_1=o,L1&&(L1 in _1)))&&(w0(o)||r(o)?R1:F).test(u1(o));var _1}(E)?E:void 0}z0.prototype.clear=function(){this.__data__=G0?G0(null):{}},z0.prototype.delete=function(d){return this.has(d)&&delete this.__data__[d]},z0.prototype.get=function(d){var W=this.__data__;if(G0){var E=W[d];return E===B?void 0:E}return O1.call(W,d)?W[d]:void 0},z0.prototype.has=function(d){var W=this.__data__;return G0?W[d]!==void 0:O1.call(W,d)},z0.prototype.set=function(d,W){return this.__data__[d]=G0&&W===void 0?B:W,this},m1.prototype.clear=function(){this.__data__=[]},m1.prototype.delete=function(d){var W=this.__data__,E=V0(W,d);return!(E<0||(E==W.length-1?W.pop():w1.call(W,E,1),0))},m1.prototype.get=function(d){var W=this.__data__,E=V0(W,d);return E<0?void 0:W[E][1]},m1.prototype.has=function(d){return V0(this.__data__,d)>-1},m1.prototype.set=function(d,W){var E=this.__data__,o=V0(E,d);return o<0?E.push([d,W]):E[o][1]=W,this},$0.prototype.clear=function(){this.__data__={hash:new z0,map:new(h1||m1),string:new z0}},$0.prototype.delete=function(d){return _(this,d).delete(d)},$0.prototype.get=function(d){return _(this,d).get(d)},$0.prototype.has=function(d){return _(this,d).has(d)},$0.prototype.set=function(d,W){return _(this,d).set(d,W),this},H0.prototype.clear=function(){this.__data__=new m1},H0.prototype.delete=function(d){return this.__data__.delete(d)},H0.prototype.get=function(d){return this.__data__.get(d)},H0.prototype.has=function(d){return this.__data__.has(d)},H0.prototype.set=function(d,W){var E=this.__data__;if(E instanceof m1){var o=E.__data__;if(!h1||o.length<199)return o.push([d,W]),this;E=this.__data__=new $0(o)}return E.set(d,W),this};var s=C1?v(C1,Object):function(){return[]},H1=function(d){return S1.call(d)};function G1(d,W){return!!(W=W==null?j:W)&&(typeof d=="number"||Q.test(d))&&d>-1&&d%1==0&&d<W}function k1(d){var W=d&&d.constructor;return d===(typeof W=="function"&&W.prototype||t)}function u1(d){if(d!=null){try{return V1.call(d)}catch(W){}try{return d+""}catch(W){}}return""}function r1(d,W){return d===W||d!=d&&W!=W}(x1&&H1(new x1(new ArrayBuffer(1)))!=c||h1&&H1(new h1)!=S||A1&&H1(A1.resolve())!=D||b0&&H1(new b0)!=A||I0&&H1(new I0)!=F1)&&(H1=function(d){var W=S1.call(d),E=W==V?d.constructor:void 0,o=E?u1(E):void 0;if(o)switch(o){case N0:return c;case P0:return S;case A0:return D;case _0:return A;case K0:return F1}return W});var n1=Array.isArray;function J0(d){return d!=null&&function(W){return typeof W=="number"&&W>-1&&W%1==0&&W<=j}(d.length)&&!w0(d)}var q0=y1||function(){return!1};function w0(d){var W=Y0(d)?S1.call(d):"";return W==L||W==I}function Y0(d){var W=typeof d;return!!d&&(W=="object"||W=="function")}function O0(d){return J0(d)?function(W,E){var o=n1(W)||function(j1){return function(c1){return function(p1){return!!p1&&typeof p1=="object"}(c1)&&J0(c1)}(j1)&&O1.call(j1,"callee")&&(!b1.call(j1,"callee")||S1.call(j1)==k)}(W)?function(j1,c1){for(var p1=-1,o1=Array(j1);++p1<j1;)o1[p1]=c1(p1);return o1}(W.length,String):[],_1=o.length,I1=!!_1;for(var U1 in W)!E&&!O1.call(W,U1)||I1&&(U1=="length"||G1(U1,_1))||o.push(U1);return o}(d):function(W){if(!k1(W))return g1(W);var E=[];for(var o in Object(W))O1.call(W,o)&&o!="constructor"&&E.push(o);return E}(d)}x.exports=function(d){return j0(d,!0,!0)}},3958:function(x,O,z){x=z.nmd(x);var B="__lodash_hash_undefined__",j=1,k=2,M=9007199254740991,T="[object Arguments]",L="[object Array]",I="[object AsyncFunction]",S="[object Boolean]",U="[object Date]",V="[object Error]",D="[object Function]",G="[object GeneratorFunction]",A="[object Map]",p="[object Number]",h="[object Null]",F1="[object Object]",Y1="[object Promise]",c="[object Proxy]",R="[object RegExp]",f="[object Set]",a="[object String]",g="[object Undefined]",e="[object WeakMap]",D1="[object ArrayBuffer]",K1="[object DataView]",X1=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,J={};J["[object Float32Array]"]=J["[object Float64Array]"]=J["[object Int8Array]"]=J["[object Int16Array]"]=J["[object Int32Array]"]=J["[object Uint8Array]"]=J["[object Uint8ClampedArray]"]=J["[object Uint16Array]"]=J["[object Uint32Array]"]=!0,J[T]=J[L]=J[D1]=J[S]=J[K1]=J[U]=J[V]=J[D]=J[A]=J[p]=J[F1]=J[R]=J[f]=J[a]=J[e]=!1;var F=typeof z.g=="object"&&z.g&&z.g.Object===Object&&z.g,Q=typeof self=="object"&&self&&self.Object===Object&&self,b=F||Q||Function("return this")(),C=O&&!O.nodeType&&O,X=C&&x&&!x.nodeType&&x,w=X&&X.exports===C,q=w&&F.process,H=function(){try{return q&&q.binding&&q.binding("util")}catch(W){}}(),K=H&&H.isTypedArray;function Z(W,E){for(var o=-1,_1=W==null?0:W.length;++o<_1;)if(E(W[o],o,W))return!0;return!1}function N(W){var E=-1,o=Array(W.size);return W.forEach(function(_1,I1){o[++E]=[I1,_1]}),o}function P(W){var E=-1,o=Array(W.size);return W.forEach(function(_1){o[++E]=_1}),o}var r,m,v,n=Array.prototype,u=Function.prototype,l=Object.prototype,B1=b["__core-js_shared__"],t=u.toString,z1=l.hasOwnProperty,L1=(r=/[^.]+$/.exec(B1&&B1.keys&&B1.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",V1=l.toString,O1=RegExp("^"+t.call(z1).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S1=w?b.Buffer:void 0,R1=b.Symbol,T1=b.Uint8Array,q1=l.propertyIsEnumerable,f1=n.splice,E1=R1?R1.toStringTag:void 0,W1=Object.getOwnPropertySymbols,b1=S1?S1.isBuffer:void 0,w1=(m=Object.keys,v=Object,function(W){return m(v(W))}),C1=_(b,"DataView"),y1=_(b,"Map"),g1=_(b,"Promise"),x1=_(b,"Set"),h1=_(b,"WeakMap"),A1=_(Object,"create"),b0=G1(C1),I0=G1(y1),G0=G1(g1),N0=G1(x1),P0=G1(h1),A0=R1?R1.prototype:void 0,_0=A0?A0.valueOf:void 0;function K0(W){var E=-1,o=W==null?0:W.length;for(this.clear();++E<o;){var _1=W[E];this.set(_1[0],_1[1])}}function i1(W){var E=-1,o=W==null?0:W.length;for(this.clear();++E<o;){var _1=W[E];this.set(_1[0],_1[1])}}function D0(W){var E=-1,o=W==null?0:W.length;for(this.clear();++E<o;){var _1=W[E];this.set(_1[0],_1[1])}}function z0(W){var E=-1,o=W==null?0:W.length;for(this.__data__=new D0;++E<o;)this.add(W[E])}function m1(W){var E=this.__data__=new i1(W);this.size=E.size}function $0(W,E){for(var o=W.length;o--;)if(k1(W[o][0],E))return o;return-1}function H0(W){return W==null?W===void 0?g:h:E1&&(E1 in Object(W))?function(E){var o=z1.call(E,E1),_1=E[E1];try{E[E1]=void 0;var I1=!0}catch(j1){}var U1=V1.call(E);return I1&&(o?E[E1]=_1:delete E[E1]),U1}(W):function(E){return V1.call(E)}(W)}function T0(W){return Y0(W)&&H0(W)==T}function V0(W,E,o,_1,I1){return W===E||(W==null||E==null||!Y0(W)&&!Y0(E)?W!=W&&E!=E:function(U1,j1,c1,p1,o1,a1){var l1=r1(U1),M1=r1(j1),Z1=l1?L:s(U1),N1=M1?L:s(j1),s1=(Z1=Z1==T?F1:Z1)==F1,Q0=(N1=N1==T?F1:N1)==F1,B0=Z1==N1;if(B0&&n1(U1)){if(!n1(j1))return!1;l1=!0,s1=!1}if(B0&&!s1)return a1||(a1=new m1),l1||O0(U1)?j0(U1,j1,c1,p1,o1,a1):function(d1,v1,f0,Z0,d0,L0,R0){switch(f0){case K1:if(d1.byteLength!=v1.byteLength||d1.byteOffset!=v1.byteOffset)return!1;d1=d1.buffer,v1=v1.buffer;case D1:return!(d1.byteLength!=v1.byteLength||!L0(new T1(d1),new T1(v1)));case S:case U:case p:return k1(+d1,+v1);case V:return d1.name==v1.name&&d1.message==v1.message;case R:case a:return d1==v1+"";case A:var k0=N;case f:var g0=Z0&j;if(k0||(k0=P),d1.size!=v1.size&&!g0)return!1;var y0=R0.get(d1);if(y0)return y0==v1;Z0|=k,R0.set(d1,v1);var U0=j0(k0(d1),k0(v1),Z0,d0,L0,R0);return R0.delete(d1),U0;case"[object Symbol]":if(_0)return _0.call(d1)==_0.call(v1)}return!1}(U1,j1,Z1,c1,p1,o1,a1);if(!(c1&j)){var P1=s1&&z1.call(U1,"__wrapped__"),e1=Q0&&z1.call(j1,"__wrapped__");if(P1||e1){var X0=P1?U1.value():U1,c0=e1?j1.value():j1;return a1||(a1=new m1),o1(X0,c0,c1,p1,a1)}}return!!B0&&(a1||(a1=new m1),function(d1,v1,f0,Z0,d0,L0){var R0=f0&j,k0=S0(d1),g0=k0.length;if(g0!=S0(v1).length&&!R0)return!1;for(var y0=g0;y0--;){var U0=k0[y0];if(!(R0?U0 in v1:z1.call(v1,U0)))return!1}var a0=L0.get(d1);if(a0&&L0.get(v1))return a0==v1;var C0=!0;L0.set(d1,v1),L0.set(v1,d1);for(var h0=R0;++y0<g0;){var p0=d1[U0=k0[y0]],v0=v1[U0];if(Z0)var l0=R0?Z0(v0,p0,U0,v1,d1,L0):Z0(p0,v0,U0,d1,v1,L0);if(!(l0===void 0?p0===v0||d0(p0,v0,f0,Z0,L0):l0)){C0=!1;break}h0||(h0=U0=="constructor")}if(C0&&!h0){var x0=d1.constructor,u0=v1.constructor;x0==u0||!("constructor"in d1)||!("constructor"in v1)||typeof x0=="function"&&x0 instanceof x0&&typeof u0=="function"&&u0 instanceof u0||(C0=!1)}return L0.delete(d1),L0.delete(v1),C0}(U1,j1,c1,p1,o1,a1))}(W,E,o,_1,V0,I1))}function j0(W,E,o,_1,I1,U1){var j1=o&j,c1=W.length,p1=E.length;if(c1!=p1&&!(j1&&p1>c1))return!1;var o1=U1.get(W);if(o1&&U1.get(E))return o1==E;var a1=-1,l1=!0,M1=o&k?new z0:void 0;for(U1.set(W,E),U1.set(E,W);++a1<c1;){var Z1=W[a1],N1=E[a1];if(_1)var s1=j1?_1(N1,Z1,a1,E,W,U1):_1(Z1,N1,a1,W,E,U1);if(s1!==void 0){if(s1)continue;l1=!1;break}if(M1){if(!Z(E,function(Q0,B0){if(P1=B0,!M1.has(P1)&&(Z1===Q0||I1(Z1,Q0,o,_1,U1)))return M1.push(B0);var P1})){l1=!1;break}}else if(Z1!==N1&&!I1(Z1,N1,o,_1,U1)){l1=!1;break}}return U1.delete(W),U1.delete(E),l1}function S0(W){return function(E,o,_1){var I1=o(E);return r1(E)?I1:function(U1,j1){for(var c1=-1,p1=j1.length,o1=U1.length;++c1<p1;)U1[o1+c1]=j1[c1];return U1}(I1,_1(E))}(W,d,y)}function Y(W,E){var o,_1,I1=W.__data__;return((_1=typeof(o=E))=="string"||_1=="number"||_1=="symbol"||_1=="boolean"?o!=="__proto__":o===null)?I1[typeof E=="string"?"string":"hash"]:I1.map}function _(W,E){var o=function(_1,I1){return _1==null?void 0:_1[I1]}(W,E);return function(_1){return!(!w0(_1)||function(I1){return!!L1&&L1 in I1}(_1))&&(J0(_1)?O1:X1).test(G1(_1))}(o)?o:void 0}K0.prototype.clear=function(){this.__data__=A1?A1(null):{},this.size=0},K0.prototype.delete=function(W){var E=this.has(W)&&delete this.__data__[W];return this.size-=E?1:0,E},K0.prototype.get=function(W){var E=this.__data__;if(A1){var o=E[W];return o===B?void 0:o}return z1.call(E,W)?E[W]:void 0},K0.prototype.has=function(W){var E=this.__data__;return A1?E[W]!==void 0:z1.call(E,W)},K0.prototype.set=function(W,E){var o=this.__data__;return this.size+=this.has(W)?0:1,o[W]=A1&&E===void 0?B:E,this},i1.prototype.clear=function(){this.__data__=[],this.size=0},i1.prototype.delete=function(W){var E=this.__data__,o=$0(E,W);return!(o<0||(o==E.length-1?E.pop():f1.call(E,o,1),--this.size,0))},i1.prototype.get=function(W){var E=this.__data__,o=$0(E,W);return o<0?void 0:E[o][1]},i1.prototype.has=function(W){return $0(this.__data__,W)>-1},i1.prototype.set=function(W,E){var o=this.__data__,_1=$0(o,W);return _1<0?(++this.size,o.push([W,E])):o[_1][1]=E,this},D0.prototype.clear=function(){this.size=0,this.__data__={hash:new K0,map:new(y1||i1),string:new K0}},D0.prototype.delete=function(W){var E=Y(this,W).delete(W);return this.size-=E?1:0,E},D0.prototype.get=function(W){return Y(this,W).get(W)},D0.prototype.has=function(W){return Y(this,W).has(W)},D0.prototype.set=function(W,E){var o=Y(this,W),_1=o.size;return o.set(W,E),this.size+=o.size==_1?0:1,this},z0.prototype.add=z0.prototype.push=function(W){return this.__data__.set(W,B),this},z0.prototype.has=function(W){return this.__data__.has(W)},m1.prototype.clear=function(){this.__data__=new i1,this.size=0},m1.prototype.delete=function(W){var E=this.__data__,o=E.delete(W);return this.size=E.size,o},m1.prototype.get=function(W){return this.__data__.get(W)},m1.prototype.has=function(W){return this.__data__.has(W)},m1.prototype.set=function(W,E){var o=this.__data__;if(o instanceof i1){var _1=o.__data__;if(!y1||_1.length<199)return _1.push([W,E]),this.size=++o.size,this;o=this.__data__=new D0(_1)}return o.set(W,E),this.size=o.size,this};var y=W1?function(W){return W==null?[]:(W=Object(W),function(E,o){for(var _1=-1,I1=E==null?0:E.length,U1=0,j1=[];++_1<I1;){var c1=E[_1];p1=c1,q1.call(W,p1)&&(j1[U1++]=c1)}var p1;return j1}(W1(W)))}:function(){return[]},s=H0;function H1(W,E){return!!(E=E==null?M:E)&&(typeof W=="number"||$.test(W))&&W>-1&&W%1==0&&W<E}function G1(W){if(W!=null){try{return t.call(W)}catch(E){}try{return W+""}catch(E){}}return""}function k1(W,E){return W===E||W!=W&&E!=E}(C1&&s(new C1(new ArrayBuffer(1)))!=K1||y1&&s(new y1)!=A||g1&&s(g1.resolve())!=Y1||x1&&s(new x1)!=f||h1&&s(new h1)!=e)&&(s=function(W){var E=H0(W),o=E==F1?W.constructor:void 0,_1=o?G1(o):"";if(_1)switch(_1){case b0:return K1;case I0:return A;case G0:return Y1;case N0:return f;case P0:return e}return E});var u1=T0(function(){return arguments}())?T0:function(W){return Y0(W)&&z1.call(W,"callee")&&!q1.call(W,"callee")},r1=Array.isArray,n1=b1||function(){return!1};function J0(W){if(!w0(W))return!1;var E=H0(W);return E==D||E==G||E==I||E==c}function q0(W){return typeof W=="number"&&W>-1&&W%1==0&&W<=M}function w0(W){var E=typeof W;return W!=null&&(E=="object"||E=="function")}function Y0(W){return W!=null&&typeof W=="object"}var O0=K?function(W){return function(E){return W(E)}}(K):function(W){return Y0(W)&&q0(W.length)&&!!J[H0(W)]};function d(W){return(E=W)!=null&&q0(E.length)&&!J0(E)?function(o,_1){var I1=r1(o),U1=!I1&&u1(o),j1=!I1&&!U1&&n1(o),c1=!I1&&!U1&&!j1&&O0(o),p1=I1||U1||j1||c1,o1=p1?function(M1,Z1){for(var N1=-1,s1=Array(M1);++N1<M1;)s1[N1]=Z1(N1);return s1}(o.length,String):[],a1=o1.length;for(var l1 in o)!_1&&!z1.call(o,l1)||p1&&(l1=="length"||j1&&(l1=="offset"||l1=="parent")||c1&&(l1=="buffer"||l1=="byteLength"||l1=="byteOffset")||H1(l1,a1))||o1.push(l1);return o1}(W):function(o){if(I1=(_1=o)&&_1.constructor,_1!==(typeof I1=="function"&&I1.prototype||l))return w1(o);var _1,I1,U1=[];for(var j1 in Object(o))z1.call(o,j1)&&j1!="constructor"&&U1.push(j1);return U1}(W);var E}x.exports=function(W,E){return V0(W,E)}},2845:function(x,O,z){Object.defineProperty(O,"__esModule",{value:!0});const B=z(9907),j=z(3958);var k;(function(M){M.compose=function(T={},L={},I=!1){typeof T!="object"&&(T={}),typeof L!="object"&&(L={});let S=B(L);I||(S=Object.keys(S).reduce((U,V)=>(S[V]!=null&&(U[V]=S[V]),U),{}));for(let U in T)T[U]!==void 0&&L[U]===void 0&&(S[U]=T[U]);return Object.keys(S).length>0?S:void 0},M.diff=function(T={},L={}){typeof T!="object"&&(T={}),typeof L!="object"&&(L={});const I=Object.keys(T).concat(Object.keys(L)).reduce((S,U)=>(j(T[U],L[U])||(S[U]=L[U]===void 0?null:L[U]),S),{});return Object.keys(I).length>0?I:void 0},M.invert=function(T={},L={}){T=T||{};const I=Object.keys(L).reduce((S,U)=>(L[U]!==T[U]&&T[U]!==void 0&&(S[U]=L[U]),S),{});return Object.keys(T).reduce((S,U)=>(T[U]!==L[U]&&L[U]===void 0&&(S[U]=null),S),I)},M.transform=function(T,L,I=!1){if(typeof T!="object")return L;if(typeof L!="object")return;if(!I)return L;const S=Object.keys(L).reduce((U,V)=>(T[V]===void 0&&(U[V]=L[V]),U),{});return Object.keys(S).length>0?S:void 0}})(k||(k={})),O.default=k},1702:function(x,O,z){Object.defineProperty(O,"__esModule",{value:!0}),O.AttributeMap=O.OpIterator=O.Op=void 0;const B=z(9661),j=z(9907),k=z(3958),M=z(2845);O.AttributeMap=M.default;const T=z(7707);O.Op=T.default;const L=z(6026);O.OpIterator=L.default;const I=String.fromCharCode(0),S=(V,D)=>{if(typeof V!="object"||V===null)throw new Error("cannot retain a "+typeof V);if(typeof D!="object"||D===null)throw new Error("cannot retain a "+typeof D);const G=Object.keys(V)[0];if(!G||G!==Object.keys(D)[0])throw new Error(`embed types not matched: ${G} != ${Object.keys(D)[0]}`);return[G,V[G],D[G]]};class U{constructor(V){Array.isArray(V)?this.ops=V:V!=null&&Array.isArray(V.ops)?this.ops=V.ops:this.ops=[]}static registerEmbed(V,D){this.handlers[V]=D}static unregisterEmbed(V){delete this.handlers[V]}static getHandler(V){const D=this.handlers[V];if(!D)throw new Error(`no handlers for embed type "${V}"`);return D}insert(V,D){const G={};return typeof V=="string"&&V.length===0?this:(G.insert=V,D!=null&&typeof D=="object"&&Object.keys(D).length>0&&(G.attributes=D),this.push(G))}delete(V){return V<=0?this:this.push({delete:V})}retain(V,D){if(typeof V=="number"&&V<=0)return this;const G={retain:V};return D!=null&&typeof D=="object"&&Object.keys(D).length>0&&(G.attributes=D),this.push(G)}push(V){let D=this.ops.length,G=this.ops[D-1];if(V=j(V),typeof G=="object"){if(typeof V.delete=="number"&&typeof G.delete=="number")return this.ops[D-1]={delete:G.delete+V.delete},this;if(typeof G.delete=="number"&&V.insert!=null&&(D-=1,G=this.ops[D-1],typeof G!="object"))return this.ops.unshift(V),this;if(k(V.attributes,G.attributes)){if(typeof V.insert=="string"&&typeof G.insert=="string")return this.ops[D-1]={insert:G.insert+V.insert},typeof V.attributes=="object"&&(this.ops[D-1].attributes=V.attributes),this;if(typeof V.retain=="number"&&typeof G.retain=="number")return this.ops[D-1]={retain:G.retain+V.retain},typeof V.attributes=="object"&&(this.ops[D-1].attributes=V.attributes),this}}return D===this.ops.length?this.ops.push(V):this.ops.splice(D,0,V),this}chop(){const V=this.ops[this.ops.length-1];return V&&typeof V.retain=="number"&&!V.attributes&&this.ops.pop(),this}filter(V){return this.ops.filter(V)}forEach(V){this.ops.forEach(V)}map(V){return this.ops.map(V)}partition(V){const D=[],G=[];return this.forEach((A)=>{(V(A)?D:G).push(A)}),[D,G]}reduce(V,D){return this.ops.reduce(V,D)}changeLength(){return this.reduce((V,D)=>D.insert?V+T.default.length(D):D.delete?V-D.delete:V,0)}length(){return this.reduce((V,D)=>V+T.default.length(D),0)}slice(V=0,D=Infinity){const G=[],A=new L.default(this.ops);let p=0;for(;p<D&&A.hasNext();){let h;p<V?h=A.next(V-p):(h=A.next(D-p),G.push(h)),p+=T.default.length(h)}return new U(G)}compose(V){const D=new L.default(this.ops),G=new L.default(V.ops),A=[],p=G.peek();if(p!=null&&typeof p.retain=="number"&&p.attributes==null){let F1=p.retain;for(;D.peekType()==="insert"&&D.peekLength()<=F1;)F1-=D.peekLength(),A.push(D.next());p.retain-F1>0&&G.next(p.retain-F1)}const h=new U(A);for(;D.hasNext()||G.hasNext();)if(G.peekType()==="insert")h.push(G.next());else if(D.peekType()==="delete")h.push(D.next());else{const F1=Math.min(D.peekLength(),G.peekLength()),Y1=D.next(F1),c=G.next(F1);if(c.retain){const R={};if(typeof Y1.retain=="number")R.retain=typeof c.retain=="number"?F1:c.retain;else if(typeof c.retain=="number")Y1.retain==null?R.insert=Y1.insert:R.retain=Y1.retain;else{const a=Y1.retain==null?"insert":"retain",[g,e,D1]=S(Y1[a],c.retain),K1=U.getHandler(g);R[a]={[g]:K1.compose(e,D1,a==="retain")}}const f=M.default.compose(Y1.attributes,c.attributes,typeof Y1.retain=="number");if(f&&(R.attributes=f),h.push(R),!G.hasNext()&&k(h.ops[h.ops.length-1],R)){const a=new U(D.rest());return h.concat(a).chop()}}else typeof c.delete=="number"&&(typeof Y1.retain=="number"||typeof Y1.retain=="object"&&Y1.retain!==null)&&h.push(c)}return h.chop()}concat(V){const D=new U(this.ops.slice());return V.ops.length>0&&(D.push(V.ops[0]),D.ops=D.ops.concat(V.ops.slice(1))),D}diff(V,D){if(this.ops===V.ops)return new U;const G=[this,V].map((Y1)=>Y1.map((c)=>{if(c.insert!=null)return typeof c.insert=="string"?c.insert:I;throw new Error("diff() called "+(Y1===V?"on":"with")+" non-document")}).join("")),A=new U,p=B(G[0],G[1],D,!0),h=new L.default(this.ops),F1=new L.default(V.ops);return p.forEach((Y1)=>{let c=Y1[1].length;for(;c>0;){let R=0;switch(Y1[0]){case B.INSERT:R=Math.min(F1.peekLength(),c),A.push(F1.next(R));break;case B.DELETE:R=Math.min(c,h.peekLength()),h.next(R),A.delete(R);break;case B.EQUAL:R=Math.min(h.peekLength(),F1.peekLength(),c);const f=h.next(R),a=F1.next(R);k(f.insert,a.insert)?A.retain(R,M.default.diff(f.attributes,a.attributes)):A.push(a).delete(R)}c-=R}}),A.chop()}eachLine(V,D="\n"){const G=new L.default(this.ops);let A=new U,p=0;for(;G.hasNext();){if(G.peekType()!=="insert")return;const h=G.peek(),F1=T.default.length(h)-G.peekLength(),Y1=typeof h.insert=="string"?h.insert.indexOf(D,F1)-F1:-1;if(Y1<0)A.push(G.next());else if(Y1>0)A.push(G.next(Y1));else{if(V(A,G.next(1).attributes||{},p)===!1)return;p+=1,A=new U}}A.length()>0&&V(A,{},p)}invert(V){const D=new U;return this.reduce((G,A)=>{if(A.insert)D.delete(T.default.length(A));else{if(typeof A.retain=="number"&&A.attributes==null)return D.retain(A.retain),G+A.retain;if(A.delete||typeof A.retain=="number"){const p=A.delete||A.retain;return V.slice(G,G+p).forEach((h)=>{A.delete?D.push(h):A.retain&&A.attributes&&D.retain(T.default.length(h),M.default.invert(A.attributes,h.attributes))}),G+p}if(typeof A.retain=="object"&&A.retain!==null){const p=V.slice(G,G+1),h=new L.default(p.ops).next(),[F1,Y1,c]=S(A.retain,h.insert),R=U.getHandler(F1);return D.retain({[F1]:R.invert(Y1,c)},M.default.invert(A.attributes,h.attributes)),G+1}}return G},0),D.chop()}transform(V,D=!1){if(D=!!D,typeof V=="number")return this.transformPosition(V,D);const G=V,A=new L.default(this.ops),p=new L.default(G.ops),h=new U;for(;A.hasNext()||p.hasNext();)if(A.peekType()!=="insert"||!D&&p.peekType()==="insert")if(p.peekType()==="insert")h.push(p.next());else{const F1=Math.min(A.peekLength(),p.peekLength()),Y1=A.next(F1),c=p.next(F1);if(Y1.delete)continue;if(c.delete)h.push(c);else{const R=Y1.retain,f=c.retain;let a=typeof f=="object"&&f!==null?f:F1;if(typeof R=="object"&&R!==null&&typeof f=="object"&&f!==null){const g=Object.keys(R)[0];if(g===Object.keys(f)[0]){const e=U.getHandler(g);e&&(a={[g]:e.transform(R[g],f[g],D)})}}h.retain(a,M.default.transform(Y1.attributes,c.attributes,D))}}else h.retain(T.default.length(A.next()));return h.chop()}transformPosition(V,D=!1){D=!!D;const G=new L.default(this.ops);let A=0;for(;G.hasNext()&&A<=V;){const p=G.peekLength(),h=G.peekType();G.next(),h!=="delete"?(h==="insert"&&(A<V||!D)&&(V+=p),A+=p):V-=Math.min(p,V-A)}return V}}U.Op=T.default,U.OpIterator=L.default,U.AttributeMap=M.default,U.handlers={},O.default=U,x.exports=U,x.exports.default=U},7707:function(x,O){var z;Object.defineProperty(O,"__esModule",{value:!0}),function(B){B.length=function(j){return typeof j.delete=="number"?j.delete:typeof j.retain=="number"?j.retain:typeof j.retain=="object"&&j.retain!==null?1:typeof j.insert=="string"?j.insert.length:1}}(z||(z={})),O.default=z},6026:function(x,O,z){Object.defineProperty(O,"__esModule",{value:!0});const B=z(7707);O.default=class{constructor(j){this.ops=j,this.index=0,this.offset=0}hasNext(){return this.peekLength()<Infinity}next(j){j||(j=Infinity);const k=this.ops[this.index];if(k){const M=this.offset,T=B.default.length(k);if(j>=T-M?(j=T-M,this.index+=1,this.offset=0):this.offset+=j,typeof k.delete=="number")return{delete:j};{const L={};return k.attributes&&(L.attributes=k.attributes),typeof k.retain=="number"?L.retain=j:typeof k.retain=="object"&&k.retain!==null?L.retain=k.retain:typeof k.insert=="string"?L.insert=k.insert.substr(M,j):L.insert=k.insert,L}}return{retain:Infinity}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?B.default.length(this.ops[this.index])-this.offset:Infinity}peekType(){const j=this.ops[this.index];return j?typeof j.delete=="number"?"delete":typeof j.retain=="number"||typeof j.retain=="object"&&j.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const j=this.offset,k=this.index,M=this.next(),T=this.ops.slice(this.index);return this.offset=j,this.index=k,[M].concat(T)}}return[]}}},4649:function(x,O,z){z.d(O,{Z:function(){return T}});var B=z(8804),j=function(L,I){for(var S=L.length;S--;)if(B.Z(L[S][0],I))return S;return-1},k=Array.prototype.splice;function M(L){var I=-1,S=L==null?0:L.length;for(this.clear();++I<S;){var U=L[I];this.set(U[0],U[1])}}M.prototype.clear=function(){this.__data__=[],this.size=0},M.prototype.delete=function(L){var I=this.__data__,S=j(I,L);return!(S<0||(S==I.length-1?I.pop():k.call(I,S,1),--this.size,0))},M.prototype.get=function(L){var I=this.__data__,S=j(I,L);return S<0?void 0:I[S][1]},M.prototype.has=function(L){return j(this.__data__,L)>-1},M.prototype.set=function(L,I){var S=this.__data__,U=j(S,L);return U<0?(++this.size,S.push([L,I])):S[U][1]=I,this};var T=M},8896:function(x,O,z){var B=z(5546),j=z(3221),k=B.Z(j.Z,"Map");O.Z=k},3703:function(x,O,z){z.d(O,{Z:function(){return V}});var B=z(5546).Z(Object,"create"),j=Object.prototype.hasOwnProperty,k=Object.prototype.hasOwnProperty;function M(D){var G=-1,A=D==null?0:D.length;for(this.clear();++G<A;){var p=D[G];this.set(p[0],p[1])}}M.prototype.clear=function(){this.__data__=B?B(null):{},this.size=0},M.prototype.delete=function(D){var G=this.has(D)&&delete this.__data__[D];return this.size-=G?1:0,G},M.prototype.get=function(D){var G=this.__data__;if(B){var A=G[D];return A==="__lodash_hash_undefined__"?void 0:A}return j.call(G,D)?G[D]:void 0},M.prototype.has=function(D){var G=this.__data__;return B?G[D]!==void 0:k.call(G,D)},M.prototype.set=function(D,G){var A=this.__data__;return this.size+=this.has(D)?0:1,A[D]=B&&G===void 0?"__lodash_hash_undefined__":G,this};var T=M,L=z(4649),I=z(8896),S=function(D,G){var A,p,h=D.__data__;return((p=typeof(A=G))=="string"||p=="number"||p=="symbol"||p=="boolean"?A!=="__proto__":A===null)?h[typeof G=="string"?"string":"hash"]:h.map};function U(D){var G=-1,A=D==null?0:D.length;for(this.clear();++G<A;){var p=D[G];this.set(p[0],p[1])}}U.prototype.clear=function(){this.size=0,this.__data__={hash:new T,map:new(I.Z||L.Z),string:new T}},U.prototype.delete=function(D){var G=S(this,D).delete(D);return this.size-=G?1:0,G},U.prototype.get=function(D){return S(this,D).get(D)},U.prototype.has=function(D){return S(this,D).has(D)},U.prototype.set=function(D,G){var A=S(this,D),p=A.size;return A.set(D,G),this.size+=A.size==p?0:1,this};var V=U},6218:function(x,O,z){z.d(O,{Z:function(){return T}});var B=z(4649),j=z(8896),k=z(3703);function M(L){var I=this.__data__=new B.Z(L);this.size=I.size}M.prototype.clear=function(){this.__data__=new B.Z,this.size=0},M.prototype.delete=function(L){var I=this.__data__,S=I.delete(L);return this.size=I.size,S},M.prototype.get=function(L){return this.__data__.get(L)},M.prototype.has=function(L){return this.__data__.has(L)},M.prototype.set=function(L,I){var S=this.__data__;if(S instanceof B.Z){var U=S.__data__;if(!j.Z||U.length<199)return U.push([L,I]),this.size=++S.size,this;S=this.__data__=new k.Z(U)}return S.set(L,I),this.size=S.size,this};var T=M},187:function(x,O,z){var B=z(3221).Z.Symbol;O.Z=B},8282:function(x,O,z){var B=z(3221).Z.Uint8Array;O.Z=B},848:function(x,O,z){z.d(O,{Z:function(){return I}});var B=z(4248),j=z(7885),k=z(4975),M=z(6401),T=z(8127),L=Object.prototype.hasOwnProperty,I=function(S,U){var V=j.Z(S),D=!V&&B.Z(S),G=!V&&!D&&k.Z(S),A=!V&&!D&&!G&&T.Z(S),p=V||D||G||A,h=p?function(c,R){for(var f=-1,a=Array(c);++f<c;)a[f]=R(f);return a}(S.length,String):[],F1=h.length;for(var Y1 in S)!U&&!L.call(S,Y1)||p&&(Y1=="length"||G&&(Y1=="offset"||Y1=="parent")||A&&(Y1=="buffer"||Y1=="byteLength"||Y1=="byteOffset")||M.Z(Y1,F1))||h.push(Y1);return h}},5810:function(x,O){O.Z=function(z,B){for(var j=-1,k=B.length,M=z.length;++j<k;)z[M+j]=B[j];return z}},6299:function(x,O,z){var B=z(905),j=z(8804),k=Object.prototype.hasOwnProperty;O.Z=function(M,T,L){var I=M[T];k.call(M,T)&&j.Z(I,L)&&(L!==void 0||(T in M))||B.Z(M,T,L)}},905:function(x,O,z){var B=z(5088);O.Z=function(j,k,M){k=="__proto__"&&B.Z?B.Z(j,k,{configurable:!0,enumerable:!0,value:M,writable:!0}):j[k]=M}},2938:function(x,O,z){var B=z(5810),j=z(7885);O.Z=function(k,M,T){var L=M(k);return j.Z(k)?L:B.Z(L,T(k))}},9001:function(x,O,z){z.d(O,{Z:function(){return S}});var B=z(187),j=Object.prototype,k=j.hasOwnProperty,M=j.toString,T=B.Z?B.Z.toStringTag:void 0,L=Object.prototype.toString,I=B.Z?B.Z.toStringTag:void 0,S=function(U){return U==null?U===void 0?"[object Undefined]":"[object Null]":I&&(I in Object(U))?function(V){var D=k.call(V,T),G=V[T];try{V[T]=void 0;var A=!0}catch(h){}var p=M.call(V);return A&&(D?V[T]=G:delete V[T]),p}(U):function(V){return L.call(V)}(U)}},3225:function(x,O){O.Z=function(z){return function(B){return z(B)}}},6181:function(x,O,z){var B=z(8282);O.Z=function(j){var k=new j.constructor(j.byteLength);return new B.Z(k).set(new B.Z(j)),k}},5056:function(x,O,z){var B=z(3221),j=typeof t1=="object"&&t1&&!t1.nodeType&&t1,k=j&&typeof F0=="object"&&F0&&!F0.nodeType&&F0,M=k&&k.exports===j?B.Z.Buffer:void 0,T=M?M.allocUnsafe:void 0;O.Z=function(L,I){if(I)return L.slice();var S=L.length,U=T?T(S):new L.constructor(S);return L.copy(U),U}},6735:function(x,O,z){var B=z(6181);O.Z=function(j,k){var M=k?B.Z(j.buffer):j.buffer;return new j.constructor(M,j.byteOffset,j.length)}},1162:function(x,O){O.Z=function(z,B){var j=-1,k=z.length;for(B||(B=Array(k));++j<k;)B[j]=z[j];return B}},2436:function(x,O,z){var B=z(6299),j=z(905);O.Z=function(k,M,T,L){var I=!T;T||(T={});for(var S=-1,U=M.length;++S<U;){var V=M[S],D=L?L(T[V],k[V],V,T,k):void 0;D===void 0&&(D=k[V]),I?j.Z(T,V,D):B.Z(T,V,D)}return T}},5088:function(x,O,z){var B=z(5546),j=function(){try{var k=B.Z(Object,"defineProperty");return k({},"",{}),k}catch(M){}}();O.Z=j},2168:function(x,O){var z=typeof global=="object"&&global&&global.Object===Object&&global;O.Z=z},7245:function(x,O,z){var B=z(2938),j=z(6808),k=z(298);O.Z=function(M){return B.Z(M,k.Z,j.Z)}},5546:function(x,O,z){z.d(O,{Z:function(){return p}});var B,j=z(8936),k=z(3221).Z["__core-js_shared__"],M=(B=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+B:"",T=z(3122),L=z(6682),I=/^\[object .+?Constructor\]$/,S=Function.prototype,U=Object.prototype,V=S.toString,D=U.hasOwnProperty,G=RegExp("^"+V.call(D).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),A=function(h){return!(!T.Z(h)||(F1=h,M&&(M in F1)))&&(j.Z(h)?G:I).test(L.Z(h));var F1},p=function(h,F1){var Y1=function(c,R){return c==null?void 0:c[R]}(h,F1);return A(Y1)?Y1:void 0}},9552:function(x,O,z){var B=z(6048).Z(Object.getPrototypeOf,Object);O.Z=B},6808:function(x,O,z){z.d(O,{Z:function(){return M}});var B=z(813),j=Object.prototype.propertyIsEnumerable,k=Object.getOwnPropertySymbols,M=k?function(T){return T==null?[]:(T=Object(T),function(L,I){for(var S=-1,U=L==null?0:L.length,V=0,D=[];++S<U;){var G=L[S];I(G,S,L)&&(D[V++]=G)}return D}(k(T),function(L){return j.call(T,L)}))}:B.Z},8649:function(x,O,z){z.d(O,{Z:function(){return a}});var B=z(5546),j=z(3221),k=B.Z(j.Z,"DataView"),M=z(8896),T=B.Z(j.Z,"Promise"),L=B.Z(j.Z,"Set"),I=B.Z(j.Z,"WeakMap"),S=z(9001),U=z(6682),V="[object Map]",D="[object Promise]",G="[object Set]",A="[object WeakMap]",p="[object DataView]",h=U.Z(k),F1=U.Z(M.Z),Y1=U.Z(T),c=U.Z(L),R=U.Z(I),f=S.Z;(k&&f(new k(new ArrayBuffer(1)))!=p||M.Z&&f(new M.Z)!=V||T&&f(T.resolve())!=D||L&&f(new L)!=G||I&&f(new I)!=A)&&(f=function(g){var e=S.Z(g),D1=e=="[object Object]"?g.constructor:void 0,K1=D1?U.Z(D1):"";if(K1)switch(K1){case h:return p;case F1:return V;case Y1:return D;case c:return G;case R:return A}return e});var a=f},2588:function(x,O,z){z.d(O,{Z:function(){return L}});var B=z(3122),j=Object.create,k=function(){function I(){}return function(S){if(!B.Z(S))return{};if(j)return j(S);I.prototype=S;var U=new I;return I.prototype=void 0,U}}(),M=z(9552),T=z(5441),L=function(I){return typeof I.constructor!="function"||T.Z(I)?{}:k(M.Z(I))}},6401:function(x,O){var z=/^(?:0|[1-9]\d*)$/;O.Z=function(B,j){var k=typeof B;return!!(j=j==null?9007199254740991:j)&&(k=="number"||k!="symbol"&&z.test(B))&&B>-1&&B%1==0&&B<j}},5441:function(x,O){var z=Object.prototype;O.Z=function(B){var j=B&&B.constructor;return B===(typeof j=="function"&&j.prototype||z)}},7755:function(x,O,z){var B=z(2168),j=typeof t1=="object"&&t1&&!t1.nodeType&&t1,k=j&&typeof F0=="object"&&F0&&!F0.nodeType&&F0,M=k&&k.exports===j&&B.Z.process,T=function(){try{return k&&k.require&&k.require("util").types||M&&M.binding&&M.binding("util")}catch(L){}}();O.Z=T},6048:function(x,O){O.Z=function(z,B){return function(j){return z(B(j))}}},3221:function(x,O,z){var B=z(2168),j=typeof self=="object"&&self&&self.Object===Object&&self,k=B.Z||j||Function("return this")();O.Z=k},6682:function(x,O){var z=Function.prototype.toString;O.Z=function(B){if(B!=null){try{return z.call(B)}catch(j){}try{return B+""}catch(j){}}return""}},1061:function(x,O,z){z.d(O,{Z:function(){return r}});var B=z(6218),j=z(6299),k=z(2436),M=z(298),T=z(7477),L=z(5056),I=z(1162),S=z(6808),U=z(5810),V=z(9552),D=z(813),G=Object.getOwnPropertySymbols?function(m){for(var v=[];m;)U.Z(v,S.Z(m)),m=V.Z(m);return v}:D.Z,A=z(7245),p=z(2938),h=function(m){return p.Z(m,T.Z,G)},F1=z(8649),Y1=Object.prototype.hasOwnProperty,c=z(6181),R=/\w*$/,f=z(187),a=f.Z?f.Z.prototype:void 0,g=a?a.valueOf:void 0,e=z(6735),D1=function(m,v,n){var u,l,B1,t=m.constructor;switch(v){case"[object ArrayBuffer]":return c.Z(m);case"[object Boolean]":case"[object Date]":return new t(+m);case"[object DataView]":return function(z1,L1){var V1=L1?c.Z(z1.buffer):z1.buffer;return new z1.constructor(V1,z1.byteOffset,z1.byteLength)}(m,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return e.Z(m,n);case"[object Map]":case"[object Set]":return new t;case"[object Number]":case"[object String]":return new t(m);case"[object RegExp]":return(B1=new(l=m).constructor(l.source,R.exec(l))).lastIndex=l.lastIndex,B1;case"[object Symbol]":return u=m,g?Object(g.call(u)):{}}},K1=z(2588),X1=z(7885),$=z(4975),J=z(3391),F=z(3225),Q=z(7755),b=Q.Z&&Q.Z.isMap,C=b?F.Z(b):function(m){return J.Z(m)&&F1.Z(m)=="[object Map]"},X=z(3122),w=Q.Z&&Q.Z.isSet,q=w?F.Z(w):function(m){return J.Z(m)&&F1.Z(m)=="[object Set]"},H="[object Arguments]",K="[object Function]",Z="[object Object]",N={};N[H]=N["[object Array]"]=N["[object ArrayBuffer]"]=N["[object DataView]"]=N["[object Boolean]"]=N["[object Date]"]=N["[object Float32Array]"]=N["[object Float64Array]"]=N["[object Int8Array]"]=N["[object Int16Array]"]=N["[object Int32Array]"]=N["[object Map]"]=N["[object Number]"]=N[Z]=N["[object RegExp]"]=N["[object Set]"]=N["[object String]"]=N["[object Symbol]"]=N["[object Uint8Array]"]=N["[object Uint8ClampedArray]"]=N["[object Uint16Array]"]=N["[object Uint32Array]"]=!0,N["[object Error]"]=N[K]=N["[object WeakMap]"]=!1;var P=function m(v,n,u,l,B1,t){var z1,L1=1&n,V1=2&n,O1=4&n;if(u&&(z1=B1?u(v,l,B1,t):u(v)),z1!==void 0)return z1;if(!X.Z(v))return v;var S1=X1.Z(v);if(S1){if(z1=function(W1){var b1=W1.length,w1=new W1.constructor(b1);return b1&&typeof W1[0]=="string"&&Y1.call(W1,"index")&&(w1.index=W1.index,w1.input=W1.input),w1}(v),!L1)return I.Z(v,z1)}else{var R1=F1.Z(v),T1=R1==K||R1=="[object GeneratorFunction]";if($.Z(v))return L.Z(v,L1);if(R1==Z||R1==H||T1&&!B1){if(z1=V1||T1?{}:K1.Z(v),!L1)return V1?function(W1,b1){return k.Z(W1,G(W1),b1)}(v,function(W1,b1){return W1&&k.Z(b1,T.Z(b1),W1)}(z1,v)):function(W1,b1){return k.Z(W1,S.Z(W1),b1)}(v,function(W1,b1){return W1&&k.Z(b1,M.Z(b1),W1)}(z1,v))}else{if(!N[R1])return B1?v:{};z1=D1(v,R1,L1)}}t||(t=new B.Z);var q1=t.get(v);if(q1)return q1;t.set(v,z1),q(v)?v.forEach(function(W1){z1.add(m(W1,n,u,W1,v,t))}):C(v)&&v.forEach(function(W1,b1){z1.set(b1,m(W1,n,u,b1,v,t))});var f1=O1?V1?h:A.Z:V1?T.Z:M.Z,E1=S1?void 0:f1(v);return function(W1,b1){for(var w1=-1,C1=W1==null?0:W1.length;++w1<C1&&b1(W1[w1],w1,W1)!==!1;);}(E1||v,function(W1,b1){E1&&(W1=v[b1=W1]),j.Z(z1,b1,m(W1,n,u,b1,v,t))}),z1},r=function(m){return P(m,5)}},8804:function(x,O){O.Z=function(z,B){return z===B||z!=z&&B!=B}},4248:function(x,O,z){z.d(O,{Z:function(){return S}});var B=z(9001),j=z(3391),k=function(U){return j.Z(U)&&B.Z(U)=="[object Arguments]"},M=Object.prototype,T=M.hasOwnProperty,L=M.propertyIsEnumerable,I=k(function(){return arguments}())?k:function(U){return j.Z(U)&&T.call(U,"callee")&&!L.call(U,"callee")},S=I},7885:function(x,O){var z=Array.isArray;O.Z=z},3282:function(x,O,z){var B=z(8936),j=z(1164);O.Z=function(k){return k!=null&&j.Z(k.length)&&!B.Z(k)}},4975:function(x,O,z){z.d(O,{Z:function(){return T}});var B=z(3221),j=typeof t1=="object"&&t1&&!t1.nodeType&&t1,k=j&&typeof F0=="object"&&F0&&!F0.nodeType&&F0,M=k&&k.exports===j?B.Z.Buffer:void 0,T=(M?M.isBuffer:void 0)||function(){return!1}},8489:function(x,O,z){z.d(O,{Z:function(){return $}});var B=z(6218),j=z(3703);function k(J){var F=-1,Q=J==null?0:J.length;for(this.__data__=new j.Z;++F<Q;)this.add(J[F])}k.prototype.add=k.prototype.push=function(J){return this.__data__.set(J,"__lodash_hash_undefined__"),this},k.prototype.has=function(J){return this.__data__.has(J)};var M=k,T=function(J,F){for(var Q=-1,b=J==null?0:J.length;++Q<b;)if(F(J[Q],Q,J))return!0;return!1},L=function(J,F,Q,b,C,X){var w=1&Q,q=J.length,H=F.length;if(q!=H&&!(w&&H>q))return!1;var K=X.get(J),Z=X.get(F);if(K&&Z)return K==F&&Z==J;var N=-1,P=!0,r=2&Q?new M:void 0;for(X.set(J,F),X.set(F,J);++N<q;){var m=J[N],v=F[N];if(b)var n=w?b(v,m,N,F,J,X):b(m,v,N,J,F,X);if(n!==void 0){if(n)continue;P=!1;break}if(r){if(!T(F,function(u,l){if(B1=l,!r.has(B1)&&(m===u||C(m,u,Q,b,X)))return r.push(l);var B1})){P=!1;break}}else if(m!==v&&!C(m,v,Q,b,X)){P=!1;break}}return X.delete(J),X.delete(F),P},I=z(187),S=z(8282),U=z(8804),V=function(J){var F=-1,Q=Array(J.size);return J.forEach(function(b,C){Q[++F]=[C,b]}),Q},D=function(J){var F=-1,Q=Array(J.size);return J.forEach(function(b){Q[++F]=b}),Q},G=I.Z?I.Z.prototype:void 0,A=G?G.valueOf:void 0,p=z(7245),h=Object.prototype.hasOwnProperty,F1=z(8649),Y1=z(7885),c=z(4975),R=z(8127),f="[object Arguments]",a="[object Array]",g="[object Object]",e=Object.prototype.hasOwnProperty,D1=function(J,F,Q,b,C,X){var w=Y1.Z(J),q=Y1.Z(F),H=w?a:F1.Z(J),K=q?a:F1.Z(F),Z=(H=H==f?g:H)==g,N=(K=K==f?g:K)==g,P=H==K;if(P&&c.Z(J)){if(!c.Z(F))return!1;w=!0,Z=!1}if(P&&!Z)return X||(X=new B.Z),w||R.Z(J)?L(J,F,Q,b,C,X):function(u,l,B1,t,z1,L1,V1){switch(B1){case"[object DataView]":if(u.byteLength!=l.byteLength||u.byteOffset!=l.byteOffset)return!1;u=u.buffer,l=l.buffer;case"[object ArrayBuffer]":return!(u.byteLength!=l.byteLength||!L1(new S.Z(u),new S.Z(l)));case"[object Boolean]":case"[object Date]":case"[object Number]":return U.Z(+u,+l);case"[object Error]":return u.name==l.name&&u.message==l.message;case"[object RegExp]":case"[object String]":return u==l+"";case"[object Map]":var O1=V;case"[object Set]":var S1=1&t;if(O1||(O1=D),u.size!=l.size&&!S1)return!1;var R1=V1.get(u);if(R1)return R1==l;t|=2,V1.set(u,l);var T1=L(O1(u),O1(l),t,z1,L1,V1);return V1.delete(u),T1;case"[object Symbol]":if(A)return A.call(u)==A.call(l)}return!1}(J,F,H,Q,b,C,X);if(!(1&Q)){var r=Z&&e.call(J,"__wrapped__"),m=N&&e.call(F,"__wrapped__");if(r||m){var v=r?J.value():J,n=m?F.value():F;return X||(X=new B.Z),C(v,n,Q,b,X)}}return!!P&&(X||(X=new B.Z),function(u,l,B1,t,z1,L1){var V1=1&B1,O1=p.Z(u),S1=O1.length;if(S1!=p.Z(l).length&&!V1)return!1;for(var R1=S1;R1--;){var T1=O1[R1];if(!(V1?T1 in l:h.call(l,T1)))return!1}var q1=L1.get(u),f1=L1.get(l);if(q1&&f1)return q1==l&&f1==u;var E1=!0;L1.set(u,l),L1.set(l,u);for(var W1=V1;++R1<S1;){var b1=u[T1=O1[R1]],w1=l[T1];if(t)var C1=V1?t(w1,b1,T1,l,u,L1):t(b1,w1,T1,u,l,L1);if(!(C1===void 0?b1===w1||z1(b1,w1,B1,t,L1):C1)){E1=!1;break}W1||(W1=T1=="constructor")}if(E1&&!W1){var y1=u.constructor,g1=l.constructor;y1==g1||!("constructor"in u)||!("constructor"in l)||typeof y1=="function"&&y1 instanceof y1&&typeof g1=="function"&&g1 instanceof g1||(E1=!1)}return L1.delete(u),L1.delete(l),E1}(J,F,Q,b,C,X))},K1=z(3391),X1=function J(F,Q,b,C,X){return F===Q||(F==null||Q==null||!K1.Z(F)&&!K1.Z(Q)?F!=F&&Q!=Q:D1(F,Q,b,C,J,X))},$=function(J,F){return X1(J,F)}},8936:function(x,O,z){var B=z(9001),j=z(3122);O.Z=function(k){if(!j.Z(k))return!1;var M=B.Z(k);return M=="[object Function]"||M=="[object GeneratorFunction]"||M=="[object AsyncFunction]"||M=="[object Proxy]"}},1164:function(x,O){O.Z=function(z){return typeof z=="number"&&z>-1&&z%1==0&&z<=9007199254740991}},3122:function(x,O){O.Z=function(z){var B=typeof z;return z!=null&&(B=="object"||B=="function")}},3391:function(x,O){O.Z=function(z){return z!=null&&typeof z=="object"}},8127:function(x,O,z){z.d(O,{Z:function(){return S}});var B=z(9001),j=z(1164),k=z(3391),M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Arguments]"]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object Boolean]"]=M["[object DataView]"]=M["[object Date]"]=M["[object Error]"]=M["[object Function]"]=M["[object Map]"]=M["[object Number]"]=M["[object Object]"]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object WeakMap]"]=!1;var T=z(3225),L=z(7755),I=L.Z&&L.Z.isTypedArray,S=I?T.Z(I):function(U){return k.Z(U)&&j.Z(U.length)&&!!M[B.Z(U)]}},298:function(x,O,z){z.d(O,{Z:function(){return L}});var B=z(848),j=z(5441),k=z(6048).Z(Object.keys,Object),M=Object.prototype.hasOwnProperty,T=z(3282),L=function(I){return T.Z(I)?B.Z(I):function(S){if(!j.Z(S))return k(S);var U=[];for(var V in Object(S))M.call(S,V)&&V!="constructor"&&U.push(V);return U}(I)}},7477:function(x,O,z){z.d(O,{Z:function(){return I}});var B=z(848),j=z(3122),k=z(5441),M=Object.prototype.hasOwnProperty,T=function(S){if(!j.Z(S))return function(G){var A=[];if(G!=null)for(var p in Object(G))A.push(p);return A}(S);var U=k.Z(S),V=[];for(var D in S)(D!="constructor"||!U&&M.call(S,D))&&V.push(D);return V},L=z(3282),I=function(S){return L.Z(S)?B.Z(S,!0):T(S)}},9534:function(x,O,z){z.d(O,{Z:function(){return m}});var B,j,k,M,T=z(6218),L=z(905),I=z(8804),S=function(v,n,u){(u!==void 0&&!I.Z(v[n],u)||u===void 0&&!(n in v))&&L.Z(v,n,u)},U=function(v,n,u){for(var l=-1,B1=Object(v),t=u(v),z1=t.length;z1--;){var L1=t[++l];if(n(B1[L1],L1,B1)===!1)break}return v},V=z(5056),D=z(6735),G=z(1162),A=z(2588),p=z(4248),h=z(7885),F1=z(3282),Y1=z(3391),c=z(4975),R=z(8936),f=z(3122),a=z(9001),g=z(9552),e=Function.prototype,D1=Object.prototype,K1=e.toString,X1=D1.hasOwnProperty,$=K1.call(Object),J=z(8127),F=function(v,n){if((n!=="constructor"||typeof v[n]!="function")&&n!="__proto__")return v[n]},Q=z(2436),b=z(7477),C=function(v,n,u,l,B1,t,z1){var L1,V1=F(v,u),O1=F(n,u),S1=z1.get(O1);if(S1)S(v,u,S1);else{var R1=t?t(V1,O1,u+"",v,n,z1):void 0,T1=R1===void 0;if(T1){var q1=h.Z(O1),f1=!q1&&c.Z(O1),E1=!q1&&!f1&&J.Z(O1);R1=O1,q1||f1||E1?h.Z(V1)?R1=V1:(L1=V1,Y1.Z(L1)&&F1.Z(L1)?R1=G.Z(V1):f1?(T1=!1,R1=V.Z(O1,!0)):E1?(T1=!1,R1=D.Z(O1,!0)):R1=[]):function(W1){if(!Y1.Z(W1)||a.Z(W1)!="[object Object]")return!1;var b1=g.Z(W1);if(b1===null)return!0;var w1=X1.call(b1,"constructor")&&b1.constructor;return typeof w1=="function"&&w1 instanceof w1&&K1.call(w1)==$}(O1)||p.Z(O1)?(R1=V1,p.Z(V1)?R1=function(W1){return Q.Z(W1,b.Z(W1))}(V1):f.Z(V1)&&!R.Z(V1)||(R1=A.Z(O1))):T1=!1}T1&&(z1.set(O1,R1),B1(R1,O1,l,t,z1),z1.delete(O1)),S(v,u,R1)}},X=function v(n,u,l,B1,t){n!==u&&U(u,function(z1,L1){if(t||(t=new T.Z),f.Z(z1))C(n,u,L1,l,v,B1,t);else{var V1=B1?B1(F(n,L1),z1,L1+"",n,u,t):void 0;V1===void 0&&(V1=z1),S(n,L1,V1)}},b.Z)},w=function(v){return v},q=Math.max,H=z(5088),K=H.Z?function(v,n){return H.Z(v,"toString",{configurable:!0,enumerable:!1,value:(u=n,function(){return u}),writable:!0});var u}:w,Z=Date.now,N=(B=K,j=0,k=0,function(){var v=Z(),n=16-(v-k);if(k=v,n>0){if(++j>=800)return arguments[0]}else j=0;return B.apply(void 0,arguments)}),P=function(v,n){return N(function(u,l,B1){return l=q(l===void 0?u.length-1:l,0),function(){for(var t=arguments,z1=-1,L1=q(t.length-l,0),V1=Array(L1);++z1<L1;)V1[z1]=t[l+z1];z1=-1;for(var O1=Array(l+1);++z1<l;)O1[z1]=t[z1];return O1[l]=B1(V1),function(S1,R1,T1){switch(T1.length){case 0:return S1.call(R1);case 1:return S1.call(R1,T1[0]);case 2:return S1.call(R1,T1[0],T1[1]);case 3:return S1.call(R1,T1[0],T1[1],T1[2])}return S1.apply(R1,T1)}(u,this,O1)}}(v,n,w),v+"")},r=z(6401),m=(M=function(v,n,u){X(v,n,u)},P(function(v,n){var u=-1,l=n.length,B1=l>1?n[l-1]:void 0,t=l>2?n[2]:void 0;for(B1=M.length>3&&typeof B1=="function"?(l--,B1):void 0,t&&function(L1,V1,O1){if(!f.Z(O1))return!1;var S1=typeof V1;return!!(S1=="number"?F1.Z(O1)&&r.Z(V1,O1.length):S1=="string"&&(V1 in O1))&&I.Z(O1[V1],L1)}(n[0],n[1],t)&&(B1=l<3?void 0:B1,l=1),v=Object(v);++u<l;){var z1=n[u];z1&&M(v,z1,u)}return v}))},813:function(x,O){O.Z=function(){return[]}},8473:function(x,O,z){z.r(O),z.d(O,{Attributor:function(){return G},AttributorStore:function(){return Y1},BlockBlot:function(){return a},ClassAttributor:function(){return p},ContainerBlot:function(){return V},EmbedBlot:function(){return g},InlineBlot:function(){return R},LeafBlot:function(){return D},ParentBlot:function(){return U},Registry:function(){return T},Scope:function(){return B},ScrollBlot:function(){return D1},StyleAttributor:function(){return F1},TextBlot:function(){return X1}});var B=(($)=>($[$.TYPE=3]="TYPE",$[$.LEVEL=12]="LEVEL",$[$.ATTRIBUTE=13]="ATTRIBUTE",$[$.BLOT=14]="BLOT",$[$.INLINE=7]="INLINE",$[$.BLOCK=11]="BLOCK",$[$.BLOCK_BLOT=10]="BLOCK_BLOT",$[$.INLINE_BLOT=6]="INLINE_BLOT",$[$.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",$[$.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",$[$.ANY=15]="ANY",$))(B||{});class j{constructor(){this.head=null,this.tail=null,this.length=0}append(...$){if(this.insertBefore($[0],null),$.length>1){const J=$.slice(1);this.append(...J)}}at($){const J=this.iterator();let F=J();for(;F&&$>0;)$-=1,F=J();return F}contains($){const J=this.iterator();let F=J();for(;F;){if(F===$)return!0;F=J()}return!1}indexOf($){const J=this.iterator();let F=J(),Q=0;for(;F;){if(F===$)return Q;Q+=1,F=J()}return-1}insertBefore($,J){$!=null&&(this.remove($),$.next=J,J!=null?($.prev=J.prev,J.prev!=null&&(J.prev.next=$),J.prev=$,J===this.head&&(this.head=$)):this.tail!=null?(this.tail.next=$,$.prev=this.tail,this.tail=$):($.prev=null,this.head=this.tail=$),this.length+=1)}offset($){let J=0,F=this.head;for(;F!=null;){if(F===$)return J;J+=F.length(),F=F.next}return-1}remove($){this.contains($)&&($.prev!=null&&($.prev.next=$.next),$.next!=null&&($.next.prev=$.prev),$===this.head&&(this.head=$.next),$===this.tail&&(this.tail=$.prev),this.length-=1)}iterator($=this.head){return()=>{const J=$;return $!=null&&($=$.next),J}}find($,J=!1){const F=this.iterator();let Q=F();for(;Q;){const b=Q.length();if($<b||J&&$===b&&(Q.next==null||Q.next.length()!==0))return[Q,$];$-=b,Q=F()}return[null,0]}forEach($){const J=this.iterator();let F=J();for(;F;)$(F),F=J()}forEachAt($,J,F){if(J<=0)return;const[Q,b]=this.find($);let C=$-b;const X=this.iterator(Q);let w=X();for(;w&&C<$+J;){const q=w.length();$>C?F(w,$-C,Math.min(J,C+q-$)):F(w,0,Math.min(q,$+J-C)),C+=q,w=X()}}map($){return this.reduce((J,F)=>(J.push($(F)),J),[])}reduce($,J){const F=this.iterator();let Q=F();for(;Q;)J=$(J,Q),Q=F();return J}}class k extends Error{constructor($){super($="[Parchment] "+$),this.message=$,this.name=this.constructor.name}}const M=class{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find($,J=!1){if($==null)return null;if(this.blots.has($))return this.blots.get($)||null;if(J){let F=null;try{F=$.parentNode}catch{return null}return this.find(F,J)}return null}create($,J,F){const Q=this.query(J);if(Q==null)throw new k(`Unable to create ${J} blot`);const b=Q,C=J instanceof Node||J.nodeType===Node.TEXT_NODE?J:b.create(F),X=new b($,C,F);return M.blots.set(X.domNode,X),X}find($,J=!1){return M.find($,J)}query($,J=B.ANY){let F;return typeof $=="string"?F=this.types[$]||this.attributes[$]:$ instanceof Text||$.nodeType===Node.TEXT_NODE?F=this.types.text:typeof $=="number"?$&B.LEVEL&B.BLOCK?F=this.types.block:$&B.LEVEL&B.INLINE&&(F=this.types.inline):$ instanceof Element&&(($.getAttribute("class")||"").split(/\s+/).some((Q)=>(F=this.classes[Q],!!F)),F=F||this.tags[$.tagName]),F==null?null:J&B.LEVEL&F.scope&&J&B.TYPE&F.scope?F:null}register(...$){if($.length>1)return $.map((F)=>this.register(F));const J=$[0];if(typeof J.blotName!="string"&&typeof J.attrName!="string")throw new k("Invalid definition");if(J.blotName==="abstract")throw new k("Cannot register abstract class");return this.types[J.blotName||J.attrName]=J,typeof J.keyName=="string"?this.attributes[J.keyName]=J:(J.className!=null&&(this.classes[J.className]=J),J.tagName!=null&&(Array.isArray(J.tagName)?J.tagName=J.tagName.map((F)=>F.toUpperCase()):J.tagName=J.tagName.toUpperCase(),(Array.isArray(J.tagName)?J.tagName:[J.tagName]).forEach((F)=>{(this.tags[F]==null||J.className==null)&&(this.tags[F]=J)}))),J}};let T=M;T.blots=new WeakMap;class L{constructor($,J){this.scroll=$,this.domNode=J,T.blots.set(J,this),this.prev=null,this.next=null}static create($){if(this.tagName==null)throw new k("Blot definition missing tagName");let J;return Array.isArray(this.tagName)?(typeof $=="string"&&($=$.toUpperCase(),parseInt($,10).toString()===$&&($=parseInt($,10))),J=typeof $=="number"?document.createElement(this.tagName[$-1]):this.tagName.indexOf($)>-1?document.createElement($):document.createElement(this.tagName[0])):J=document.createElement(this.tagName),this.className&&J.classList.add(this.className),J}get statics(){return this.constructor}attach(){}clone(){const $=this.domNode.cloneNode(!1);return this.scroll.create($)}detach(){this.parent!=null&&this.parent.removeChild(this),T.blots.delete(this.domNode)}deleteAt($,J){this.isolate($,J).remove()}formatAt($,J,F,Q){const b=this.isolate($,J);if(this.scroll.query(F,B.BLOT)!=null&&Q)b.wrap(F,Q);else if(this.scroll.query(F,B.ATTRIBUTE)!=null){const C=this.scroll.create(this.statics.scope);b.wrap(C),C.format(F,Q)}}insertAt($,J,F){const Q=F==null?this.scroll.create("text",J):this.scroll.create(J,F),b=this.split($);this.parent.insertBefore(Q,b||void 0)}isolate($,J){const F=this.split($);if(F==null)throw new Error("Attempt to isolate at end");return F.split(J),F}length(){return 1}offset($=this.parent){return this.parent==null||this===$?0:this.parent.children.offset(this)+this.parent.offset($)}optimize($){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith($,J){const F=typeof $=="string"?this.scroll.create($,J):$;return this.parent!=null&&(this.parent.insertBefore(F,this.next||void 0),this.remove()),F}split($,J){return $===0?this:this.next}update($,J){}wrap($,J){const F=typeof $=="string"?this.scroll.create($,J):$;if(this.parent!=null&&this.parent.insertBefore(F,this.next||void 0),typeof F.appendChild!="function")throw new k(`Cannot wrap ${$}`);return F.appendChild(this),F}}function I($,J){let F=J.find($);if(F==null)try{F=J.create($)}catch{F=J.create(B.INLINE),Array.from($.childNodes).forEach((Q)=>{F.domNode.appendChild(Q)}),$.parentNode&&$.parentNode.replaceChild(F.domNode,$),F.attach()}return F}L.blotName="abstract";const S=class extends L{constructor($,J){super($,J),this.uiNode=null,this.build()}appendChild($){this.insertBefore($)}attach(){super.attach(),this.children.forEach(($)=>{$.attach()})}attachUI($){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=$,S.uiClass&&this.uiNode.classList.add(S.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new j,Array.from(this.domNode.childNodes).filter(($)=>$!==this.uiNode).reverse().forEach(($)=>{try{const J=I($,this.scroll);this.insertBefore(J,this.children.head||void 0)}catch(J){if(J instanceof k)return;throw J}})}deleteAt($,J){if($===0&&J===this.length())return this.remove();this.children.forEachAt($,J,(F,Q,b)=>{F.deleteAt(Q,b)})}descendant($,J=0){const[F,Q]=this.children.find(J);return $.blotName==null&&$(F)||$.blotName!=null&&F instanceof $?[F,Q]:F instanceof S?F.descendant($,Q):[null,-1]}descendants($,J=0,F=Number.MAX_VALUE){let Q=[],b=F;return this.children.forEachAt(J,F,(C,X,w)=>{($.blotName==null&&$(C)||$.blotName!=null&&C instanceof $)&&Q.push(C),C instanceof S&&(Q=Q.concat(C.descendants($,X,b))),b-=w}),Q}detach(){this.children.forEach(($)=>{$.detach()}),super.detach()}enforceAllowedChildren(){let $=!1;this.children.forEach((J)=>{$||this.statics.allowedChildren.some((F)=>J instanceof F)||(J.statics.scope===B.BLOCK_BLOT?(J.next!=null&&this.splitAfter(J),J.prev!=null&&this.splitAfter(J.prev),J.parent.unwrap(),$=!0):J instanceof S?J.unwrap():J.remove())})}formatAt($,J,F,Q){this.children.forEachAt($,J,(b,C,X)=>{b.formatAt(C,X,F,Q)})}insertAt($,J,F){const[Q,b]=this.children.find($);if(Q)Q.insertAt(b,J,F);else{const C=F==null?this.scroll.create("text",J):this.scroll.create(J,F);this.appendChild(C)}}insertBefore($,J){$.parent!=null&&$.parent.children.remove($);let F=null;this.children.insertBefore($,J||null),$.parent=this,J!=null&&(F=J.domNode),(this.domNode.parentNode!==$.domNode||this.domNode.nextSibling!==F)&&this.domNode.insertBefore($.domNode,F),$.attach()}length(){return this.children.reduce(($,J)=>$+J.length(),0)}moveChildren($,J){this.children.forEach((F)=>{$.insertBefore(F,J)})}optimize($){if(super.optimize($),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const J=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(J)}else this.remove()}path($,J=!1){const[F,Q]=this.children.find($,J),b=[[this,$]];return F instanceof S?b.concat(F.path(Q,J)):(F!=null&&b.push([F,Q]),b)}removeChild($){this.children.remove($)}replaceWith($,J){const F=typeof $=="string"?this.scroll.create($,J):$;return F instanceof S&&this.moveChildren(F),super.replaceWith(F)}split($,J=!1){if(!J){if($===0)return this;if($===this.length())return this.next}const F=this.clone();return this.parent&&this.parent.insertBefore(F,this.next||void 0),this.children.forEachAt($,this.length(),(Q,b,C)=>{const X=Q.split(b,J);X!=null&&F.appendChild(X)}),F}splitAfter($){const J=this.clone();for(;$.next!=null;)J.appendChild($.next);return this.parent&&this.parent.insertBefore(J,this.next||void 0),J}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update($,J){const F=[],Q=[];$.forEach((b)=>{b.target===this.domNode&&b.type==="childList"&&(F.push(...b.addedNodes),Q.push(...b.removedNodes))}),Q.forEach((b)=>{if(b.parentNode!=null&&b.tagName!=="IFRAME"&&document.body.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const C=this.scroll.find(b);C!=null&&(C.domNode.parentNode==null||C.domNode.parentNode===this.domNode)&&C.detach()}),F.filter((b)=>b.parentNode===this.domNode&&b!==this.uiNode).sort((b,C)=>b===C?0:b.compareDocumentPosition(C)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach((b)=>{let C=null;b.nextSibling!=null&&(C=this.scroll.find(b.nextSibling));const X=I(b,this.scroll);(X.next!==C||X.next==null)&&(X.parent!=null&&X.parent.removeChild(this),this.insertBefore(X,C||void 0))}),this.enforceAllowedChildren()}};let U=S;U.uiClass="";class V extends U{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt($,J){super.deleteAt($,J),this.enforceAllowedChildren()}formatAt($,J,F,Q){super.formatAt($,J,F,Q),this.enforceAllowedChildren()}insertAt($,J,F){super.insertAt($,J,F),this.enforceAllowedChildren()}optimize($){super.optimize($),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}}V.blotName="container",V.scope=B.BLOCK_BLOT;class D extends L{static value($){return!0}index($,J){return this.domNode===$||this.domNode.compareDocumentPosition($)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(J,1):-1}position($,J){let F=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return $>0&&(F+=1),[this.parent.domNode,F]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}}D.scope=B.INLINE_BLOT;class G{static keys($){return Array.from($.attributes).map((J)=>J.name)}constructor($,J,F={}){this.attrName=$,this.keyName=J;const Q=B.TYPE&B.ATTRIBUTE;this.scope=F.scope!=null?F.scope&B.LEVEL|Q:B.ATTRIBUTE,F.whitelist!=null&&(this.whitelist=F.whitelist)}add($,J){return!!this.canAdd($,J)&&($.setAttribute(this.keyName,J),!0)}canAdd($,J){return this.whitelist==null||(typeof J=="string"?this.whitelist.indexOf(J.replace(/["']/g,""))>-1:this.whitelist.indexOf(J)>-1)}remove($){$.removeAttribute(this.keyName)}value($){const J=$.getAttribute(this.keyName);return this.canAdd($,J)&&J?J:""}}function A($,J){return($.getAttribute("class")||"").split(/\s+/).filter((F)=>F.indexOf(`${J}-`)===0)}class p extends G{static keys($){return($.getAttribute("class")||"").split(/\s+/).map((J)=>J.split("-").slice(0,-1).join("-"))}add($,J){return!!this.canAdd($,J)&&(this.remove($),$.classList.add(`${this.keyName}-${J}`),!0)}remove($){A($,this.keyName).forEach((J)=>{$.classList.remove(J)}),$.classList.length===0&&$.removeAttribute("class")}value($){const J=(A($,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd($,J)?J:""}}function h($){const J=$.split("-"),F=J.slice(1).map((Q)=>Q[0].toUpperCase()+Q.slice(1)).join("");return J[0]+F}class F1 extends G{static keys($){return($.getAttribute("style")||"").split(";").map((J)=>J.split(":")[0].trim())}add($,J){return!!this.canAdd($,J)&&($.style[h(this.keyName)]=J,!0)}remove($){$.style[h(this.keyName)]="",$.getAttribute("style")||$.removeAttribute("style")}value($){const J=$.style[h(this.keyName)];return this.canAdd($,J)?J:""}}class Y1{constructor($){this.attributes={},this.domNode=$,this.build()}attribute($,J){J?$.add(this.domNode,J)&&($.value(this.domNode)!=null?this.attributes[$.attrName]=$:delete this.attributes[$.attrName]):($.remove(this.domNode),delete this.attributes[$.attrName])}build(){this.attributes={};const $=T.find(this.domNode);if($==null)return;const J=G.keys(this.domNode),F=p.keys(this.domNode),Q=F1.keys(this.domNode);J.concat(F).concat(Q).forEach((b)=>{const C=$.scroll.query(b,B.ATTRIBUTE);C instanceof G&&(this.attributes[C.attrName]=C)})}copy($){Object.keys(this.attributes).forEach((J)=>{const F=this.attributes[J].value(this.domNode);$.format(J,F)})}move($){this.copy($),Object.keys(this.attributes).forEach((J)=>{this.attributes[J].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce(($,J)=>($[J]=this.attributes[J].value(this.domNode),$),{})}}const c=class extends U{constructor($,J){super($,J),this.attributes=new Y1(this.domNode)}static formats($,J){const F=J.query(c.blotName);if(F==null||$.tagName!==F.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return $.tagName.toLowerCase()}}format($,J){if($!==this.statics.blotName||J){const F=this.scroll.query($,B.INLINE);if(F==null)return;F instanceof G?this.attributes.attribute(F,J):J&&($!==this.statics.blotName||this.formats()[$]!==J)&&this.replaceWith($,J)}else this.children.forEach((F)=>{F instanceof c||(F=F.wrap(c.blotName,!0)),this.attributes.copy(F)}),this.unwrap()}formats(){const $=this.attributes.values(),J=this.statics.formats(this.domNode,this.scroll);return J!=null&&($[this.statics.blotName]=J),$}formatAt($,J,F,Q){this.formats()[F]!=null||this.scroll.query(F,B.ATTRIBUTE)?this.isolate($,J).format(F,Q):super.formatAt($,J,F,Q)}optimize($){super.optimize($);const J=this.formats();if(Object.keys(J).length===0)return this.unwrap();const F=this.next;F instanceof c&&F.prev===this&&function(Q,b){if(Object.keys(Q).length!==Object.keys(b).length)return!1;for(let C in Q)if(Q[C]!==b[C])return!1;return!0}(J,F.formats())&&(F.moveChildren(this),F.remove())}replaceWith($,J){const F=super.replaceWith($,J);return this.attributes.copy(F),F}update($,J){super.update($,J),$.some((F)=>F.target===this.domNode&&F.type==="attributes")&&this.attributes.build()}wrap($,J){const F=super.wrap($,J);return F instanceof c&&this.attributes.move(F),F}};let R=c;R.allowedChildren=[c,D],R.blotName="inline",R.scope=B.INLINE_BLOT,R.tagName="SPAN";const f=class extends U{constructor($,J){super($,J),this.attributes=new Y1(this.domNode)}static formats($,J){const F=J.query(f.blotName);if(F==null||$.tagName!==F.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return $.tagName.toLowerCase()}}format($,J){const F=this.scroll.query($,B.BLOCK);F!=null&&(F instanceof G?this.attributes.attribute(F,J):$!==this.statics.blotName||J?J&&($!==this.statics.blotName||this.formats()[$]!==J)&&this.replaceWith($,J):this.replaceWith(f.blotName))}formats(){const $=this.attributes.values(),J=this.statics.formats(this.domNode,this.scroll);return J!=null&&($[this.statics.blotName]=J),$}formatAt($,J,F,Q){this.scroll.query(F,B.BLOCK)!=null?this.format(F,Q):super.formatAt($,J,F,Q)}insertAt($,J,F){if(F==null||this.scroll.query(J,B.INLINE)!=null)super.insertAt($,J,F);else{const Q=this.split($);if(Q==null)throw new Error("Attempt to insertAt after block boundaries");{const b=this.scroll.create(J,F);Q.parent.insertBefore(b,Q)}}}replaceWith($,J){const F=super.replaceWith($,J);return this.attributes.copy(F),F}update($,J){super.update($,J),$.some((F)=>F.target===this.domNode&&F.type==="attributes")&&this.attributes.build()}};let a=f;a.blotName="block",a.scope=B.BLOCK_BLOT,a.tagName="P",a.allowedChildren=[R,f,D];class g extends D{static formats($,J){}format($,J){super.formatAt(0,this.length(),$,J)}formatAt($,J,F,Q){$===0&&J===this.length()?this.format(F,Q):super.formatAt($,J,F,Q)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const e={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0};class D1 extends U{constructor($,J){super(null,J),this.registry=$,this.scroll=this,this.build(),this.observer=new MutationObserver((F)=>{this.update(F)}),this.observer.observe(this.domNode,e),this.attach()}create($,J){return this.registry.create(this,$,J)}find($,J=!1){const F=this.registry.find($,J);return F?F.scroll===this?F:J?this.find(F.scroll.domNode.parentNode,!0):null:null}query($,J=B.ANY){return this.registry.query($,J)}register(...$){return this.registry.register(...$)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt($,J){this.update(),$===0&&J===this.length()?this.children.forEach((F)=>{F.remove()}):super.deleteAt($,J)}formatAt($,J,F,Q){this.update(),super.formatAt($,J,F,Q)}insertAt($,J,F){this.update(),super.insertAt($,J,F)}optimize($=[],J={}){super.optimize(J);const F=J.mutationsMap||new WeakMap;let Q=Array.from(this.observer.takeRecords());for(;Q.length>0;)$.push(Q.pop());const b=(w,q=!0)=>{w==null||w===this||w.domNode.parentNode!=null&&(F.has(w.domNode)||F.set(w.domNode,[]),q&&b(w.parent))},C=(w)=>{F.has(w.domNode)&&(w instanceof U&&w.children.forEach(C),F.delete(w.domNode),w.optimize(J))};let X=$;for(let w=0;X.length>0;w+=1){if(w>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(X.forEach((q)=>{const H=this.find(q.target,!0);H!=null&&(H.domNode===q.target&&(q.type==="childList"?(b(this.find(q.previousSibling,!1)),Array.from(q.addedNodes).forEach((K)=>{const Z=this.find(K,!1);b(Z,!1),Z instanceof U&&Z.children.forEach((N)=>{b(N,!1)})})):q.type==="attributes"&&b(H.prev)),b(H))}),this.children.forEach(C),X=Array.from(this.observer.takeRecords()),Q=X.slice();Q.length>0;)$.push(Q.pop())}}update($,J={}){$=$||this.observer.takeRecords();const F=new WeakMap;$.map((Q)=>{const b=this.find(Q.target,!0);return b==null?null:F.has(b.domNode)?(F.get(b.domNode).push(Q),null):(F.set(b.domNode,[Q]),b)}).forEach((Q)=>{Q!=null&&Q!==this&&F.has(Q.domNode)&&Q.update(F.get(Q.domNode)||[],J)}),J.mutationsMap=F,F.has(this.domNode)&&super.update(F.get(this.domNode),J),this.optimize($,J)}}D1.blotName="scroll",D1.defaultChild=a,D1.allowedChildren=[a,V],D1.scope=B.BLOCK_BLOT,D1.tagName="DIV";const K1=class extends D{constructor($,J){super($,J),this.text=this.statics.value(this.domNode)}static create($){return document.createTextNode($)}static value($){return $.data}deleteAt($,J){this.domNode.data=this.text=this.text.slice(0,$)+this.text.slice($+J)}index($,J){return this.domNode===$?J:-1}insertAt($,J,F){F==null?(this.text=this.text.slice(0,$)+J+this.text.slice($),this.domNode.data=this.text):super.insertAt($,J,F)}length(){return this.text.length}optimize($){super.optimize($),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof K1&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position($,J=!1){return[this.domNode,$]}split($,J=!1){if(!J){if($===0)return this;if($===this.length())return this.next}const F=this.scroll.create(this.domNode.splitText($));return this.parent.insertBefore(F,this.next||void 0),this.text=this.statics.value(this.domNode),F}update($,J){$.some((F)=>F.type==="characterData"&&F.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};let X1=K1;X1.blotName="text",X1.scope=B.INLINE_BLOT}},$1={};function J1(x){var O=$1[x];if(O!==void 0)return O.exports;var z=$1[x]={id:x,loaded:!1,exports:{}};return i[x](z,z.exports,J1),z.loaded=!0,z.exports}J1.n=function(x){var O=x&&x.__esModule?function(){return x.default}:function(){return x};return J1.d(O,{a:O}),O},J1.d=function(x,O){for(var z in O)J1.o(O,z)&&!J1.o(x,z)&&Object.defineProperty(x,z,{enumerable:!0,get:O[z]})},J1.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(x){if(typeof window=="object")return window}}(),J1.o=function(x,O){return Object.prototype.hasOwnProperty.call(x,O)},J1.r=function(x){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})},J1.nmd=function(x){return x.paths=[],x.children||(x.children=[]),x};var Q1={};return function(){J1.d(Q1,{default:function(){return S0}});var x=J1(1713),O=J1(767),z=J1(6880),B=J1(8473);class j extends B.ClassAttributor{add(Y,_){let y=0;if(_==="+1"||_==="-1"){const s=this.value(Y)||0;y=_==="+1"?s+1:s-1}else typeof _=="number"&&(y=_);return y===0?(this.remove(Y),!0):super.add(Y,y.toString())}canAdd(Y,_){return super.canAdd(Y,_)||super.canAdd(Y,parseInt(_,10))}value(Y){return parseInt(super.value(Y),10)||void 0}}var k=new j("indent","ql-indent",{scope:B.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),M=J1(3500);class T extends M.ZP{static blotName="blockquote";static tagName="blockquote"}var L=T;class I extends M.ZP{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(Y){return this.tagName.indexOf(Y.tagName)+1}}var S=I,U=J1(5019),V=J1(250);class D extends U.Z{}D.blotName="list-container",D.tagName="OL";class G extends M.ZP{static create(Y){const _=super.create();return _.setAttribute("data-list",Y),_}static formats(Y){return Y.getAttribute("data-list")||void 0}static register(){V.ZP.register(D)}constructor(Y,_){super(Y,_);const y=_.ownerDocument.createElement("span"),s=(H1)=>{if(!Y.isEnabled())return;const G1=this.statics.formats(_,Y);G1==="checked"?(this.format("list","unchecked"),H1.preventDefault()):G1==="unchecked"&&(this.format("list","checked"),H1.preventDefault())};y.addEventListener("mousedown",s),y.addEventListener("touchstart",s),this.attachUI(y)}format(Y,_){Y===this.statics.blotName&&_?this.domNode.setAttribute("data-list",_):super.format(Y,_)}}G.blotName="list",G.tagName="LI",D.allowedChildren=[G],G.requiredContainer=D;var A=J1(4352),p=J1(2179),h=J1(5351),F1=J1(8312),Y1=J1(784);class c extends Y1.Z{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(Y){super.optimize(Y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}var R=c;class f extends Y1.Z{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(Y){const _=super.create(Y);return _.setAttribute("href",this.sanitize(Y)),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}static formats(Y){return Y.getAttribute("href")}static sanitize(Y){return a(Y,this.PROTOCOL_WHITELIST)?Y:this.SANITIZED_URL}format(Y,_){Y===this.statics.blotName&&_?this.domNode.setAttribute("href",this.constructor.sanitize(_)):super.format(Y,_)}}function a(Y,_){const y=document.createElement("a");y.href=Y;const s=y.href.slice(0,y.href.indexOf(":"));return _.indexOf(s)>-1}class g extends Y1.Z{static blotName="script";static tagName=["SUB","SUP"];static create(Y){return Y==="super"?document.createElement("sup"):Y==="sub"?document.createElement("sub"):super.create(Y)}static formats(Y){return Y.tagName==="SUB"?"sub":Y.tagName==="SUP"?"super":void 0}}var e=g;class D1 extends Y1.Z{static blotName="underline";static tagName="U"}var K1=D1,X1=J1(8726);class $ extends X1.Z{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(Y){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const _=super.create(Y);return typeof Y=="string"&&(window.katex.render(Y,_,{throwOnError:!1,errorColor:"#f00"}),_.setAttribute("data-value",Y)),_}static value(Y){return Y.getAttribute("data-value")}html(){const{formula:Y}=this.value();return`<span>${Y}</span>`}}var J=$;const F=["alt","height","width"];class Q extends B.EmbedBlot{static blotName="image";static tagName="IMG";static create(Y){const _=super.create(Y);return typeof Y=="string"&&_.setAttribute("src",this.sanitize(Y)),_}static formats(Y){return F.reduce((_,y)=>(Y.hasAttribute(y)&&(_[y]=Y.getAttribute(y)),_),{})}static match(Y){return/\.(jpe?g|gif|png)$/.test(Y)||/^data:image\/.+;base64/.test(Y)}static register(){/Firefox/i.test(navigator.userAgent)&&setTimeout(()=>{document.execCommand("enableObjectResizing",!1,!1)},1)}static sanitize(Y){return a(Y,["http","https","data"])?Y:"//:0"}static value(Y){return Y.getAttribute("src")}format(Y,_){F.indexOf(Y)>-1?_?this.domNode.setAttribute(Y,_):this.domNode.removeAttribute(Y):super.format(Y,_)}}var b=Q;const C=["height","width"];class X extends M.i2{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(Y){const _=super.create(Y);return _.setAttribute("frameborder","0"),_.setAttribute("allowfullscreen","true"),_.setAttribute("src",this.sanitize(Y)),_}static formats(Y){return C.reduce((_,y)=>(Y.hasAttribute(y)&&(_[y]=Y.getAttribute(y)),_),{})}static sanitize(Y){return f.sanitize(Y)}static value(Y){return Y.getAttribute("src")}format(Y,_){C.indexOf(Y)>-1?_?this.domNode.setAttribute(Y,_):this.domNode.removeAttribute(Y):super.format(Y,_)}html(){const{video:Y}=this.value();return`<a href="${Y}">${Y}</a>`}}var w=X,q=J1(7391),H=J1(1702),K=J1.n(H),Z=J1(8103),N=J1(8474),P=J1(5191),r=J1(3583),m=J1(1453);const v=new B.ClassAttributor("code-token","hljs",{scope:B.Scope.INLINE});class n extends Y1.Z{static formats(Y,_){for(;Y!=null&&Y!==_.domNode;){if(Y.classList&&Y.classList.contains(q.ZP.className))return super.formats(Y,_);Y=Y.parentNode}}constructor(Y,_,y){super(Y,_,y),v.add(this.domNode,y)}format(Y,_){Y!==n.blotName?super.format(Y,_):_?v.add(this.domNode,_):(v.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),v.value(this.domNode)||this.unwrap()}}n.blotName="code-token",n.className="ql-token";class u extends q.ZP{static create(Y){const _=super.create(Y);return typeof Y=="string"&&_.setAttribute("data-language",Y),_}static formats(Y){return Y.getAttribute("data-language")||"plain"}static register(){}format(Y,_){Y===this.statics.blotName&&_?this.domNode.setAttribute("data-language",_):super.format(Y,_)}replaceWith(Y,_){return this.formatAt(0,this.length(),n.blotName,!1),super.replaceWith(Y,_)}}class l extends q.se{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(Y,_){Y===u.blotName&&(this.forceNext=!0,this.children.forEach((y)=>{y.format(Y,_)}))}formatAt(Y,_,y,s){y===u.blotName&&(this.forceNext=!0),super.formatAt(Y,_,y,s)}highlight(Y){let _=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.children.head==null)return;const y=`${Array.from(this.domNode.childNodes).filter((H1)=>H1!==this.uiNode).map((H1)=>H1.textContent).join("\n")}\n`,s=u.formats(this.children.head.domNode);if(_||this.forceNext||this.cachedText!==y){if(y.trim().length>0||this.cachedText==null){const H1=this.children.reduce((k1,u1)=>k1.concat(M.qz(u1,!1)),new(K())),G1=Y(y,s);H1.diff(G1).reduce((k1,u1)=>{let{retain:r1,attributes:n1}=u1;return r1?(n1&&Object.keys(n1).forEach((J0)=>{[u.blotName,n.blotName].includes(J0)&&this.formatAt(k1,r1,J0,n1[J0])}),k1+r1):k1},0)}this.cachedText=y,this.forceNext=!1}}html(Y,_){const[y]=this.children.find(Y);return`<pre data-language="${y?u.formats(y.domNode):"plain"}">\n${r.b(this.code(Y,_))}\n</pre>`}optimize(Y){if(super.optimize(Y),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const _=u.formats(this.children.head.domNode);_!==this.uiNode.value&&(this.uiNode.value=_)}}}l.allowedChildren=[u],u.requiredContainer=l,u.allowedChildren=[n,P.Z,r.Z,N.Z];class B1 extends Z.Z{static register(){V.ZP.register(n,!0),V.ZP.register(u,!0),V.ZP.register(l,!0)}constructor(Y,_){if(super(Y,_),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((y,s)=>{let{key:H1}=s;return y[H1]=!0,y},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(V.ZP.events.SCROLL_BLOT_MOUNT,(Y)=>{if(!(Y instanceof l))return;const _=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach((y)=>{let{key:s,label:H1}=y;const G1=_.ownerDocument.createElement("option");G1.textContent=H1,G1.setAttribute("value",s),_.appendChild(G1)}),_.addEventListener("change",()=>{Y.format(u.blotName,_.value),this.quill.root.focus(),this.highlight(Y,!0)}),Y.uiNode==null&&(Y.attachUI(_),Y.children.head&&(_.value=u.formats(Y.children.head.domNode)))})}initTimer(){let Y=null;this.quill.on(V.ZP.events.SCROLL_OPTIMIZE,()=>{Y&&clearTimeout(Y),Y=setTimeout(()=>{this.highlight(),Y=null},this.options.interval)})}highlight(){let Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,_=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(V.ZP.sources.USER);const y=this.quill.getSelection();(Y==null?this.quill.scroll.descendants(l):[Y]).forEach((s)=>{s.highlight(this.highlightBlot,_)}),this.quill.update(V.ZP.sources.SILENT),y!=null&&this.quill.setSelection(y,V.ZP.sources.SILENT)}highlightBlot(Y){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(_=this.languages[_]?_:"plain",_==="plain")return r.b(Y).split("\n").reduce((s,H1,G1)=>(G1!==0&&s.insert("\n",{[q.ZP.blotName]:_}),s.insert(H1)),new(K()));const y=this.quill.root.ownerDocument.createElement("div");return y.classList.add(q.ZP.className),y.innerHTML=this.options.hljs.highlight(_,Y).value,m.fw(this.quill.scroll,y,[(s,H1)=>{const G1=v.value(s);return G1?H1.compose(new(K())().retain(H1.length(),{[n.blotName]:G1})):H1}],[(s,H1)=>s.data.split("\n").reduce((G1,k1,u1)=>(u1!==0&&G1.insert("\n",{[q.ZP.blotName]:_}),G1.insert(k1)),H1)],new WeakMap)}}B1.DEFAULTS={hljs:window.hljs,interval:1000,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"Javascript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class t extends M.ZP{static blotName="table";static tagName="TD";static create(Y){const _=super.create();return Y?_.setAttribute("data-row",Y):_.setAttribute("data-row",O1()),_}static formats(Y){if(Y.hasAttribute("data-row"))return Y.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(Y,_){Y===t.blotName&&_?this.domNode.setAttribute("data-row",_):super.format(Y,_)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class z1 extends U.Z{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const Y=this.children.head.formats(),_=this.children.tail.formats(),y=this.next.children.head.formats(),s=this.next.children.tail.formats();return Y.table===_.table&&Y.table===y.table&&Y.table===s.table}return!1}optimize(Y){super.optimize(Y),this.children.forEach((_)=>{if(_.next==null)return;const y=_.formats(),s=_.next.formats();if(y.table!==s.table){const H1=this.splitAfter(_);H1&&H1.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class L1 extends U.Z{static blotName="table-body";static tagName="TBODY"}class V1 extends U.Z{static blotName="table-container";static tagName="TABLE";balanceCells(){const Y=this.descendants(z1),_=Y.reduce((y,s)=>Math.max(s.children.length,y),0);Y.forEach((y)=>{new Array(_-y.children.length).fill(0).forEach(()=>{let s;y.children.head!=null&&(s=t.formats(y.children.head.domNode));const H1=this.scroll.create(t.blotName,s);y.appendChild(H1),H1.optimize()})})}cells(Y){return this.rows().map((_)=>_.children.at(Y))}deleteColumn(Y){const[_]=this.descendant(L1);_!=null&&_.children.head!=null&&_.children.forEach((y)=>{const s=y.children.at(Y);s!=null&&s.remove()})}insertColumn(Y){const[_]=this.descendant(L1);_!=null&&_.children.head!=null&&_.children.forEach((y)=>{const s=y.children.at(Y),H1=t.formats(y.children.head.domNode),G1=this.scroll.create(t.blotName,H1);y.insertBefore(G1,s)})}insertRow(Y){const[_]=this.descendant(L1);if(_==null||_.children.head==null)return;const y=O1(),s=this.scroll.create(z1.blotName);_.children.head.children.forEach(()=>{const G1=this.scroll.create(t.blotName,y);s.appendChild(G1)});const H1=_.children.at(Y);_.insertBefore(s,H1)}rows(){const Y=this.children.head;return Y==null?[]:Y.children.map((_)=>_)}}function O1(){return`row-${Math.random().toString(36).slice(2,6)}`}V1.allowedChildren=[L1],L1.requiredContainer=V1,L1.allowedChildren=[z1],z1.requiredContainer=L1,z1.allowedChildren=[t],t.requiredContainer=z1;class S1 extends Z.Z{static register(){V.ZP.register(t),V.ZP.register(z1),V.ZP.register(L1),V.ZP.register(V1)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(V1).forEach((Y)=>{Y.balanceCells()})}deleteColumn(){const[Y,,_]=this.getTable();_!=null&&(Y.deleteColumn(_.cellOffset()),this.quill.update(V.ZP.sources.USER))}deleteRow(){const[,Y]=this.getTable();Y!=null&&(Y.remove(),this.quill.update(V.ZP.sources.USER))}deleteTable(){const[Y]=this.getTable();if(Y==null)return;const _=Y.offset();Y.remove(),this.quill.update(V.ZP.sources.USER),this.quill.setSelection(_,V.ZP.sources.SILENT)}getTable(){let Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(Y==null)return[null,null,null,-1];const[_,y]=this.quill.getLine(Y.index);if(_==null||_.statics.blotName!==t.blotName)return[null,null,null,-1];const s=_.parent;return[s.parent.parent,s,_,y]}insertColumn(Y){const _=this.quill.getSelection();if(!_)return;const[y,s,H1]=this.getTable(_);if(H1==null)return;const G1=H1.cellOffset();y.insertColumn(G1+Y),this.quill.update(V.ZP.sources.USER);let k1=s.rowOffset();Y===0&&(k1+=1),this.quill.setSelection(_.index+k1,_.length,V.ZP.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(Y){const _=this.quill.getSelection();if(!_)return;const[y,s,H1]=this.getTable(_);if(H1==null)return;const G1=s.rowOffset();y.insertRow(G1+Y),this.quill.update(V.ZP.sources.USER),Y>0?this.quill.setSelection(_,V.ZP.sources.SILENT):this.quill.setSelection(_.index+s.children.length,_.length,V.ZP.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(Y,_){const y=this.quill.getSelection();if(y==null)return;const s=new Array(Y).fill(0).reduce((H1)=>{const G1=new Array(_).fill("\n").join("");return H1.insert(G1,{table:O1()})},new(K())().retain(y.index));this.quill.updateContents(s,V.ZP.sources.USER),this.quill.setSelection(y.index,V.ZP.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(V.ZP.events.SCROLL_OPTIMIZE,(Y)=>{Y.some((_)=>!!["TD","TR","TBODY","TABLE"].includes(_.target.tagName)&&(this.quill.once(V.ZP.events.TEXT_CHANGE,(y,s,H1)=>{H1===V.ZP.sources.USER&&this.balanceTables()}),!0))})}}var R1=S1;const T1=J1(1204).Z("quill:toolbar");class q1 extends Z.Z{constructor(Y,_){if(super(Y,_),Array.isArray(this.options.container)){const y=document.createElement("div");y.setAttribute("role","toolbar"),function(s,H1){Array.isArray(H1[0])||(H1=[H1]),H1.forEach((G1)=>{const k1=document.createElement("span");k1.classList.add("ql-formats"),G1.forEach((u1)=>{if(typeof u1=="string")f1(k1,u1);else{const r1=Object.keys(u1)[0],n1=u1[r1];Array.isArray(n1)?function(J0,q0,w0){const Y0=document.createElement("select");Y0.classList.add(`ql-${q0}`),w0.forEach((O0)=>{const d=document.createElement("option");O0!==!1?d.setAttribute("value",String(O0)):d.setAttribute("selected","selected"),Y0.appendChild(d)}),J0.appendChild(Y0)}(k1,r1,n1):f1(k1,r1,n1)}}),s.appendChild(k1)})}(y,this.options.container),Y.container?.parentNode?.insertBefore(y,Y.container),this.container=y}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach((y)=>{const s=this.options.handlers?.[y];s&&this.addHandler(y,s)}),Array.from(this.container.querySelectorAll("button, select")).forEach((y)=>{this.attach(y)}),this.quill.on(V.ZP.events.EDITOR_CHANGE,(y,s)=>{y===V.ZP.events.SELECTION_CHANGE&&this.update(s)}),this.quill.on(V.ZP.events.SCROLL_OPTIMIZE,()=>{const[y]=this.quill.selection.getRange();this.update(y)})):T1.error("Container required for toolbar",this.options)}addHandler(Y,_){this.handlers[Y]=_}attach(Y){let _=Array.from(Y.classList).find((s)=>s.indexOf("ql-")===0);if(!_)return;if(_=_.slice(3),Y.tagName==="BUTTON"&&Y.setAttribute("type","button"),this.handlers[_]==null&&this.quill.scroll.query(_)==null)return void T1.warn("ignoring attaching to nonexistent format",_,Y);const y=Y.tagName==="SELECT"?"change":"click";Y.addEventListener(y,(s)=>{let H1;if(Y.tagName==="SELECT"){if(Y.selectedIndex<0)return;const k1=Y.options[Y.selectedIndex];H1=!k1.hasAttribute("selected")&&(k1.value||!1)}else H1=!Y.classList.contains("ql-active")&&(Y.value||!Y.hasAttribute("value")),s.preventDefault();this.quill.focus();const[G1]=this.quill.selection.getRange();if(this.handlers[_]!=null)this.handlers[_].call(this,H1);else if(this.quill.scroll.query(_).prototype instanceof B.EmbedBlot){if(H1=prompt(`Enter ${_}`),!H1)return;this.quill.updateContents(new(K())().retain(G1.index).delete(G1.length).insert({[_]:H1}),V.ZP.sources.USER)}else this.quill.format(_,H1,V.ZP.sources.USER);this.update(G1)}),this.controls.push([_,Y])}update(Y){const _=Y==null?{}:this.quill.getFormat(Y);this.controls.forEach((y)=>{const[s,H1]=y;if(H1.tagName==="SELECT"){let G1=null;if(Y==null)G1=null;else if(_[s]==null)G1=H1.querySelector("option[selected]");else if(!Array.isArray(_[s])){let k1=_[s];typeof k1=="string"&&(k1=k1.replace(/"/g,'\\"')),G1=H1.querySelector(`option[value="${k1}"]`)}G1==null?(H1.value="",H1.selectedIndex=-1):G1.selected=!0}else if(Y==null)H1.classList.remove("ql-active"),H1.setAttribute("aria-pressed","false");else if(H1.hasAttribute("value")){const G1=_[s],k1=G1===H1.getAttribute("value")||G1!=null&&G1.toString()===H1.getAttribute("value")||G1==null&&!H1.getAttribute("value");H1.classList.toggle("ql-active",k1),H1.setAttribute("aria-pressed",k1.toString())}else{const G1=_[s]!=null;H1.classList.toggle("ql-active",G1),H1.setAttribute("aria-pressed",G1.toString())}})}}function f1(Y,_,y){const s=document.createElement("button");s.setAttribute("type","button"),s.classList.add(`ql-${_}`),s.setAttribute("aria-pressed","false"),y!=null?(s.value=y,s.setAttribute("aria-label",`${_}: ${y}`)):s.setAttribute("aria-label",_),Y.appendChild(s)}q1.DEFAULTS={},q1.DEFAULTS={container:null,handlers:{clean(){const Y=this.quill.getSelection();if(Y!=null)if(Y.length===0){const _=this.quill.getFormat();Object.keys(_).forEach((y)=>{this.quill.scroll.query(y,B.Scope.INLINE)!=null&&this.quill.format(y,!1,V.ZP.sources.USER)})}else this.quill.removeFormat(Y,V.ZP.sources.USER)},direction(Y){const{align:_}=this.quill.getFormat();Y==="rtl"&&_==null?this.quill.format("align","right",V.ZP.sources.USER):Y||_!=="right"||this.quill.format("align",!1,V.ZP.sources.USER),this.quill.format("direction",Y,V.ZP.sources.USER)},indent(Y){const _=this.quill.getSelection(),y=this.quill.getFormat(_),s=parseInt(y.indent||0,10);if(Y==="+1"||Y==="-1"){let H1=Y==="+1"?1:-1;y.direction==="rtl"&&(H1*=-1),this.quill.format("indent",s+H1,V.ZP.sources.USER)}},link(Y){Y===!0&&(Y=prompt("Enter link URL:")),this.quill.format("link",Y,V.ZP.sources.USER)},list(Y){const _=this.quill.getSelection(),y=this.quill.getFormat(_);Y==="check"?y.list==="checked"||y.list==="unchecked"?this.quill.format("list",!1,V.ZP.sources.USER):this.quill.format("list","unchecked",V.ZP.sources.USER):this.quill.format("list",Y,V.ZP.sources.USER)}}};var E1='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"></line> </svg>',W1={align:{"":'<svg viewbox="0 0 18 18"> <line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line> <line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line> <line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line> </svg>',center:'<svg viewbox="0 0 18 18"> <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line> <line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line> <line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line> </svg>',right:'<svg viewbox="0 0 18 18"> <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line> <line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line> <line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line> </svg>',justify:'<svg viewbox="0 0 18 18"> <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line> <line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"></line> <line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"></line> </svg>'},background:'<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height="1" width="1" x="4" y="4"></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height="1" width="1" x="2" y="6"></rect> <rect height="1" width="1" x="3" y="5"></rect> <rect height="1" width="1" x="4" y="7"></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height="1" width="1" x="2" y="12"></rect> <rect height="1" width="1" x="2" y="9"></rect> <rect height="1" width="1" x="2" y="15"></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height="1" width="1" x="3" y="8"></rect> <path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"></path> <path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"></path> <path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"></path> <rect height="1" width="1" x="12" y="2"></rect> <rect height="1" width="1" x="11" y="3"></rect> <path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"></path> <rect height="1" width="1" x="2" y="3"></rect> <rect height="1" width="1" x="6" y="2"></rect> <rect height="1" width="1" x="3" y="2"></rect> <rect height="1" width="1" x="5" y="3"></rect> <rect height="1" width="1" x="9" y="2"></rect> <rect height="1" width="1" x="15" y="14"></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height="1" width="1" x="13" y="7"></rect> <rect height="1" width="1" x="15" y="5"></rect> <rect height="1" width="1" x="14" y="6"></rect> <rect height="1" width="1" x="15" y="8"></rect> <rect height="1" width="1" x="14" y="9"></rect> <path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"></path> <rect height="1" width="1" x="14" y="3"></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height="1" width="1" x="15" y="2"></rect> <rect height="1" width="1" x="12" y="5"></rect> <rect height="1" width="1" x="13" y="4"></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height="1" width="1" x="9" y="14"></rect> <rect height="1" width="1" x="8" y="15"></rect> <path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"></path> <rect height="1" width="1" x="5" y="15"></rect> <path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"></path> <rect height="1" width="1" x="11" y="15"></rect> <path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"></path> <rect height="1" width="1" x="14" y="15"></rect> <rect height="1" width="1" x="15" y="11"></rect> </g> <polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"></polyline> <line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"></line> </svg>',blockquote:'<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"></rect> <rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"></rect> <path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"></path> <path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"></path> </svg>',bold:'<svg viewbox="0 0 18 18"> <path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"></path> <path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"></path> </svg>',clean:'<svg class="" viewbox="0 0 18 18"> <line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"></line> <line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"></line> <line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"></line> <line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"></line> <rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"></rect> </svg>',code:E1,"code-block":E1,color:'<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"></line> <polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"></polyline> <line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"></line> </svg>',direction:{"":'<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"></line> <path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"></path> <rect class="ql-fill" height="11" width="1" x="11" y="4"></rect> <rect class="ql-fill" height="11" width="1" x="13" y="4"></rect> </svg>',rtl:'<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"></line> <path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"></path> <rect class="ql-fill" height="11" width="1" x="5" y="4"></rect> <rect class="ql-fill" height="11" width="1" x="7" y="4"></rect> </svg>'},formula:'<svg viewbox="0 0 18 18"> <path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"></path> <rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"></rect> <path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"></path> </svg>',header:{1:'<svg viewBox="0 0 18 18"> <path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/> </svg>',2:'<svg viewBox="0 0 18 18"> <path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/> </svg>'},italic:'<svg viewbox="0 0 18 18"> <line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"></line> <line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"></line> <line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"></line> </svg>',image:'<svg viewbox="0 0 18 18"> <rect class="ql-stroke" height="10" width="12" x="3" y="4"></rect> <circle class="ql-fill" cx="6" cy="7" r="1"></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>',indent:{"+1":'<svg viewbox="0 0 18 18"> <line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"></line> <line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"></line> <line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>',"-1":'<svg viewbox="0 0 18 18"> <line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"></line> <line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"></line> <line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"></line> <polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"></polyline> </svg>'},link:'<svg viewbox="0 0 18 18"> <line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"></line> <path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"></path> <path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"></path> </svg>',list:{bullet:'<svg viewbox="0 0 18 18"> <line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"></line> <line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"></line> <line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"></line> <line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"></line> <line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"></line> <line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"></line> </svg>',check:'<svg class="" viewbox="0 0 18 18"> <line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"></line> <polyline class="ql-stroke" points="3 4 4 5 6 3"></polyline> <line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"></line> <polyline class="ql-stroke" points="3 14 4 15 6 13"></polyline> <line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"></line> <polyline class="ql-stroke" points="3 9 4 10 6 8"></polyline> </svg>',ordered:'<svg viewbox="0 0 18 18"> <line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"></line> <line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"></line> <line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"></line> <line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"></line> <path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"></path> <path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"></path> <path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"></path> </svg>'},script:{sub:'<svg viewbox="0 0 18 18"> <path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/> <path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/> </svg>',super:'<svg viewbox="0 0 18 18"> <path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/> <path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/> </svg>'},strike:'<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"></line> <path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"></path> <path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"></path> </svg>',table:'<svg viewbox="0 0 18 18"> <rect class="ql-stroke" height="12" width="12" x="3" y="3"></rect> <rect class="ql-fill" height="2" width="3" x="5" y="5"></rect> <rect class="ql-fill" height="2" width="4" x="9" y="5"></rect> <g class="ql-fill ql-transparent"> <rect height="2" width="3" x="5" y="8"></rect> <rect height="2" width="4" x="9" y="8"></rect> <rect height="2" width="3" x="5" y="11"></rect> <rect height="2" width="4" x="9" y="11"></rect> </g> </svg>',underline:'<svg viewbox="0 0 18 18"> <path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"></path> <rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"></rect> </svg>',video:'<svg viewbox="0 0 18 18"> <rect class="ql-stroke" height="12" width="12" x="3" y="3"></rect> <rect class="ql-fill" height="12" width="1" x="5" y="3"></rect> <rect class="ql-fill" height="12" width="1" x="12" y="3"></rect> <rect class="ql-fill" height="2" width="8" x="5" y="8"></rect> <rect class="ql-fill" height="1" width="3" x="3" y="5"></rect> <rect class="ql-fill" height="1" width="3" x="3" y="7"></rect> <rect class="ql-fill" height="1" width="3" x="3" y="10"></rect> <rect class="ql-fill" height="1" width="3" x="3" y="12"></rect> <rect class="ql-fill" height="1" width="3" x="12" y="5"></rect> <rect class="ql-fill" height="1" width="3" x="12" y="7"></rect> <rect class="ql-fill" height="1" width="3" x="12" y="10"></rect> <rect class="ql-fill" height="1" width="3" x="12" y="12"></rect> </svg>'};let b1=0;function w1(Y,_){Y.setAttribute(_,`${Y.getAttribute(_)!=="true"}`)}var C1=class{constructor(Y){this.select=Y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",(_)=>{switch(_.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),_.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),w1(this.label,"aria-expanded"),w1(this.options,"aria-hidden")}buildItem(Y){const _=document.createElement("span");_.tabIndex="0",_.setAttribute("role","button"),_.classList.add("ql-picker-item");const y=Y.getAttribute("value");return y&&_.setAttribute("data-value",y),Y.textContent&&_.setAttribute("data-label",Y.textContent),_.addEventListener("click",()=>{this.selectItem(_,!0)}),_.addEventListener("keydown",(s)=>{switch(s.key){case"Enter":this.selectItem(_,!0),s.preventDefault();break;case"Escape":this.escape(),s.preventDefault()}}),_}buildLabel(){const Y=document.createElement("span");return Y.classList.add("ql-picker-label"),Y.innerHTML='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"></polygon> <polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"></polygon> </svg>',Y.tabIndex="0",Y.setAttribute("role","button"),Y.setAttribute("aria-expanded","false"),this.container.appendChild(Y),Y}buildOptions(){const Y=document.createElement("span");Y.classList.add("ql-picker-options"),Y.setAttribute("aria-hidden","true"),Y.tabIndex="-1",Y.id=`ql-picker-options-${b1}`,b1+=1,this.label.setAttribute("aria-controls",Y.id),this.options=Y,Array.from(this.select.options).forEach((_)=>{const y=this.buildItem(_);Y.appendChild(y),_.selected===!0&&this.selectItem(y)}),this.container.appendChild(Y)}buildPicker(){Array.from(this.select.attributes).forEach((Y)=>{this.container.setAttribute(Y.name,Y.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(Y){let _=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const y=this.container.querySelector(".ql-selected");Y!==y&&(y!=null&&y.classList.remove("ql-selected"),Y!=null&&(Y.classList.add("ql-selected"),this.select.selectedIndex=Array.from(Y.parentNode.children).indexOf(Y),Y.hasAttribute("data-value")?this.label.setAttribute("data-value",Y.getAttribute("data-value")):this.label.removeAttribute("data-value"),Y.hasAttribute("data-label")?this.label.setAttribute("data-label",Y.getAttribute("data-label")):this.label.removeAttribute("data-label"),_&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let Y;if(this.select.selectedIndex>-1){const y=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];Y=this.select.options[this.select.selectedIndex],this.selectItem(y)}else this.selectItem(null);const _=Y!=null&&Y!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",_)}},y1=class extends C1{constructor(Y,_){super(Y),this.label.innerHTML=_,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach((y)=>{y.classList.add("ql-primary")})}buildItem(Y){const _=super.buildItem(Y);return _.style.backgroundColor=Y.getAttribute("value")||"",_}selectItem(Y,_){super.selectItem(Y,_);const y=this.label.querySelector(".ql-color-label"),s=Y&&Y.getAttribute("data-value")||"";y&&(y.tagName==="line"?y.style.stroke=s:y.style.fill=s)}},g1=class extends C1{constructor(Y,_){super(Y),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach((y)=>{y.innerHTML=_[y.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(Y,_){super.selectItem(Y,_);const y=Y||this.defaultItem;if(y!=null){if(this.label.innerHTML===y.innerHTML)return;this.label.innerHTML=y.innerHTML}}},x1=class{constructor(Y,_){this.quill=Y,this.boundsContainer=_||document.body,this.root=Y.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,((y)=>{const{overflowY:s}=getComputedStyle(y,null);return s!=="visible"&&s!=="clip"})(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(Y){const _=Y.left+Y.width/2-this.root.offsetWidth/2,y=Y.bottom+this.quill.root.scrollTop;this.root.style.left=`${_}px`,this.root.style.top=`${y}px`,this.root.classList.remove("ql-flip");const s=this.boundsContainer.getBoundingClientRect(),H1=this.root.getBoundingClientRect();let G1=0;if(H1.right>s.right&&(G1=s.right-H1.right,this.root.style.left=`${_+G1}px`),H1.left<s.left&&(G1=s.left-H1.left,this.root.style.left=`${_+G1}px`),H1.bottom>s.bottom){const k1=H1.bottom-H1.top,u1=Y.bottom-Y.top+k1;this.root.style.top=y-u1+"px",this.root.classList.add("ql-flip")}return G1}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},h1=J1(9534),A1=J1(1274),b0=J1(6760);const I0=[!1,"center","right","justify"],G0=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],N0=[!1,"serif","monospace"],P0=["1","2","3",!1],A0=["small",!1,"large","huge"];class _0 extends b0.Z{constructor(Y,_){super(Y,_);const y=(s)=>{document.body.contains(Y.root)?(this.tooltip==null||this.tooltip.root.contains(s.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach((H1)=>{H1.container.contains(s.target)||H1.close()})):document.body.removeEventListener("click",y)};Y.emitter.listenDOM("click",document.body,y)}addModule(Y){const _=super.addModule(Y);return Y==="toolbar"&&this.extendToolbar(_),_}buildButtons(Y,_){Array.from(Y).forEach((y)=>{(y.getAttribute("class")||"").split(/\s+/).forEach((s)=>{if(s.startsWith("ql-")&&(s=s.slice(3),_[s]!=null))if(s==="direction")y.innerHTML=_[s][""]+_[s].rtl;else if(typeof _[s]=="string")y.innerHTML=_[s];else{const H1=y.value||"";H1!=null&&_[s][H1]&&(y.innerHTML=_[s][H1])}})})}buildPickers(Y,_){this.pickers=Array.from(Y).map((y)=>{if(y.classList.contains("ql-align")&&(y.querySelector("option")==null&&i1(y,I0),typeof _.align=="object"))return new g1(y,_.align);if(y.classList.contains("ql-background")||y.classList.contains("ql-color")){const s=y.classList.contains("ql-background")?"background":"color";return y.querySelector("option")==null&&i1(y,G0,s==="background"?"#ffffff":"#000000"),new y1(y,_[s])}return y.querySelector("option")==null&&(y.classList.contains("ql-font")?i1(y,N0):y.classList.contains("ql-header")?i1(y,P0):y.classList.contains("ql-size")&&i1(y,A0)),new C1(y)}),this.quill.on(A1.Z.events.EDITOR_CHANGE,()=>{this.pickers.forEach((y)=>{y.update()})})}}_0.DEFAULTS=h1.Z({},b0.Z.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let Y=this.container.querySelector("input.ql-image[type=file]");Y==null&&(Y=document.createElement("input"),Y.setAttribute("type","file"),Y.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),Y.classList.add("ql-image"),Y.addEventListener("change",()=>{const _=this.quill.getSelection(!0);this.quill.uploader.upload(_,Y.files),Y.value=""}),this.container.appendChild(Y)),Y.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class K0 extends x1{constructor(Y,_){super(Y,_),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",(Y)=>{Y.key==="Enter"?(this.save(),Y.preventDefault()):Y.key==="Escape"&&(this.cancel(),Y.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;_!=null?this.textbox.value=_:Y!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const y=this.quill.getBounds(this.quill.selection.savedRange);y!=null&&this.position(y),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${Y}`)||""),this.root.setAttribute("data-mode",Y)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:Y}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:_}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",Y,A1.Z.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Y,A1.Z.sources.USER)),this.quill.root.scrollTop=_;break}case"video":Y=function(_){let y=_.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||_.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return y?`${y[1]||"https"}://www.youtube.com/embed/${y[2]}?showinfo=0`:(y=_.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${y[1]||"https"}://player.vimeo.com/video/${y[2]}/`:_}(Y);case"formula":{if(!Y)break;const _=this.quill.getSelection(!0);if(_!=null){const y=_.index+_.length;this.quill.insertEmbed(y,this.root.getAttribute("data-mode"),Y,A1.Z.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(y+1," ",A1.Z.sources.USER),this.quill.setSelection(y+2,A1.Z.sources.USER)}break}}this.textbox.value="",this.hide()}}function i1(Y,_){let y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];_.forEach((s)=>{const H1=document.createElement("option");s===y?H1.setAttribute("selected","selected"):H1.setAttribute("value",String(s)),Y.appendChild(H1)})}var D0=J1(6794);const z0=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class m1 extends K0{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(Y,_){super(Y,_),this.quill.on(A1.Z.events.EDITOR_CHANGE,(y,s,H1,G1)=>{if(y===A1.Z.events.SELECTION_CHANGE)if(s!=null&&s.length>0&&G1===A1.Z.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const k1=this.quill.getLines(s.index,s.length);if(k1.length===1){const u1=this.quill.getBounds(s);u1!=null&&this.position(u1)}else{const u1=k1[k1.length-1],r1=this.quill.getIndex(u1),n1=Math.min(u1.length()-1,s.index+s.length-r1),J0=this.quill.getBounds(new D0.e(r1,n1));J0!=null&&this.position(J0)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(A1.Z.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const Y=this.quill.getSelection();if(Y!=null){const _=this.quill.getBounds(Y);_!=null&&this.position(_)}},1)})}cancel(){this.show()}position(Y){const _=super.position(Y),y=this.root.querySelector(".ql-tooltip-arrow");return y.style.marginLeft="",_!==0&&(y.style.marginLeft=-1*_-y.offsetWidth/2+"px"),_}}class $0 extends _0{constructor(Y,_){_.modules.toolbar!=null&&_.modules.toolbar.container==null&&(_.modules.toolbar.container=z0),super(Y,_),this.quill.container.classList.add("ql-bubble")}extendToolbar(Y){this.tooltip=new m1(this.quill,this.options.bounds),Y.container!=null&&(this.tooltip.root.appendChild(Y.container),this.buildButtons(Y.container.querySelectorAll("button"),W1),this.buildPickers(Y.container.querySelectorAll("select"),W1))}}$0.DEFAULTS=h1.Z({},_0.DEFAULTS,{modules:{toolbar:{handlers:{link(Y){Y?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});const H0=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class T0 extends K0{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",(Y)=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),Y.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",(Y)=>{if(this.linkRange!=null){const _=this.linkRange;this.restoreFocus(),this.quill.formatText(_,"link",!1,A1.Z.sources.USER),delete this.linkRange}Y.preventDefault(),this.hide()}),this.quill.on(A1.Z.events.SELECTION_CHANGE,(Y,_,y)=>{if(Y!=null){if(Y.length===0&&y===A1.Z.sources.USER){const[s,H1]=this.quill.scroll.descendant(f,Y.index);if(s!=null){this.linkRange=new D0.e(Y.index-H1,s.length());const G1=f.formats(s.domNode);this.preview.textContent=G1,this.preview.setAttribute("href",G1),this.show();const k1=this.quill.getBounds(this.linkRange);return void(k1!=null&&this.position(k1))}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class V0 extends _0{constructor(Y,_){_.modules.toolbar!=null&&_.modules.toolbar.container==null&&(_.modules.toolbar.container=H0),super(Y,_),this.quill.container.classList.add("ql-snow")}extendToolbar(Y){Y.container!=null&&(Y.container.classList.add("ql-snow"),this.buildButtons(Y.container.querySelectorAll("button"),W1),this.buildPickers(Y.container.querySelectorAll("select"),W1),this.tooltip=new T0(this.quill,this.options.bounds),Y.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(_,y)=>{Y.handlers.link.call(Y,!y.format.link)}))}}V0.DEFAULTS=h1.Z({},_0.DEFAULTS,{modules:{toolbar:{handlers:{link(Y){if(Y){const _=this.quill.getSelection();if(_==null||_.length===0)return;let y=this.quill.getText(_);/^\S+@\S+\.\S+$/.test(y)&&y.indexOf("mailto:")!==0&&(y=`mailto:${y}`);const{tooltip:s}=this.quill.theme;s.edit("link",y)}else this.quill.format("link",!1)}}}}});var j0=V0;x.default.register({"attributors/attribute/direction":z.IF,"attributors/class/align":O.dk,"attributors/class/background":A.Y,"attributors/class/color":p.Hn,"attributors/class/direction":z.hY,"attributors/class/font":h._,"attributors/class/size":F1.m,"attributors/style/align":O.HE,"attributors/style/background":A.w,"attributors/style/color":p.HQ,"attributors/style/direction":z.H8,"attributors/style/font":h.H,"attributors/style/size":F1.Z},!0),x.default.register({"formats/align":O.dk,"formats/direction":z.hY,"formats/indent":k,"formats/background":A.w,"formats/color":p.HQ,"formats/font":h._,"formats/size":F1.m,"formats/blockquote":L,"formats/code-block":q.ZP,"formats/header":S,"formats/list":G,"formats/bold":R,"formats/code":q.EK,"formats/italic":class extends R{static blotName="italic";static tagName=["EM","I"]},"formats/link":f,"formats/script":e,"formats/strike":class extends R{static blotName="strike";static tagName=["S","STRIKE"]},"formats/underline":K1,"formats/formula":J,"formats/image":b,"formats/video":w,"modules/syntax":B1,"modules/table":R1,"modules/toolbar":q1,"themes/bubble":$0,"themes/snow":j0,"ui/icons":W1,"ui/picker":C1,"ui/icon-picker":g1,"ui/color-picker":y1,"ui/tooltip":x1},!0);var S0=x.default}(),Q1.default}()})});var W0=K3(o0(),1);var i0=function(i,$1,J1){const Q1=i;return Object.keys($1).forEach((x)=>{if(J1.indexOf(x)>-1)Q1.dataset[x]=$1[x];else delete Q1.dataset[x]}),Q1},m0=function(i,$1){if($1===null)return;if(typeof $1==="object")i.appendChild($1);else i.innerText=$1},r0=function(i,$1,J1,Q1){return $1.reduce((x,O)=>{let z;if(J1&&Q1){const B=new RegExp(`^${O}|\\s${O}`,"g"),j=(i.match(B)||[]).pop();if(!j)return{mentionChar:x.mentionChar,mentionCharIndex:x.mentionCharIndex};z=j!==O?i.lastIndexOf(j)+j.length-O.length:0}else z=i.lastIndexOf(O);if(z>x.mentionCharIndex)return{mentionChar:O,mentionCharIndex:z};return{mentionChar:x.mentionChar,mentionCharIndex:x.mentionCharIndex}},{mentionChar:null,mentionCharIndex:-1})},n0=function(i,$1){return $1.test(i)},e0=function(i,$1,J1,Q1){if(i===-1)return!1;if(!J1)return!0;const x=i?$1[i-1]:Q1;return!x||!!x.match(/\s/)};var B3=W0.default.import("blots/embed"),M0={TAB:9,ENTER:13,ESCAPE:27,UP:38,DOWN:40};class t0 extends Event{value;event;constructor(i,$1){super(i,$1);this.value=null}}class $3{isOpen;itemIndex;mentionCharPos;cursorPos;values;suspendMouseEnter;existingSourceExecutionToken;quill;options;mentionContainer;mentionList;constructor(i,$1){this.isOpen=!1,this.itemIndex=0,this.mentionCharPos=null,this.cursorPos=null,this.values=[],this.suspendMouseEnter=!1,this.existingSourceExecutionToken=null,this.quill=i,this.options={source:null,renderItem({value:J1}){return`${J1}`},renderLoading(){return null},onSelect(J1,Q1){Q1(J1)},mentionDenotationChars:["@"],showDenotationChar:!0,allowedChars:/^[a-zA-Z0-9_]*$/,minChars:0,maxChars:31,offsetTop:2,offsetLeft:0,isolateCharacter:!1,allowInlineMentionChar:!1,fixMentionsToQuill:!1,positioningStrategy:"normal",defaultMenuOrientation:"bottom",blotName:"mention",dataAttributes:["id","value","denotationChar","link","target","disabled"],linkTarget:"_blank",onOpen(){return!0},onBeforeClose(){return!0},onClose(){return!0},listItemClass:"ql-mention-list-item",mentionContainerClass:"ql-mention-list-container",mentionListClass:"ql-mention-list",spaceAfterInsert:!0,selectKeys:[M0.ENTER]},Object.assign(this.options,$1,{dataAttributes:Array.isArray($1.dataAttributes)?this.options.dataAttributes.concat($1.dataAttributes):this.options.dataAttributes});for(let J1 in this.options)if(typeof this.options[J1]==="function")this.options[J1]=this.options[J1].bind(this);if(this.mentionContainer=document.createElement("div"),this.mentionContainer.className=this.options.mentionContainerClass?this.options.mentionContainerClass:"",this.mentionContainer.style.cssText="display: none; position: absolute;",this.mentionContainer.onmousemove=this.onContainerMouseMove.bind(this),this.options.fixMentionsToQuill)this.mentionContainer.style.width="auto";this.mentionList=document.createElement("ul"),this.mentionList.id="quill-mention-list",i.root.setAttribute("aria-owns","quill-mention-list"),this.mentionList.className=this.options.mentionListClass?this.options.mentionListClass:"",this.mentionContainer.appendChild(this.mentionList),i.on("text-change",this.onTextChange.bind(this)),i.on("selection-change",this.onSelectionChange.bind(this)),i.container.addEventListener("paste",()=>{setTimeout(()=>{const J1=i.getSelection();this.onSelectionChange(J1)})}),i.keyboard.addBinding({key:M0.TAB},this.selectHandler.bind(this)),i.keyboard.bindings[M0.TAB].unshift(i.keyboard.bindings[M0.TAB].pop());for(let J1 of this.options.selectKeys)i.keyboard.addBinding({key:J1},this.selectHandler.bind(this));i.keyboard.bindings[M0.ENTER].unshift(i.keyboard.bindings[M0.ENTER].pop()),i.keyboard.addBinding({key:M0.ESCAPE},this.escapeHandler.bind(this)),i.keyboard.addBinding({key:M0.UP},this.upHandler.bind(this)),i.keyboard.addBinding({key:M0.DOWN},this.downHandler.bind(this))}selectHandler(){if(this.isOpen&&!this.existingSourceExecutionToken)return this.selectItem(),!1;return!0}escapeHandler(){if(this.isOpen){if(this.existingSourceExecutionToken)this.existingSourceExecutionToken.abandoned=!0;return this.hideMentionList(),!1}return!0}upHandler(){if(this.isOpen&&!this.existingSourceExecutionToken)return this.prevItem(),!1;return!0}downHandler(){if(this.isOpen&&!this.existingSourceExecutionToken)return this.nextItem(),!1;return!0}showMentionList(){if(this.options.positioningStrategy==="fixed")document.body.appendChild(this.mentionContainer);else this.quill.container.appendChild(this.mentionContainer);this.mentionContainer.style.visibility="hidden",this.mentionContainer.style.display="",this.mentionContainer.scrollTop=0,this.setMentionContainerPosition(),this.setIsOpen(!0)}hideMentionList(){this.options.onBeforeClose(),this.mentionContainer.style.display="none",this.mentionContainer.remove(),this.setIsOpen(!1),this.quill.root.removeAttribute("aria-activedescendant")}highlightItem(i=!0){for(let $1=0;$1<this.mentionList.childNodes.length;$1+=1)this.mentionList.childNodes[$1].classList.remove("selected");if(this.itemIndex===-1||this.mentionList.childNodes[this.itemIndex].dataset.disabled==="true")return;if(this.mentionList.childNodes[this.itemIndex].classList.add("selected"),this.quill.root.setAttribute("aria-activedescendant",this.mentionList.childNodes[this.itemIndex].id),i)this.mentionList.childNodes[this.itemIndex].scrollIntoView({behaviour:"smooth",block:"nearest"})}onContainerMouseMove(){this.suspendMouseEnter=!1}selectItem(){if(this.itemIndex===-1)return;const i=this.mentionList.childNodes[this.itemIndex].dataset;if(i.disabled)return;this.options.onSelect(i,($1,J1=!1,Q1={})=>{return this.insertItem($1,J1,Q1)}),this.hideMentionList()}insertItem(i,$1,J1={}){const Q1=i;if(Q1===null)return;const x={...this.options,...J1};if(!x.showDenotationChar)Q1.denotationChar="";var O;if(!$1)O=this.mentionCharPos,this.quill.deleteText(this.mentionCharPos,this.cursorPos-this.mentionCharPos,W0.default.sources.USER);else O=this.cursorPos;const z=this.quill.insertEmbed(O,x.blotName,Q1,W0.default.sources.USER);if(x.spaceAfterInsert)this.quill.insertText(O+1," ",W0.default.sources.USER),this.quill.setSelection(O+2,W0.default.sources.USER);else this.quill.setSelection(O+1,W0.default.sources.USER);return this.hideMentionList(),z}onItemMouseEnter(i){if(this.suspendMouseEnter)return;const $1=Number(i.target.dataset.index);if(!Number.isNaN($1)&&$1!==this.itemIndex)this.itemIndex=$1,this.highlightItem(!1)}onDisabledItemMouseEnter(i){if(this.suspendMouseEnter)return;this.itemIndex=-1,this.highlightItem(!1)}onItemClick(i){if(i.button!==0)return;i.preventDefault(),i.stopImmediatePropagation(),this.itemIndex=i.currentTarget.dataset.index,this.highlightItem(),this.selectItem()}onItemMouseDown(i){i.preventDefault(),i.stopImmediatePropagation()}renderLoading(){var i=this.options.renderLoading();if(!i)return;if(this.mentionContainer.getElementsByClassName("ql-mention-loading").length>0){this.showMentionList();return}this.mentionList.innerHTML="";var $1=document.createElement("div");$1.className="ql-mention-loading",m0($1,this.options.renderLoading()),this.mentionContainer.append($1),this.showMentionList()}removeLoading(){var i=this.mentionContainer.getElementsByClassName("ql-mention-loading");if(i.length>0)i[0].remove()}renderList(i,$1,J1){if($1&&$1.length>0){this.removeLoading(),this.values=$1,this.mentionList.innerText="";var Q1=-1;for(let x=0;x<$1.length;x+=1){const O=document.createElement("li");if(O.id="quill-mention-item-"+x,O.className=this.options.listItemClass?this.options.listItemClass:"",$1[x].disabled)O.className+=" disabled",O.setAttribute("aria-hidden","true");else if(Q1===-1)Q1=x;O.dataset.index=x.toString();const z=this.options.renderItem($1[x],J1);if(m0(O,z),!$1[x].disabled)O.onmouseenter=this.onItemMouseEnter.bind(this),O.onmouseup=this.onItemClick.bind(this),O.onmousedown=this.onItemMouseDown.bind(this);else O.onmouseenter=this.onDisabledItemMouseEnter.bind(this);O.dataset.denotationChar=i,this.mentionList.appendChild(i0(O,$1[x],this.options.dataAttributes))}this.itemIndex=Q1,this.highlightItem(),this.showMentionList()}else this.hideMentionList()}nextItem(){var i=0,$1;do{i++,$1=(this.itemIndex+i)%this.values.length;var J1=this.mentionList.childNodes[$1].dataset.disabled==="true";if(i===this.values.length+1){$1=-1;break}}while(J1);this.itemIndex=$1,this.suspendMouseEnter=!0,this.highlightItem()}prevItem(){var i=0,$1;do{i++,$1=(this.itemIndex+this.values.length-i)%this.values.length;var J1=this.mentionList.childNodes[$1].dataset.disabled==="true";if(i===this.values.length+1){$1=-1;break}}while(J1);this.itemIndex=$1,this.suspendMouseEnter=!0,this.highlightItem()}containerBottomIsNotVisible(i,$1){return i+this.mentionContainer.offsetHeight+$1.top>window.pageYOffset+window.innerHeight}containerRightIsNotVisible(i,$1){if(this.options.fixMentionsToQuill)return!1;const J1=i+this.mentionContainer.offsetWidth+$1.left,Q1=window.pageXOffset+document.documentElement.clientWidth;return J1>Q1}setIsOpen(i){if(this.isOpen!==i){if(i)this.options.onOpen();else this.options.onClose();this.isOpen=i}}setMentionContainerPosition(){if(this.options.positioningStrategy==="fixed")this.setMentionContainerPosition_Fixed();else this.setMentionContainerPosition_Normal()}setMentionContainerPosition_Normal(){const i=this.quill.container.getBoundingClientRect(),$1=this.quill.getBounds(this.mentionCharPos),J1=this.mentionContainer.offsetHeight;let Q1=this.options.offsetTop,x=this.options.offsetLeft;if(this.options.fixMentionsToQuill)this.mentionContainer.style.right="0px";else x+=$1.left;if(this.containerRightIsNotVisible(x,i)){const O=this.mentionContainer.offsetWidth+this.options.offsetLeft;x=i.width-O}if(this.options.defaultMenuOrientation==="top"){if(this.options.fixMentionsToQuill)Q1=-1*(J1+this.options.offsetTop);else Q1=$1.top-(J1+this.options.offsetTop);if(Q1+i.top<=0){let O=this.options.offsetTop;if(this.options.fixMentionsToQuill)O+=i.height;else O+=$1.bottom;Q1=O}}else{if(this.options.fixMentionsToQuill)Q1+=i.height;else Q1+=$1.bottom;if(this.containerBottomIsNotVisible(Q1,i)){let O=this.options.offsetTop*-1;if(!this.options.fixMentionsToQuill)O+=$1.top;Q1=O-J1}}if(Q1>=0)this.options.mentionContainerClass.split(" ").forEach((O)=>{this.mentionContainer.classList.add(`${O}-bottom`),this.mentionContainer.classList.remove(`${O}-top`)});else this.options.mentionContainerClass.split(" ").forEach((O)=>{this.mentionContainer.classList.add(`${O}-top`),this.mentionContainer.classList.remove(`${O}-bottom`)});this.mentionContainer.style.top=`${Q1}px`,this.mentionContainer.style.left=`${x}px`,this.mentionContainer.style.visibility="visible"}setMentionContainerPosition_Fixed(){this.mentionContainer.style.position="fixed",this.mentionContainer.style.height=null;const i=this.quill.container.getBoundingClientRect(),$1=this.quill.getBounds(this.mentionCharPos),J1={left:i.left+$1.left,top:i.top+$1.top,width:0,height:$1.height},Q1=this.options.fixMentionsToQuill?i:J1;let x=this.options.offsetTop,O=this.options.offsetLeft;if(this.options.fixMentionsToQuill){const T=Q1.right;this.mentionContainer.style.right=`${T}px`}else if(O+=Q1.left,O+this.mentionContainer.offsetWidth>document.documentElement.clientWidth)O-=O+this.mentionContainer.offsetWidth-document.documentElement.clientWidth;const z=Q1.top,B=document.documentElement.clientHeight-(Q1.top+Q1.height),j=this.mentionContainer.offsetHeight<=B,k=this.mentionContainer.offsetHeight<=z;var M;if(this.options.defaultMenuOrientation==="top"&&k)M="top";else if(this.options.defaultMenuOrientation==="bottom"&&j)M="bottom";else M=B>z?"bottom":"top";if(M==="bottom"){if(x=Q1.top+Q1.height,!j)this.mentionContainer.style.height=B-3+"px";this.options.mentionContainerClass.split(" ").forEach((T)=>{this.mentionContainer.classList.add(`${T}-bottom`),this.mentionContainer.classList.remove(`${T}-top`)})}else{if(x=Q1.top-this.mentionContainer.offsetHeight,!k)this.mentionContainer.style.height=z-3+"px",x=3;this.options.mentionContainerClass.split(" ").forEach((T)=>{this.mentionContainer.classList.add(`${T}-top`),this.mentionContainer.classList.remove(`${T}-bottom`)})}this.mentionContainer.style.top=`${x}px`,this.mentionContainer.style.left=`${O}px`,this.mentionContainer.style.visibility="visible"}getTextBeforeCursor(){const i=Math.max(0,this.cursorPos-this.options.maxChars);return this.quill.getText(i,this.cursorPos-i)}onSomethingChange(){const i=this.quill.getSelection();if(i==null)return;this.cursorPos=i.index;const $1=this.getTextBeforeCursor(),J1=Math.max(0,this.cursorPos-this.options.maxChars),Q1=J1?this.quill.getText(J1-1,J1):"",{mentionChar:x,mentionCharIndex:O}=r0($1,this.options.mentionDenotationChars,this.options.isolateCharacter,this.options.allowInlineMentionChar);if(e0(O,$1,this.options.isolateCharacter,Q1)){const B=this.cursorPos-($1.length-O);this.mentionCharPos=B;const j=$1.substring(O+x.length);if(j.length>=this.options.minChars&&n0(j,this.getAllowedCharsRegex(x))){if(this.existingSourceExecutionToken)this.existingSourceExecutionToken.abandoned=!0;this.renderLoading();var z={abandoned:!1};this.existingSourceExecutionToken=z,this.options.source(j,(k,M)=>{if(z.abandoned)return;this.existingSourceExecutionToken=null,this.renderList(x,k,M)},x)}else{if(this.existingSourceExecutionToken)this.existingSourceExecutionToken.abandoned=!0;this.hideMentionList()}}else{if(this.existingSourceExecutionToken)this.existingSourceExecutionToken.abandoned=!0;this.hideMentionList()}}getAllowedCharsRegex(i){if(this.options.allowedChars instanceof RegExp)return this.options.allowedChars;else return this.options.allowedChars(i)}onTextChange(i,$1,J1){if(J1==="user")this.onSomethingChange()}onSelectionChange(i){if(i&&i.length===0)this.onSomethingChange();else this.hideMentionList()}openMenu(i){var $1=this.quill.getSelection(!0);this.quill.insertText($1.index,i),this.quill.blur(),this.quill.focus()}}W0.default.register("modules/mention",$3);class E0 extends B3{hoverHandler;mounted;clickHandler;domNode;static render;static blotName;static tagName;static className;constructor(i,$1){super(i,$1);this.clickHandler=null,this.hoverHandler=null,this.mounted=!1}static create(i){const $1=super.create(),J1=document.createElement("span");if(J1.className="ql-mention-denotation-char",J1.innerText=i.denotationChar,$1.appendChild(J1),typeof this.render==="function")$1.appendChild(this.render(i));else $1.innerText+=i.value;return E0.setDataValues($1,i)}static setDataValues(i,$1){const J1=i;return Object.keys($1).forEach((Q1)=>{J1.dataset[Q1]=$1[Q1]}),J1}static value(i){return i.dataset}attach(){if(super.attach(),!this.mounted)this.mounted=!0,this.clickHandler=this.getClickHandler(),this.hoverHandler=this.getHoverHandler(),this.domNode.addEventListener("click",this.clickHandler,!1),this.domNode.addEventListener("mouseenter",this.hoverHandler,!1)}detach(){if(super.detach(),this.mounted=!1,this.clickHandler)this.domNode.removeEventListener("click",this.clickHandler),this.clickHandler=null}getClickHandler(){return(i)=>{const $1=this.buildEvent("mention-clicked",i);window.dispatchEvent($1),i.preventDefault()}}getHoverHandler(){return(i)=>{const $1=this.buildEvent("mention-hovered",i);window.dispatchEvent($1),i.preventDefault()}}buildEvent(i,$1){const J1=new t0(i,{bubbles:!0,cancelable:!0});return J1.value=Object.assign({},this.domNode.dataset),J1.event=$1,J1}}E0.blotName="mention";E0.tagName="span";E0.className="mention";W0.default.register("blots/mention",E0);var _3=[{id:1,value:"Fredrik Sundqvist"},{id:2,value:"Patrik Sj\xF6lin"}],L3=[{id:3,value:"Fredrik Sundqvist 2"},{id:4,value:"Patrik Sj\xF6lin 2"}],F3=new W0.default("#editor",{modules:{toolbar:[[{header:[1,2,!1]}],["bold","italic","underline"],["image","code-block"]],mention:{allowedChars:/^[A-Za-z\sÅÄÖåäö]*$/,mentionDenotationChars:["@","#"],source:function(i,$1,J1){let Q1=[];if(J1==="@")Q1=_3;else Q1=L3;if(i.length===0)$1(Q1,i);else{const x=[];for(let O=0;O<Q1.length;O++)if(~Q1[O].value.toLowerCase().indexOf(i.toLowerCase()))x.push(Q1[O]);$1(x,i)}}}},theme:"snow"});F3.on("text-change",function(){X3()});var V3=function(i,$1,J1){var Q1;return function(){var x=this,O=arguments,z=function(){if(Q1=null,!J1)i.apply(x,O)},B=J1&&!Q1;if(clearTimeout(Q1),Q1=setTimeout(z,$1),B)i.apply(x,O)}},X3=V3(function(){var i=F3.getContents(),$1="Your Title Here",J1=JSON.stringify({title:$1,content:i}),Q1=new XMLHttpRequest;Q1.open("POST","draft",!0),Q1.setRequestHeader("Content-Type","application/json"),Q1.onreadystatechange=function(){if(Q1.readyState===4&&Q1.status===200)console.log("Content saved",Q1.responseText)},Q1.send(J1)},1000,!1);
