var n=(($)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy($,{get:(X,Y)=>(typeof require!=="undefined"?require:X)[Y]}):$)(function($){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+$+'" is not supported')});var T=function($){return{type:$}},O3=function(){return $1},B3=function($){x1=$.timeStamp},w3=function($){if(x1===0)R$($).addEventListener("textInput",B3,!0)},s$=function($,X,Y){return X.__lexicalLineBreak===$||$[`__lexicalKey_${Y._key}`]!==void 0},z3=function($){return $.getEditorState().read(()=>{const X=v();return X!==null?X.clone():null})},R3=function($,X,Y){const Z=$0(Y._window);let Q=null,V=null;if(Z!==null&&Z.anchorNode===$)Q=Z.anchorOffset,V=Z.focusOffset;const j=$.nodeValue;if(j!==null)y1(X,j,Q,V,!1)},T3=function($,X,Y){if(R($)){const Z=$.anchor.getNode();if(Z.is(Y)&&$.format!==Z.getFormat())return!1}return X.nodeType===M0&&Y.isAttached()},nX=function($,X,Y){$1=!0;const Z=performance.now()-x1>A3;try{r($,()=>{const Q=v()||z3($),V=new Map,j=$.getRootElement(),G=$._editorState,W=$._blockCursorElement;let _=!1,H="";for(let J=0;J<X.length;J++){const D=X[J],U=D.type,I=D.target;let F=B$(I,G);if(F===null&&I!==j||m(F))continue;if(U==="characterData"){if(Z&&B(F)&&T3(Q,I,F))R3(I,F,$)}else if(U==="childList"){_=!0;const M=D.addedNodes;for(let q=0;q<M.length;q++){const w=M[q],z=dX(w),N=w.parentNode;if(N!=null&&w!==W&&z===null&&(w.nodeName!=="BR"||!s$(w,N,$))){if(L0){const E=w.innerText||w.nodeValue;if(E)H+=E}N.removeChild(w)}}const K=D.removedNodes,x=K.length;if(x>0){let q=0;for(let w=0;w<x;w++){const z=K[w];if(z.nodeName==="BR"&&s$(z,I,$)||W===z)I.appendChild(z),q++}if(x!==q){if(I===j)F=$Y(G);V.set(I,F)}}}}if(V.size>0){for(let[J,D]of V)if(A(D)){const U=D.getChildrenKeys();let I=J.firstChild;for(let F=0;F<U.length;F++){const M=U[F],K=$.getElementByKey(M);if(K===null)continue;if(I==null)J.appendChild(K),I=K;else if(I!==K)J.replaceChild(K,I);I=I.nextSibling}}else if(B(D))D.markDirty()}const P=Y.takeRecords();if(P.length>0){for(let J=0;J<P.length;J++){const D=P[J],U=D.addedNodes,I=D.target;for(let F=0;F<U.length;F++){const M=U[F],K=M.parentNode;if(K!=null&&M.nodeName==="BR"&&!s$(M,I,$))K.removeChild(M)}}Y.takeRecords()}if(Q!==null){if(_)Q.dirty=!0,D0(Q);if(L0&&GY($))Q.insertRawText(H)}})}finally{$1=!1}},iX=function($){const X=$._observer;if(X!==null){const Y=X.takeRecords();nX($,Y,X)}},rX=function($){w3($),$._observer=new MutationObserver((X,Y)=>{nX($,X,Y)})},QX=function($,X){const{__mode:Y,__format:Z,__style:Q}=$,V=X.__mode,j=X.__format,G=X.__style;return(Y===null||Y===V)&&(Z===null||Z===j)&&(Q===null||Q===G)},VX=function($,X){const Y=$.mergeWithSibling(X),Z=u()._normalizedNodes;return Z.add($.__key),Z.add(X.__key),Y},oX=function($){let X=$;if(X.__text===""&&X.isSimpleText()&&!X.isUnmergeable()){X.remove();return}let Y;while((Y=X.getPreviousSibling())!==null&&B(Y)&&Y.isSimpleText()&&!Y.isUnmergeable())if(Y.__text==="")Y.remove();else if(QX(Y,X)){X=VX(Y,X);break}else break;let Z;while((Z=X.getNextSibling())!==null&&B(Z)&&Z.isSimpleText()&&!Z.isUnmergeable())if(Z.__text==="")Z.remove();else if(QX(X,Z)){X=VX(X,Z);break}else break};var C3=function(){return""+q3++},x3=function($,X){const Y=$._nodes.get(X);if(Y===void 0)throw Error(`registeredNode: Type ${X} not found`);return Y},v3=function($){return m(B$($))},aX=function($){const X=document.activeElement;if(X===null)return!1;const Y=X.nodeName;return m(B$($))&&(Y==="INPUT"||Y==="TEXTAREA"||X.contentEditable==="true"&&X.__lexicalEditor==null)},O$=function($,X,Y){const Z=$.getRootElement();try{return Z!==null&&Z.contains(X)&&Z.contains(Y)&&X!==null&&!aX(X)&&tX(X)===$}catch(Q){return!1}},tX=function($){let X=$;while(X!=null){const Y=X.__lexicalEditor;if(Y!=null)return Y;X=z$(X)}return null},y3=function($){if(D3.test($))return"rtl";if(U3.test($))return"ltr";return null},X1=function($){return $.isToken()||$.isSegmented()},u3=function($){return $.nodeType===M0},P$=function($){let X=$;while(X!=null){if(u3(X))return X;X=X.firstChild}return null},Y1=function($,X,Y){const Z=P0[X];if(Y!==null&&($&Z)===(Y&Z))return $;let Q=$^Z;if(X==="subscript")Q&=~P0.superscript;else if(X==="superscript")Q&=~P0.subscript;return Q};var E3=function($,X){if(X!=null){$.__key=X;return}p(),xY();const Y=u(),Z=G0(),Q=C3();if(Z._nodeMap.set(Q,$),A($))Y._dirtyElements.set(Q,!0);else Y._dirtyLeaves.add(Q);Y._cloneNotNeeded.add(Q),Y._dirtyType=pX,$.__key=Q},S3=function($,X,Y){let Z=$;while(Z!==null){if(Y.has(Z))return;const Q=X.get(Z);if(Q===void 0)break;Y.set(Z,!1),Z=Q.__parent}},O0=function($){const X=$.getParent();if(X!==null){const Y=$.getWritable(),Z=X.getWritable(),Q=$.getPreviousSibling(),V=$.getNextSibling();if(Q===null)if(V!==null){const j=V.getWritable();Z.__first=V.__key,j.__prev=null}else Z.__first=null;else{const j=Q.getWritable();if(V!==null){const G=V.getWritable();G.__prev=j.__key,j.__next=G.__key}else j.__next=null;Y.__prev=null}if(V===null)if(Q!==null){const j=Q.getWritable();Z.__last=Q.__key,j.__next=null}else Z.__last=null;else{const j=V.getWritable();if(Q!==null){const G=Q.getWritable();G.__next=j.__key,j.__prev=G.__key}else j.__prev=null;Y.__next=null}Z.__size--,Y.__parent=null}},L$=function($){xY();const X=$.getLatest(),Y=X.__parent,Z=G0(),Q=u(),V=Z._nodeMap,j=Q._dirtyElements;if(Y!==null)S3(Y,V,j);const G=X.__key;if(Q._dirtyType=pX,A($))j.set(G,!0);else Q._dirtyLeaves.add(G)},m3=function($){const X=$.getPreviousSibling(),Y=$.getNextSibling();if(X!==null)L$(X);if(Y!==null)L$(Y)},h=function($){p();const X=u(),Y=X._compositionKey;if($!==Y){if(X._compositionKey=$,Y!==null){const Z=s(Y);if(Z!==null)Z.getWritable()}if($!==null){const Z=s($);if(Z!==null)Z.getWritable()}}},W0=function(){if($$())return null;return u()._compositionKey},s=function($,X){const Z=(X||G0())._nodeMap.get($);if(Z===void 0)return null;return Z},dX=function($,X){const Y=u(),Z=$[`__lexicalKey_${Y._key}`];if(Z!==void 0)return s(Z,X);return null},B$=function($,X){let Y=$;while(Y!=null){const Z=dX(Y,X);if(Z!==null)return Z;Y=z$(Y)}return null},eX=function($){const X=$._decorators,Y=Object.assign({},X);return $._pendingDecorators=Y,Y},jX=function($){return $.read(()=>t().getTextContent())},h3=function($,X){r($,()=>{const Y=G0();if(Y.isEmpty())return;if(X==="root"){t().markDirty();return}const Z=Y._nodeMap;for(let[,Q]of Z)Q.markDirty()},$._pendingEditorState===null?{tag:"history-merge"}:void 0)},t=function(){return $Y(G0())},$Y=function($){return $._nodeMap.get("root")},D0=function($){p();const X=G0();if($!==null){if(Object.isFrozen($))throw Error("$setSelection called on frozen selection object. Ensure selection is cloned before passing in.");$.dirty=!0,$.setCachedNodes(null)}X._selection=$},k3=function(){p();const $=u();iX($)},C0=function($){const X=u(),Y=g3($,X);if(Y===null){const Z=X.getRootElement();if($===Z)return s("root");return null}return s(Y)},GX=function($,X){return X?$.getTextContentSize():0},g3=function($,X){let Y=$;while(Y!=null){const Z=Y[`__lexicalKey_${X._key}`];if(Z!==void 0)return Z;Y=z$(Y)}return null},XY=function($){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test($)},N1=function($){const X=[];let Y=$;while(Y!==null)X.push(Y),Y=Y._parentEditor;return X},YY=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)},ZY=function($){if($.nodeType===M0)return $.nodeValue;return null},v1=function($,X,Y){const Z=$0(X._window);if(Z===null)return;const Q=Z.anchorNode;let{anchorOffset:V,focusOffset:j}=Z;if(Q!==null){let G=ZY(Q);const W=B$(Q);if(G!==null&&B(W)){if(G===A$&&Y){const _=Y.length;G=Y,V=_,j=_}if(G!==null)y1(W,G,V,j,$)}}},y1=function($,X,Y,Z,Q){let V=$;if(V.isAttached()&&(Q||!V.isDirty())){const j=V.isComposing();let G=X;if((j||Q)&&X[X.length-1]===A$)G=X.slice(0,-1);const W=V.getTextContent();if(Q||G!==W){if(G===""){if(h(null),!L1&&!K$&&!D1){const I=u();setTimeout(()=>{I.update(()=>{if(V.isAttached())V.remove()})},20)}else V.remove();return}const _=V.getParent(),H=y$(),P=V.getTextContentSize(),J=W0(),D=V.getKey();if(V.isToken()||J!==null&&D===J&&!j||R(H)&&(_!==null&&!_.canInsertTextBefore()&&H.anchor.offset===0||H.anchor.key===$.__key&&H.anchor.offset===0&&!V.canInsertTextBefore()&&!j||H.focus.key===$.__key&&H.focus.offset===P&&!V.canInsertTextAfter()&&!j)){V.markDirty();return}const U=v();if(!R(U)||Y===null||Z===null){V.setTextContent(G);return}if(U.setTextNodeRange(V,Y,V,Z),V.isSegmented()){const I=V.getTextContent(),F=f(I);V.replace(F),V=F}V.setTextContent(G)}}},f3=function($){const X=$.getPreviousSibling();return(B(X)||A(X)&&X.isInline())&&!X.canInsertTextAfter()},p3=function($,X){if(X.isSegmented())return!0;if(!$.isCollapsed())return!1;const Y=$.anchor.offset,Z=X.getParentOrThrow(),Q=X.isToken();if(Y===0)return!X.canInsertTextBefore()||!Z.canInsertTextBefore()||Q||f3(X);else if(Y===X.getTextContentSize())return!X.canInsertTextAfter()||!Z.canInsertTextAfter()||Q;else return!1},s3=function($,X,Y,Z){return $===9&&!X&&!Y&&!Z},c3=function($,X,Y,Z){return $===66&&!X&&r0(Y,Z)},l3=function($,X,Y,Z){return $===73&&!X&&r0(Y,Z)},b3=function($,X,Y,Z){return $===85&&!X&&r0(Y,Z)},n3=function($,X){return jY($)&&!X},i3=function($,X){return jY($)&&X},r3=function($,X){return d&&X&&$===79},o3=function($,X,Y){return f0($)&&(d?X:Y)},a3=function($,X,Y){return p0($)&&(d?X:Y)},t3=function($,X){return d&&X&&f0($)},d3=function($,X){return d&&X&&p0($)},e3=function($,X,Y,Z){if(d){if(X||Y)return!1;return f0($)||$===72&&Z}if(Z||X||Y)return!1;return f0($)},$5=function($,X,Y,Z,Q){if(d){if(Y||Z||Q)return!1;return p0($)||$===68&&X}if(X||Z||Q)return!1;return p0($)},X5=function($,X,Y,Z){return $===90&&!X&&r0(Y,Z)},Y5=function($,X,Y,Z){if(d)return $===90&&Y&&X;return $===89&&Z||$===90&&Z&&X},Z5=function($,X,Y,Z){if(X)return!1;if($===67)return d?Y:Z;return!1},Q5=function($,X,Y,Z){if(X)return!1;if($===88)return d?Y:Z;return!1},QY=function($){return $===37},VY=function($){return $===39},V5=function($){return $===38},j5=function($){return $===40},G5=function($,X,Y,Z){return QY($)&&!X&&!Z&&!Y},J5=function($,X,Y,Z,Q){return QY($)&&!Z&&!Y&&(X||Q)},_5=function($,X,Y,Z){return VY($)&&!X&&!Z&&!Y},W5=function($,X,Y,Z,Q){return VY($)&&!Z&&!Y&&(X||Q)},H5=function($,X,Y){return V5($)&&!X&&!Y},P5=function($,X,Y){return j5($)&&!X&&!Y},L5=function($,X,Y,Z){return $||X||Y||Z},D5=function($){return $===32},r0=function($,X){if(d)return $;return X},jY=function($){return $===13},f0=function($){return $===8},U5=function($){return $===27},p0=function($){return $===46},JX=function($,X,Y){return $===65&&r0(X,Y)};var m0=function($,X){if($.__lexicalClassNameCache===void 0)$.__lexicalClassNameCache={};const Y=$.__lexicalClassNameCache,Z=Y[X];if(Z!==void 0)return Z;const Q=$[X];if(typeof Q==="string"){const V=Q.split(" ");return Y[X]=V,V}return Q},u1=function($,X,Y,Z,Q){if(Y.size===0)return;const{__type:V,__key:j}=Z,G=X.get(V);if(G===void 0)throw Error(`Type ${V} not in registeredNodes`);const W=G.klass;let _=$.get(W);if(_===void 0)_=new Map,$.set(W,_);const H=_.get(j),P=H==="destroyed"&&Q==="created";if(H===void 0||P)_.set(j,P?"updated":Q)};var _X=function($,X,Y){const Z=$.getParent();let Q=Y,V=$;if(Z!==null){if(X&&Y===0)Q=V.getIndexWithinParent(),V=Z;else if(!X&&Y===V.getChildrenSize())Q=V.getIndexWithinParent()+1,V=Z}return V.getChildAtIndex(X?Q-1:Q)},WX=function($,X){const Y=$.offset;if($.type==="element"){const Z=$.getNode();return _X(Z,X,Y)}else{const Z=$.getNode();if(X&&Y===0||!X&&Y===Z.getTextContentSize()){const Q=X?Z.getPreviousSibling():Z.getNextSibling();if(Q===null)return _X(Z.getParentOrThrow(),X,Z.getIndexWithinParent()+(X?0:1));return Q}}return null},GY=function($){const X=R$($).event,Y=X&&X.inputType;return Y==="insertFromPaste"||Y==="insertFromPasteAsQuotation"},O=function($,X,Y){return yY($,X,Y)},w$=function($){return!o($)&&!$.isLastChild()&&!$.isInline()},D$=function($,X){const Y=$._keyToDOMMap.get(X);if(Y===void 0)throw Error(`Reconciliation: could not find DOM element for node key ${X}`);return Y},z$=function($){const X=$.assignedSlot||$.parentElement;return X!==null&&X.nodeType===11?X.host:X},F5=function($,X,Y){const Z=Y.ownerDocument,Q=Z.defaultView;if(Q===null)return;let{top:V,bottom:j}=X,G=0,W=0,_=Y;while(_!==null){const H=_===Z.body;if(H)G=0,W=R$($).innerHeight;else{const J=_.getBoundingClientRect();G=J.top,W=J.bottom}let P=0;if(V<G)P=-(G-V);else if(j>W)P=j-W;if(P!==0)if(H)Q.scrollBy(0,P);else{const J=_.scrollTop;_.scrollTop+=P;const D=_.scrollTop-J;V-=D,j-=D}if(H)break;_=z$(_)}};var I5=function($){const X=v();if(!R(X)||!A($))return X;const{anchor:Y,focus:Z}=X,Q=Y.getNode(),V=Z.getNode();if(Z1(Q,$))Y.set($.__key,0,"element");if(Z1(V,$))Z.set($.__key,0,"element");return X},Z1=function($,X){let Y=$.getParent();while(Y!==null){if(Y.is(X))return!0;Y=Y.getParent()}return!1},M5=function($){const X=$.ownerDocument;return X&&X.defaultView||null},R$=function($){const X=$._window;if(X===null)throw Error("window object not found");return X};var K5=function($){let X=$.getParentOrThrow();while(X!==null){if(o0(X))return X;X=X.getParentOrThrow()}return X},o0=function($){return o($)||A($)&&$.isShadowRoot()};var T$=function($){const X=u(),Y=$.constructor.getType(),Z=X._nodes.get(Y);if(Z===void 0)throw Error('$initializeNode failed. Ensure node has been registered to the editor. You can do this by passing the node class via the "nodes" array in the editor config.');const Q=Z.replace;if(Q!==null){const V=Q($);if(!(V instanceof $.constructor))throw Error("$initializeNode failed. Ensure replacement node is a subclass of the original node.");return V}return $},c$=function($,X){const Y=$.getParent();if(o(Y)&&!A(X)&&!m(X))throw Error("Only element or decorator nodes can be inserted in to the root node")},A5=function($){const X=$.theme,Y=document.createElement("div");Y.contentEditable="false",Y.setAttribute("data-lexical-cursor","true");let Z=X.blockCursor;if(Z!==void 0){if(typeof Z==="string"){const Q=Z.split(" ");Z=X.blockCursor=Q}if(Z!==void 0)Y.classList.add(...Z)}return Y},l$=function($){return(m($)||A($)&&!$.canBeEmpty())&&!$.isInline()},E1=function($,X,Y){Y.style.removeProperty("caret-color"),X._blockCursorElement=null;const Z=$.parentElement;if(Z!==null)Z.removeChild($)},O5=function($,X,Y){let Z=$._blockCursorElement;if(R(Y)&&Y.isCollapsed()&&Y.anchor.type==="element"&&X.contains(document.activeElement)){const Q=Y.anchor,V=Q.getNode(),j=Q.offset,G=V.getChildrenSize();let W=!1,_=null;if(j===G){const H=V.getChildAtIndex(j-1);if(l$(H))W=!0}else{const H=V.getChildAtIndex(j);if(l$(H)){const P=H.getPreviousSibling();if(P===null||l$(P))W=!0,_=$.getElementByKey(H.__key)}}if(W){const H=$.getElementByKey(V.__key);if(Z===null)$._blockCursorElement=Z=A5($._config);if(X.style.caretColor="transparent",_===null)H.appendChild(Z);else H.insertBefore(Z,_);return}}if(Z!==null)E1(Z,$,X)},$0=function($){return!e?null:($||window).getSelection()};var JY=function($){return $.nodeType===1},T0=function($){if(m($)&&!$.isInline())return!0;if(!A($)||o0($))return!1;const X=$.getFirstChild(),Y=X===null||b0(X)||B(X)||X.isInline();return!$.isInline()&&$.canBeEmpty()!==!1&&Y},b$=function($,X){let Y=$;while(Y!==null&&Y.getParent()!==null&&!X(Y))Y=Y.getParentOrThrow();return X(Y)?Y:null};var B5=function($,X){const Y=$._decorators;let Q=$._pendingDecorators||Y;const V=X._nodeMap;let j;for(j in Q)if(!V.has(j)){if(Q===Y)Q=eX($);delete Q[j]}},_Y=function($,X,Y,Z,Q,V){let j=$.getFirstChild();while(j!==null){const G=j.__key;if(j.__parent===X){if(A(j))_Y(j,G,Y,Z,Q,V);if(!Y.has(G))V.delete(G);Q.push(G)}j=j.getNextSibling()}},w5=function($,X,Y,Z){const Q=$._nodeMap,V=X._nodeMap,j=[];for(let[G]of Z){const W=V.get(G);if(W!==void 0){if(!W.isAttached()){if(A(W))_Y(W,G,Q,V,j,Z);if(!Q.has(G))Z.delete(G);j.push(G)}}}for(let G of j)V.delete(G);for(let G of Y){const W=V.get(G);if(W!==void 0&&!W.isAttached()){if(!Q.has(G))Y.delete(G);V.delete(G)}}},C$=function($,X){const Y=z0.get($);if(X!==null){const Z=k1($);if(Z.parentNode===X)X.removeChild(Z)}if(!F0.has($))l._keyToDOMMap.delete($);if(A(Y)){const Z=U$(Y,z0);m1(Z,0,Z.length-1,null)}if(Y!==void 0)u1(c0,s0,q$,Y,"destroyed")},m1=function($,X,Y,Z){let Q=X;for(;Q<=Y;++Q){const V=$[Q];if(V!==void 0)C$(V,Z)}},K0=function($,X){$.setProperty("text-align",X)},HY=function($,X){const Y=U0.theme.indent;if(typeof Y==="string"){const Q=$.classList.contains(Y);if(X>0&&!Q)$.classList.add(Y);else if(X<1&&Q)$.classList.remove(Y)}const Z=getComputedStyle($).getPropertyValue("--lexical-indent-base-value")||z5;$.style.setProperty("padding-inline-start",X===0?"":`calc(${X} * ${Z})`)},PY=function($,X){const Y=$.style;if(X===0)K0(Y,"");else if(X===w1)K0(Y,"left");else if(X===z1)K0(Y,"center");else if(X===R1)K0(Y,"right");else if(X===T1)K0(Y,"justify");else if(X===q1)K0(Y,"start");else if(X===C1)K0(Y,"end")},x$=function($,X,Y){const Z=F0.get($);if(Z===void 0)throw Error("createNode: node does not exist in nodeMap");const Q=Z.createDOM(U0,l);if(v5($,Q,l),B(Z))Q.setAttribute("data-lexical-text","true");else if(m(Z))Q.setAttribute("data-lexical-decorator","true");if(A(Z)){const{__indent:V,__size:j}=Z;if(V!==0)HY(Q,V);if(j!==0){const W=j-1,_=U$(Z,F0);R5(_,W,Z,Q)}const G=Z.__format;if(G!==0)PY(Q,G);if(!Z.isInline())LY(null,Z,Q);if(w$(Z))S+=V0,Q0+=V0}else{const V=Z.getTextContent();if(m(Z)){const j=Z.decorate(l,U0);if(j!==null)UY($,j);Q.contentEditable="false"}else if(B(Z)){if(!Z.isDirectionless())c+=V}S+=V,Q0+=V}if(X!==null)if(Y!=null)X.insertBefore(Q,Y);else{const V=X.__lexicalLineBreak;if(V!=null)X.insertBefore(Q,V);else X.appendChild(Q)}return Object.freeze(Z),u1(c0,s0,q$,Z,"created"),Q},R5=function($,X,Y,Z){const Q=c;c="",h1($,Y,0,X,Z,null),DY(Y,Z),c=Q},h1=function($,X,Y,Z,Q,V){const j=S;S="";let G=Y;for(;G<=Z;++G)x$($[G],Q,V);if(w$(X))S+=V0;Q.__lexicalTextContent=S,S=j+S},HX=function($,X){const Y=X.get($);return b0(Y)||m(Y)&&Y.isInline()},LY=function($,X,Y){const Z=$!==null&&($.__size===0||HX($.__last,z0)),Q=X.__size===0||HX(X.__last,F0);if(Z){if(!Q){const V=Y.__lexicalLineBreak;if(V!=null)Y.removeChild(V);Y.__lexicalLineBreak=null}}else if(Q){const V=document.createElement("br");Y.__lexicalLineBreak=V,Y.appendChild(V)}},DY=function($,X){const{__lexicalDirTextContent:Y,__lexicalDir:Z}=X;if(Y!==c||Z!==V$){const Q=c==="",V=Q?V$:y3(c);if(V!==Z){const j=X.classList,G=U0.theme;let W=Z!==null?G[Z]:void 0,_=V!==null?G[V]:void 0;if(W!==void 0){if(typeof W==="string"){const H=W.split(" ");W=G[Z]=H}j.remove(...W)}if(V===null||Q&&V==="ltr")X.removeAttribute("dir");else{if(_!==void 0){if(typeof _==="string"){const H=_.split(" ");_=G[V]=H}if(_!==void 0)j.add(..._)}X.dir=V}if(!S1){const H=$.getWritable();H.__dir=V}}V$=V,X.__lexicalDirTextContent=c,X.__lexicalDir=V}},T5=function($,X,Y){const Z=c;c="",q5($,X,Y),DY(X,Y),c=Z},U$=function($,X){const Y=[];let Z=$.__first;while(Z!==null){const Q=X.get(Z);if(Q===void 0)throw Error("createChildrenArray: node does not exist in nodeMap");Y.push(Z),Z=Q.__next}return Y},q5=function($,X,Y){const Z=S,Q=$.__size,V=X.__size;if(S="",Q===1&&V===1){const j=$.__first,G=X.__first;if(j===G)h0(j,Y);else{const W=k1(j),_=x$(G,null,null);Y.replaceChild(_,W),C$(j,null)}}else{const j=U$($,z0),G=U$(X,F0);if(Q===0){if(V!==0)h1(G,X,0,V-1,Y,null)}else if(V===0){if(Q!==0){const _=Y.__lexicalLineBreak==null;if(m1(j,0,Q-1,_?null:Y),_)Y.textContent=""}}else x5(X,j,G,Q,V,Y)}if(w$(X))S+=V0;Y.__lexicalTextContent=S,S=Z+S},h0=function($,X){const Y=z0.get($);let Z=F0.get($);if(Y===void 0||Z===void 0)throw Error("reconcileNode: prevNode or nextNode does not exist in nodeMap");const Q=WY||V1.has($)||Q1.has($),V=D$(l,$);if(Y===Z&&!Q){if(A(Y)){const j=V.__lexicalTextContent;if(j!==void 0)S+=j,Q0+=j;const G=V.__lexicalDirTextContent;if(G!==void 0)c+=G}else{const j=Y.getTextContent();if(B(Y)&&!Y.isDirectionless())c+=j;Q0+=j,S+=j}return V}if(Y!==Z&&Q)u1(c0,s0,q$,Z,"updated");if(Z.updateDOM(Y,V,U0)){const j=x$($,null,null);if(X===null)throw Error("reconcileNode: parentDOM is null");return X.replaceChild(j,V),C$($,null),j}if(A(Y)&&A(Z)){const j=Z.__indent;if(j!==Y.__indent)HY(V,j);const G=Z.__format;if(G!==Y.__format)PY(V,G);if(Q){if(T5(Y,Z,V),!o(Z)&&!Z.isInline())LY(Y,Z,V)}if(w$(Z))S+=V0,Q0+=V0}else{const j=Z.getTextContent();if(m(Z)){const G=Z.decorate(l,U0);if(G!==null)UY($,G)}else if(B(Z)&&!Z.isDirectionless())c+=j;S+=j,Q0+=j}if(!S1&&o(Z)&&Z.__cachedText!==Q0){const j=Z.getWritable();j.__cachedText=Q0,Z=j}return Object.freeze(Z),V},UY=function($,X){let Y=l._pendingDecorators;const Z=l._decorators;if(Y===null){if(Z[$]===X)return;Y=eX(l)}Y[$]=X},C5=function($){return $.firstChild},n$=function($){let X=$.nextSibling;if(X!==null&&X===l._blockCursorElement)X=X.nextSibling;return X},x5=function($,X,Y,Z,Q,V){const j=Z-1,G=Q-1;let W,_,H=C5(V),P=0,J=0;while(P<=j&&J<=G){const I=X[P],F=Y[J];if(I===F)H=n$(h0(F,V)),P++,J++;else{if(W===void 0)W=new Set(X);if(_===void 0)_=new Set(Y);const M=_.has(I),K=W.has(F);if(!M)H=n$(k1(I)),C$(I,V),P++;else if(!K)x$(F,V,H),J++;else{const x=D$(l,F);if(x===H)H=n$(h0(F,V));else{if(H!=null)V.insertBefore(x,H);else V.appendChild(x);h0(F,V)}P++,J++}}}const D=P>j,U=J>G;if(D&&!U){const I=Y[G+1],F=I===void 0?null:l.getElementByKey(I);h1(Y,$,J,G,V,F)}else if(U&&!D)m1(X,P,j,V)},N5=function($,X,Y,Z,Q,V){S="",Q0="",c="",WY=Z===N0,V$=null,l=Y,U0=Y._config,s0=Y._nodes,q$=l._listeners.mutation,Q1=Q,V1=V,z0=$._nodeMap,F0=X._nodeMap,S1=X._readOnly,j1=new Map(Y._keyToDOMMap);const j=new Map;return c0=j,h0("root",null),l=void 0,s0=void 0,Q1=void 0,V1=void 0,z0=void 0,F0=void 0,U0=void 0,j1=void 0,c0=void 0,j},v5=function($,X,Y){const Z=Y._keyToDOMMap;X["__lexicalKey_"+Y._key]=$,Z.set($,X)},k1=function($){const X=j1.get($);if(X===void 0)throw Error(`Reconciliation: could not find DOM element for node key ${$}`);return X},KY=function($,X,Y,Z,Q){const{anchor:V,focus:j}=$,G=V.getNode(),W=u(),_=$0(W._window),H=_!==null?_.anchorNode:null,P=V.key,J=W.getElementByKey(P),D=Y.length;return P!==j.key||!B(G)||(!Q&&(!J$||IY<Z+50)||G.isDirty()&&D<2||XY(Y))&&V.offset!==j.offset&&!G.isComposing()||X1(G)||G.isDirty()&&D>1||(Q||!J$)&&J!==null&&!G.isComposing()&&H!==P$(J)||_!==null&&X!==null&&(!X.collapsed||X.startContainer!==_.anchorNode||X.startOffset!==_.anchorOffset)||G.getFormat()!==$.format||G.getStyle()!==$.style||p3($,G)},PX=function($,X){return $!==null&&$.nodeValue!==null&&$.nodeType===M0&&X!==0&&X!==$.nodeValue.length},LX=function($,X,Y){const{anchorNode:Z,anchorOffset:Q,focusNode:V,focusOffset:j}=$;if(J1){if(J1=!1,PX(Z,Q)&&PX(V,j))return}r(X,()=>{if(!Y){D0(null);return}if(!O$(X,Z,V))return;const G=v();if(R(G)){const W=G.anchor,_=W.getNode();if(G.isCollapsed()){if($.type==="Range"&&$.anchorNode===$.focusNode)G.dirty=!0;const H=R$(X).event,P=H?H.timeStamp:performance.now(),[J,D,U,I,F]=MY,M=t(),K=X.isComposing()===!1&&M.getTextContent()==="";if(P<F+200&&W.offset===U&&W.key===I)G.format=J,G.style=D;else if(W.type==="text"){if(!B(_))throw Error("Point.getNode() must return TextNode when type is text");G.format=_.getFormat(),G.style=_.getStyle()}else if(W.type==="element"&&!K)G.format=0,G.style=""}else{const H=W.key,J=G.focus.key,D=G.getNodes(),U=D.length,I=G.isBackward(),F=I?j:Q,M=I?Q:j,K=I?J:H,x=I?H:J;let q=H3,w=!1;for(let z=0;z<U;z++){const N=D[z],E=N.getTextContentSize();if(B(N)&&E!==0&&!(z===0&&N.__key===K&&F===E||z===U-1&&N.__key===x&&M===0)){if(w=!0,q&=N.getFormat(),q===0)break}}G.format=w?q:0}}O(X,P1,void 0)})},y5=function($,X){r(X,()=>{const Y=v(),Z=$0(X._window),Q=y$();if(Z){if(R(Y)){const V=Y.anchor,j=V.getNode();if(V.type==="element"&&V.offset===0&&Y.isCollapsed()&&!o(j)&&t().getChildrenSize()===1&&j.getTopLevelElementOrThrow().isEmpty()&&Q!==null&&Y.is(Q))Z.removeAllRanges(),Y.dirty=!0;else if($.detail===3&&!Y.isCollapsed()){const W=Y.focus.getNode();if(j!==W)if(A(j))j.select(0);else j.getParentOrThrow().select(0)}}else if($.pointerType==="touch"){const V=Z.anchorNode;if(V!==null){const j=V.nodeType;if(j===i0||j===M0){const G=p1(Q,Z,X,$);D0(G)}}}}O(X,sY,$)})},u5=function($,X){const{target:Y,pointerType:Z}=$;if(Y instanceof Node&&Z!=="touch")r(X,()=>{if(!v3(Y))_1=!0})},AY=function($){if(!$.getTargetRanges)return null;const X=$.getTargetRanges();if(X.length===0)return null;return X[0]},E5=function($,X){return $!==X||A($)||A(X)||!$.isToken()||!X.isToken()},S5=function($){return FY===229&&$<a0+g1},m5=function($,X){const Y=$.inputType,Z=AY($);if(Y==="deleteCompositionText"||L0&&GY(X))return;else if(Y==="insertCompositionText")return;r(X,()=>{const Q=v();if(Y==="deleteContentBackward"){if(Q===null){const H=y$();if(!R(H))return;D0(H.clone())}if(R(Q)){if(_3)h(Q.anchor.key);if(S5($.timeStamp)&&X.isComposing()&&Q.anchor.key===Q.focus.key){if(h(null),a0=0,setTimeout(()=>{r(X,()=>{h(null)})},g1),R(Q)){const P=Q.anchor.getNode();if(P.markDirty(),Q.format=P.getFormat(),!B(P))throw Error("Anchor node must be a TextNode");Q.style=P.getStyle()}if(Q.anchor.getNode().getTextContent().length<=1)$.preventDefault(),O(X,E0,!0)}else h(null),$.preventDefault(),O(X,E0,!0);return}}if(!R(Q))return;const V=$.data;if(q0!==null)v1(!1,X,q0);if((!Q.dirty||q0!==null)&&Q.isCollapsed()&&!o(Q.anchor.getNode())&&Z!==null)Q.applyDOMRange(Z);q0=null;const{anchor:j,focus:G}=Q,W=j.getNode(),_=G.getNode();if(Y==="insertText"||Y==="insertTranspose"){if(V==="\n")$.preventDefault(),O(X,Q$,!1);else if(V===V0)$.preventDefault(),O(X,$X,void 0);else if(V==null&&$.dataTransfer){const H=$.dataTransfer.getData("text/plain");$.preventDefault(),Q.insertRawText(H)}else if(V!=null&&KY(Q,Z,V,$.timeStamp,!0))$.preventDefault(),O(X,S0,V);else q0=V;IY=$.timeStamp;return}switch($.preventDefault(),Y){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":{O(X,S0,$);break}case"insertFromComposition":{h(null),O(X,S0,$);break}case"insertLineBreak":{h(null),O(X,Q$,!1);break}case"insertParagraph":{if(h(null),g0&&!K$)g0=!1,O(X,Q$,!1);else O(X,$X,void 0);break}case"insertFromPaste":case"insertFromPasteAsQuotation":{O(X,mX,$);break}case"deleteByComposition":{if(E5(W,_))O(X,XX,$);break}case"deleteByDrag":case"deleteByCut":{O(X,XX,$);break}case"deleteContent":{O(X,E0,!1);break}case"deleteWordBackward":{O(X,j$,!0);break}case"deleteWordForward":{O(X,j$,!1);break}case"deleteHardLineBackward":case"deleteSoftLineBackward":{O(X,G$,!0);break}case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":{O(X,G$,!1);break}case"formatStrikeThrough":{O(X,A0,"strikethrough");break}case"formatBold":{O(X,A0,"bold");break}case"formatItalic":{O(X,A0,"italic");break}case"formatUnderline":{O(X,A0,"underline");break}case"historyUndo":{O(X,hX,void 0);break}case"historyRedo":{O(X,kX,void 0);break}}})},h5=function($,X){$.stopPropagation(),r(X,()=>{const Y=v(),Z=$.data,Q=AY($);if(Z!=null&&R(Y)&&KY(Y,Q,Z,$.timeStamp,!1)){if(u0)W1(X,Z),u0=!1;const V=Y.anchor,j=V.getNode(),G=$0(X._window);if(G===null)return;const W=V.offset;if(!J$||Y.isCollapsed()||!B(j)||G.anchorNode===null||j.getTextContent().slice(0,W)+Z+j.getTextContent().slice(W+Y.focus.offset)!==ZY(G.anchorNode))O(X,S0,Z);const _=Z.length;if(L0&&_>1&&$.inputType==="insertCompositionText"&&!X.isComposing())Y.anchor.offset-=_;if(!L1&&!K$&&!D1&&X.isComposing())a0=0,h(null)}else if(v1(!1,X,Z!==null?Z:void 0),u0)W1(X,Z||void 0),u0=!1;k3()}),q0=null},k5=function($,X){r(X,()=>{const Y=v();if(R(Y)&&!X.isComposing()){const Z=Y.anchor,Q=Y.anchor.getNode();if(h(Z.key),$.timeStamp<a0+g1||Z.type==="element"||!Y.isCollapsed()||Q.getFormat()!==Y.format||B(Q)&&Q.getStyle()!==Y.style)O(X,S0,L3)}})},W1=function($,X){const Y=$._compositionKey;if(h(null),Y!==null&&X!=null){if(X===""){const Z=s(Y),Q=P$($.getElementByKey(Y));if(Q!==null&&Q.nodeValue!==null&&B(Z))y1(Z,Q.nodeValue,null,null,!0);return}if(X[X.length-1]==="\n"){const Z=v();if(R(Z)){const Q=Z.focus;Z.anchor.set(Q.key,Q.offset,Q.type),O($,d$,null);return}}}v1(!0,$,X)},g5=function($,X){if(L0)u0=!0;else r(X,()=>{W1(X,$.data)})},f5=function($,X){if(a0=$.timeStamp,FY=$.keyCode,X.isComposing())return;const{keyCode:Y,shiftKey:Z,ctrlKey:Q,metaKey:V,altKey:j}=$;if(O(X,cY,$))return;if(_5(Y,Q,j,V))O(X,lY,$);else if(W5(Y,Q,Z,j,V))O(X,bY,$);else if(G5(Y,Q,j,V))O(X,nY,$);else if(J5(Y,Q,Z,j,V))O(X,iY,$);else if(H5(Y,Q,V))O(X,rY,$);else if(P5(Y,Q,V))O(X,oY,$);else if(i3(Y,Z))g0=!0,O(X,d$,$);else if(D5(Y))O(X,aY,$);else if(r3(Y,Q))$.preventDefault(),g0=!0,O(X,Q$,!0);else if(n3(Y,Z))g0=!1,O(X,d$,$);else if(e3(Y,j,V,Q))if(f0(Y))O(X,tY,$);else $.preventDefault(),O(X,E0,!0);else if(U5(Y))O(X,dY,$);else if($5(Y,Q,Z,j,V))if(p0(Y))O(X,eY,$);else $.preventDefault(),O(X,E0,!1);else if(o3(Y,j,Q))$.preventDefault(),O(X,j$,!0);else if(a3(Y,j,Q))$.preventDefault(),O(X,j$,!1);else if(t3(Y,V))$.preventDefault(),O(X,G$,!0);else if(d3(Y,V))$.preventDefault(),O(X,G$,!1);else if(c3(Y,j,V,Q))$.preventDefault(),O(X,A0,"bold");else if(b3(Y,j,V,Q))$.preventDefault(),O(X,A0,"underline");else if(l3(Y,j,V,Q))$.preventDefault(),O(X,A0,"italic");else if(s3(Y,j,Q,V))O(X,$3,$);else if(X5(Y,Z,V,Q))$.preventDefault(),O(X,hX,void 0);else if(Y5(Y,Z,V,Q))$.preventDefault(),O(X,kX,void 0);else{const G=X._editorState._selection;if(v$(G)){if(Z5(Y,Z,V,Q))$.preventDefault(),O(X,gX,$);else if(Q5(Y,Z,V,Q))$.preventDefault(),O(X,fX,$);else if(JX(Y,V,Q))$.preventDefault(),O(X,YX,$)}else if(!L0&&JX(Y,V,Q))$.preventDefault(),O(X,YX,$)}if(L5(Q,Z,j,V))O(X,G3,$)},OY=function($){let X=$.__lexicalEventHandles;if(X===void 0)X=[],$.__lexicalEventHandles=X;return X},BY=function($){const X=$.target,Y=X==null?null:X.nodeType===9?X.defaultView:X.ownerDocument.defaultView,Z=$0(Y);if(Z===null)return;const Q=tX(Z.anchorNode);if(Q===null)return;if(_1)_1=!1,r(Q,()=>{const H=y$(),P=Z.anchorNode;if(P===null)return;const J=P.nodeType;if(J!==i0&&J!==M0)return;const D=p1(H,Z,Q,$);D0(D)});const V=N1(Q),j=V[V.length-1],G=j._key,W=x0.get(G),_=W||j;if(_!==Q)LX(Z,_,!1);if(LX(Z,Q,!0),Q!==j)x0.set(G,Q);else if(W)x0.delete(G)},DX=function($){$._lexicalHandled=!0},UX=function($){return $._lexicalHandled===!0},p5=function($,X){if(k0===0)$.ownerDocument.addEventListener("selectionchange",BY);k0++,$.__lexicalEditor=X;const Y=OY($);for(let Z=0;Z<G1.length;Z++){const[Q,V]=G1[Z],j=typeof V==="function"?(G)=>{if(UX(G))return;if(DX(G),X.isEditable())V(G,X)}:(G)=>{if(UX(G))return;if(DX(G),X.isEditable())switch(Q){case"cut":return O(X,fX,G);case"copy":return O(X,gX,G);case"paste":return O(X,mX,G);case"dragstart":return O(X,Y3,G);case"dragover":return O(X,Z3,G);case"dragend":return O(X,Q3,G);case"focus":return O(X,V3,G);case"blur":return O(X,j3,G);case"drop":return O(X,X3,G)}};$.addEventListener(Q,j),Y.push(()=>{$.removeEventListener(Q,j)})}},s5=function($){if(k0!==0){if(k0--,k0===0)$.ownerDocument.removeEventListener("selectionchange",BY)}const X=$.__lexicalEditor;if(X!==null&&X!==void 0)c5(X),$.__lexicalEditor=null;const Y=OY($);for(let Z=0;Z<Y.length;Z++)Y[Z]();$.__lexicalEventHandles=[]},c5=function($){if($._parentEditor!==null){const X=N1($),Z=X[X.length-1]._key;if(x0.get(Z)===$)x0.delete(Z)}else x0.delete($._key)},l5=function(){J1=!0},b5=function($,X,Y,Z,Q){MY=[$,X,Y,Z,Q]},H1=function($,X,Y){p();const Z=$.__key,Q=$.getParent();if(Q===null)return;const V=I5($);let j=!1;if(R(V)&&X){const{anchor:G,focus:W}=V;if(G.key===Z)I$(G,$,Q,$.getPreviousSibling(),$.getNextSibling()),j=!0;if(W.key===Z)I$(W,$,Q,$.getPreviousSibling(),$.getNextSibling()),j=!0}else if(v$(V)&&X&&$.isSelected())$.selectPrevious();if(R(V)&&X&&!j){const G=$.getIndexWithinParent();O0($),F$(V,Q,G,-1)}else O0($);if(!Y&&!o0(Q)&&!Q.canBeEmpty()&&Q.isEmpty())H1(Q,X);if(X&&o(Q)&&Q.isEmpty())Q.selectEnd()},n5=function($,X){const Y=u()._nodes.get($);if(Y===void 0)throw Error(`Create node: Attempted to create node ${X.name} that was not configured to be used on the editor.`);const Z=Y.klass;if(Z!==X)throw Error(`Create node: Type ${$} in node ${X.name} does not match registered node ${Z.name} with the same type`)},i5=function($,X,Y){const Z=Y||X.getParentOrThrow().getLastChild();let Q=X;const V=[X];while(Q!==Z){if(!Q.getNextSibling())throw Error("insertRangeAfter: lastToInsert must be a later sibling of firstToInsert");Q=Q.getNextSibling(),V.push(Q)}let j=$;for(let G of V)j=j.insertAfter(G)},r5=function($){return{node:l0()}},l0=function(){return T$(new d0)},b0=function($){return $ instanceof d0},o5=function($){const X=$.parentElement;if(X!==null){const Y=X.firstChild;if(Y===$||Y.nextSibling===$&&FX(Y)){const Z=X.lastChild;if(Z===$||Z.previousSibling===$&&FX(Z))return!0}}return!1},FX=function($){return $.nodeType===M0&&/^( |\t|\r?\n)+$/.test($.textContent||"")},i$=function($,X){if(X&K1)return"code";if(X&B1)return"mark";if(X&A1)return"sub";if(X&O1)return"sup";return null},r$=function($,X){if(X&I1)return"strong";if(X&M1)return"em";return"span"},wY=function($,X,Y,Z,Q){const V=Z.classList;let j=m0(Q,"base");if(j!==void 0)V.add(...j);j=m0(Q,"underlineStrikethrough");let G=!1;const W=X&W$&&X&_$,_=Y&W$&&Y&_$;if(j!==void 0){if(_){if(G=!0,!W)V.add(...j)}else if(W)V.remove(...j)}for(let H in P0){const J=P0[H];if(j=m0(Q,H),j!==void 0){if(Y&J){if(G&&(H==="underline"||H==="strikethrough")){if(X&J)V.remove(...j);continue}if((X&J)===0||W&&H==="underline"||H==="strikethrough")V.add(...j)}else if(X&J)V.remove(...j)}}},a5=function($,X){const Y=$.length,Z=X.length;let Q=0,V=0;while(Q<Y&&Q<Z&&$[Q]===X[Q])Q++;while(V+Q<Y&&V+Q<Z&&$[Y-V-1]===X[Z-V-1])V++;return[Q,Y-Q-V,X.slice(Q,Z-V)]},zY=function($,X,Y){const Z=X.firstChild,Q=Y.isComposing(),j=$+(Q?A$:"");if(Z==null)X.textContent=j;else{const G=Z.nodeValue;if(G!==j)if(Q||L0){const[W,_,H]=a5(G,j);if(_!==0)Z.deleteData(W,_);Z.insertData(W,H)}else Z.nodeValue=j}},IX=function($,X,Y,Z,Q,V){zY(Q,$,X);const G=V.theme.text;if(G!==void 0)wY(Y,0,Z,$,G)},Z$=function($,X){const Y=document.createElement(X);return Y.appendChild($),Y},t5=function($){const X=$,Y=X.style.fontWeight==="700",Z=X.style.textDecoration==="line-through",Q=X.style.fontStyle==="italic",V=X.style.textDecoration==="underline",j=X.style.verticalAlign;return{forChild:(G)=>{if(!B(G))return G;if(Y)G.toggleFormat("bold");if(Z)G.toggleFormat("strikethrough");if(Q)G.toggleFormat("italic");if(V)G.toggleFormat("underline");if(j==="sub")G.toggleFormat("subscript");if(j==="super")G.toggleFormat("superscript");return G},node:null}},d5=function($){const Y=$.style.fontWeight==="normal";return{forChild:(Z)=>{if(B(Z)&&!Y)Z.toggleFormat("bold");return Z},node:null}},e5=function($){return $.nodeName==="PRE"||$.nodeType===i0&&$.style!==void 0&&$.style.whiteSpace!==void 0&&$.style.whiteSpace.startsWith("pre")},$Z=function($){let X,Y=$.parentNode;const Z=[$];while(Y!==null&&(X=MX.get(Y))===void 0&&!e5(Y))Z.push(Y),Y=Y.parentNode;const Q=X===void 0?Y:X;for(let V=0;V<Z.length;V++)MX.set(Z[V],Q);return Q},XZ=function($){const X=$;if($.parentElement===null)throw Error("Expected parentElement of Text not to be null");let Z=X.textContent||"";if($Z(X)!==null){const Q=Z.split(/(\r?\n|\t)/),V=[],j=Q.length;for(let G=0;G<j;G++){const W=Q[G];if(W==="\n"||W==="\r\n")V.push(l0());else if(W==="\t")V.push(f1());else if(W!=="")V.push(f(W))}return{node:V}}if(Z=Z.replace(/\r/g,"").replace(/[ \t\n]+/g," "),Z==="")return{node:null};if(Z[0]===" "){let Q=X,V=!0;while(Q!==null&&(Q=KX(Q,!1))!==null){const j=Q.textContent||"";if(j.length>0){if(/[ \t\n]$/.test(j))Z=Z.slice(1);V=!1;break}}if(V)Z=Z.slice(1)}if(Z[Z.length-1]===" "){let Q=X,V=!0;while(Q!==null&&(Q=KX(Q,!0))!==null)if((Q.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){V=!1;break}if(V)Z=Z.slice(0,Z.length-1)}if(Z==="")return{node:null};return{node:f(Z)}},KX=function($,X){let Y=$;while(!0){let Z;while((Z=X?Y.nextSibling:Y.previousSibling)===null){const V=Y.parentElement;if(V===null)return null;Y=V}if(Y=Z,Y.nodeType===i0){const V=Y.style.display;if(V===""&&Y.nodeName.match(YZ)===null||V!==""&&!V.startsWith("inline"))return null}let Q=Y;while((Q=X?Y.firstChild:Y.lastChild)!==null)Y=Q;if(Y.nodeType===M0)return Y;else if(Y.nodeName==="BR")return null}},_0=function($){const X=ZZ[$.nodeName.toLowerCase()];if(X===void 0)return{node:null};return{forChild:(Y)=>{if(B(Y)&&!Y.hasFormat(X))Y.toggleFormat(X);return Y},node:null}},f=function($=""){return T$(new v0($))},B=function($){return $ instanceof v0},f1=function(){return T$(new e0)},QZ=function($){return $ instanceof e0},I0=function($,X,Y){return new RY($,X,Y)},o$=function($,X){let Y=X.__key,Z=$.offset,Q="element";if(B(X)){Q="text";const V=X.getTextContentSize();if(Z>V)Z=V}else if(!A(X)){const V=X.getNextSibling();if(B(V))Y=V.__key,Z=0,Q="text";else{const j=X.getParent();if(j)Y=j.__key,Z=X.getIndexWithinParent()+1}}$.set(Y,Z,Q)},AX=function($,X){if(A(X)){const Y=X.getLastDescendant();if(A(Y)||B(Y))o$($,Y);else o$($,X)}else o$($,X)},OX=function($,X,Y,Z){const Q=$.getNode(),V=Q.getChildAtIndex($.offset),j=f(),G=o(Q)?j0().append(j):j;if(j.setFormat(Y),j.setStyle(Z),V===null)Q.append(G);else V.insertBefore(G);if($.is(X))X.set(j.__key,0,"text");$.set(j.__key,0,"text")},H0=function($,X,Y,Z){$.key=X,$.offset=Y,$.type=Z},R=function($){return $ instanceof R0},v$=function($){return $ instanceof N$},BX=function($){const X=$.offset;if($.type==="text")return X;const Y=$.getNode();return X===Y.getChildrenSize()?Y.getTextContent().length:0},wX=function($){const X=$.getStartEndPoints();if(X===null)return[0,0];const[Y,Z]=X;if(Y.type==="element"&&Z.type==="element"&&Y.key===Z.key&&Y.offset===Z.offset)return[0,0];return[BX(Y),BX(Z)]},VZ=function($){const{focus:X,anchor:Y}=$,Z=Y.key,Q=Y.offset,V=Y.type;H0(Y,X.key,X.offset,X.type),H0(X,Z,Q,V),$._cachedNodes=null},jZ=function($,X,Y,Z){$.modify(X,Y,Z)},GZ=function($,X){const{anchor:Y,focus:Z}=$,Q=Y.getNode(),V=Z.getNode();if(Q===V&&Y.type==="text"&&Z.type==="text"){const j=Y.offset,G=Z.offset,W=j<G,_=W?j:G,H=W?G:j,P=H-1;if(_!==P){const J=Q.getTextContent().slice(_,H);if(!XY(J))if(X)Z.offset=P;else Y.offset=P}}},zX=function($,X,Y){const Z=$,V=Z.getTextContent().split(/(?=\s)/g),j=V.length;let G=0,W=0;for(let H=0;H<j;H++){const P=V[H],J=H===j-1;if(W=G,G+=P.length,X&&G===Y||G>Y||J){if(V.splice(H,1),J)W=void 0;break}}const _=V.join("").trim();if(_==="")Z.remove();else Z.setTextContent(_),Z.select(W,W)},JZ=function($,X,Y){const Z=$.getParent();return Y===null||Z===null||!Z.canBeEmpty()||Z!==Y.getNode()},RX=function($,X,Y,Z){let Q=X,V;if($.nodeType===i0){let j=!1;const G=$.childNodes,W=G.length;if(Q===W)j=!0,Q=W-1;let _=G[Q],H=!1;if(_===Z._blockCursorElement)_=G[Q+1],H=!0;else if(Z._blockCursorElement!==null)Q--;if(V=C0(_),B(V))Q=GX(V,j);else{let P=C0($);if(P===null)return null;if(A(P)){let J=P.getChildAtIndex(Q);if(A(J)&&JZ(J,Q,Y)){const D=j?J.getLastDescendant():J.getFirstDescendant();if(D===null)P=J,Q=0;else J=D,P=A(J)?J:J.getParentOrThrow()}if(B(J))V=J,P=null,Q=GX(J,j);else if(J!==P&&j&&!H)Q++}else{const J=P.getIndexWithinParent();if(X===0&&m(P)&&C0($)===P)Q=J;else Q=J+1;P=P.getParentOrThrow()}if(A(P))return I0(P.__key,Q,"element")}}else V=C0($);if(!B(V))return null;return I0(V.__key,Q,"text")},TX=function($,X,Y){const Z=$.offset,Q=$.getNode();if(Z===0){const V=Q.getPreviousSibling(),j=Q.getParent();if(!X){if(A(V)&&!Y&&V.isInline())$.key=V.__key,$.offset=V.getChildrenSize(),$.type="element";else if(B(V))$.key=V.__key,$.offset=V.getTextContent().length}else if((Y||!X)&&V===null&&A(j)&&j.isInline()){const G=j.getPreviousSibling();if(B(G))$.key=G.__key,$.offset=G.getTextContent().length}}else if(Z===Q.getTextContent().length){const V=Q.getNextSibling(),j=Q.getParent();if(X&&A(V)&&V.isInline())$.key=V.__key,$.offset=0,$.type="element";else if((Y||X)&&V===null&&A(j)&&j.isInline()&&!j.canInsertTextAfter()){const G=j.getNextSibling();if(B(G))$.key=G.__key,$.offset=0}}},TY=function($,X,Y){if($.type==="text"&&X.type==="text"){const Z=$.isBefore(X),Q=$.is(X);if(TX($,Z,Q),TX(X,!Z,Q),Q)X.key=$.key,X.offset=$.offset,X.type=$.type;const V=u();if(V.isComposing()&&V._compositionKey!==$.key&&R(Y)){const{anchor:j,focus:G}=Y;H0($,j.key,j.offset,j.type),H0(X,G.key,G.offset,G.type)}}},qY=function($,X,Y,Z,Q,V){if($===null||Y===null||!O$(Q,$,Y))return null;const j=RX($,X,R(V)?V.anchor:null,Q);if(j===null)return null;const G=RX(Y,Z,R(V)?V.focus:null,Q);if(G===null)return null;if(j.type==="element"&&G.type==="element"){const W=C0($),_=C0(Y);if(m(W)&&m(_))return null}return TY(j,G,V),[j,G]};var CY=function($,X,Y,Z,Q,V){const j=G0(),G=new R0(I0($,X,Q),I0(Y,Z,V),0,"");return G.dirty=!0,j._selection=G,G};var qX=function(){return new N$(new Set)},_Z=function($){const Y=$.getEditorState()._selection,Z=$0($._window);if(R(Y)||Y==null)return p1(Y,Z,$,null);return Y.clone()},p1=function($,X,Y,Z){const Q=Y._window;if(Q===null)return null;const V=Z||Q.event,j=V?V.type:void 0,G=j==="selectionchange",W=!O3()&&(G||j==="beforeinput"||j==="compositionstart"||j==="compositionend"||j==="click"&&V&&V.detail===3||j==="drop"||j===void 0);let _,H,P,J;if(!R($)||W){if(X===null)return null;if(_=X.anchorNode,H=X.focusNode,P=X.anchorOffset,J=X.focusOffset,G&&R($)&&!O$(Y,_,H))return $.clone()}else return $.clone();const D=qY(_,P,H,J,Y,$);if(D===null)return null;const[U,I]=D;return new R0(U,I,!R($)?0:$.format,!R($)?"":$.style)},v=function(){return G0()._selection},y$=function(){return u()._editorState._selection},F$=function($,X,Y,Z=1){const{anchor:Q,focus:V}=$,j=Q.getNode(),G=V.getNode();if(!X.is(j)&&!X.is(G))return;const W=X.__key;if($.isCollapsed()){const _=Q.offset;if(Y<=_&&Z>0||Y<_&&Z<0){const H=Math.max(0,_+Z);Q.set(W,H,"element"),V.set(W,H,"element"),CX($)}}else{const _=$.isBackward(),H=_?V:Q,P=H.getNode(),J=_?Q:V,D=J.getNode();if(X.is(P)){const U=H.offset;if(Y<=U&&Z>0||Y<U&&Z<0)H.set(W,Math.max(0,U+Z),"element")}if(X.is(D)){const U=J.offset;if(Y<=U&&Z>0||Y<U&&Z<0)J.set(W,Math.max(0,U+Z),"element")}}CX($)},CX=function($){const X=$.anchor,Y=X.offset,Z=$.focus,Q=Z.offset,V=X.getNode(),j=Z.getNode();if($.isCollapsed()){if(!A(V))return;const G=V.getChildrenSize(),W=Y>=G,_=W?V.getChildAtIndex(G-1):V.getChildAtIndex(Y);if(B(_)){let H=0;if(W)H=_.getTextContentSize();X.set(_.__key,H,"text"),Z.set(_.__key,H,"text")}return}if(A(V)){const G=V.getChildrenSize(),W=Y>=G,_=W?V.getChildAtIndex(G-1):V.getChildAtIndex(Y);if(B(_)){let H=0;if(W)H=_.getTextContentSize();X.set(_.__key,H,"text")}}if(A(j)){const G=j.getChildrenSize(),W=Q>=G,_=W?j.getChildAtIndex(G-1):j.getChildAtIndex(Q);if(B(_)){let H=0;if(W)H=_.getTextContentSize();Z.set(_.__key,H,"text")}}},WZ=function($,X){const Z=X.getEditorState()._selection,Q=$._selection;if(R(Q)){const{anchor:V,focus:j}=Q;let G;if(V.type==="text")G=V.getNode(),G.selectionTransform(Z,Q);if(j.type==="text"){const W=j.getNode();if(G!==W)W.selectionTransform(Z,Q)}}},I$=function($,X,Y,Z,Q){let V=null,j=0,G=null;if(Z!==null){if(V=Z.__key,B(Z))j=Z.getTextContentSize(),G="text";else if(A(Z))j=Z.getChildrenSize(),G="element"}else if(Q!==null){if(V=Q.__key,B(Q))G="text";else if(A(Q))G="element"}if(V!==null&&G!==null)$.set(V,j,G);else{if(j=X.getIndexWithinParent(),j===-1)j=Y.getChildrenSize();$.set(Y.__key,j,"element")}},xX=function($,X,Y,Z,Q){if($.type==="text"){if($.key=Y,!X)$.offset+=Q}else if($.offset>Z.getIndexWithinParent())$.offset-=1},HZ=function($,X,Y,Z,Q,V,j){const{anchorNode:G,focusNode:W,anchorOffset:_,focusOffset:H}=Z,P=document.activeElement;if(Q.has("collaboration")&&P!==V||P!==null&&aX(P))return;if(!R(X)){if($!==null&&O$(Y,G,W))Z.removeAllRanges();return}const{anchor:J,focus:D}=X,U=J.key,I=D.key,F=D$(Y,U),M=D$(Y,I),K=J.offset,x=D.offset,q=X.format,w=X.style,z=X.isCollapsed();let N=F,E=M,a=!1;if(J.type==="text"){N=P$(F);const C=J.getNode();a=C.getFormat()!==q||C.getStyle()!==w}else if(R($)&&$.anchor.type==="text")a=!0;if(D.type==="text")E=P$(M);if(N===null||E===null)return;if(z&&($===null||a||R($)&&($.format!==q||$.style!==w)))b5(q,w,K,U,performance.now());if(_===K&&H===x&&G===N&&W===E&&!(Z.type==="Range"&&z)){if(P===null||!V.contains(P))V.focus({preventScroll:!0});if(J.type!=="element")return}try{Z.setBaseAndExtent(N,K,E,x)}catch(C){}if(!Q.has("skip-scroll-into-view")&&X.isCollapsed()&&V!==null&&V===document.activeElement){const C=X instanceof R0&&X.anchor.type==="element"?N.childNodes[K]||null:Z.rangeCount>0?Z.getRangeAt(0):null;if(C!==null){let y;if(C instanceof Text){const b=document.createRange();b.selectNode(C),y=b.getBoundingClientRect()}else y=C.getBoundingClientRect();F5(Y,y,V)}}l5()};var a$=function($){if(!$.isCollapsed())$.removeText();const X=$.anchor;let Y=X.getNode(),Z=X.offset;while(!T0(Y))[Y,Z]=PZ(Y,Z);return Z},PZ=function($,X){const Y=$.getParent();if(!Y){const Q=j0();return t().append(Q),Q.select(),[t(),0]}if(B($)){const Q=$.splitText(X);if(Q.length===0)return[Y,$.getIndexWithinParent()];const V=X===0?0:1,j=Q[0].getIndexWithinParent()+V;return[Y,j]}if(!A($)||X===0)return[Y,$.getIndexWithinParent()];const Z=$.getChildAtIndex(X);if(Z){const Q=new R0(I0($.__key,X,"element"),I0($.__key,X,"element"),0,""),V=$.insertNewAfter(Q);if(V)V.append(Z,...Z.getNextSiblings())}return[Y,$.getIndexWithinParent()+1]},LZ=function($){const X=j0();let Y=null;for(let Z=0;Z<$.length;Z++){const Q=$[Z],V=b0(Q);if(V||m(Q)&&Q.isInline()||A(Q)&&Q.isInline()||B(Q)||Q.isParentRequired()){if(Y===null){if(Y=Q.createParentElementNode(),X.append(Y),V)continue}if(Y!==null)Y.append(Q)}else X.append(Q),Y=null}return X},$$=function(){return i||k!==null&&k._readOnly},p=function(){if(i)throw Error("Cannot use method in read-only mode.")},xY=function(){if(M$>99)throw Error("One or more transforms are endlessly triggering additional transforms. May have encountered infinite recursion caused by transforms that have their preconditions too lose and/or conflict with each other.")},G0=function(){if(k===null)throw Error("Unable to find an active editor state. State helpers or node methods can only be used synchronously during the callback of editor.update() or editorState.read().");return k},u=function(){if(g===null)throw Error("Unable to find an active editor. This method can only be used synchronously during the callback of editor.update().");return g},DZ=function(){return g},vX=function($,X,Y){const Z=X.__type,Q=x3($,Z);let V=Y.get(Z);if(V===void 0)V=Array.from(Q.transforms),Y.set(Z,V);const j=V.length;for(let G=0;G<j;G++)if(V[G](X),!X.isAttached())break},yX=function($,X){return $!==void 0&&$.__key!==X&&$.isAttached()},UZ=function($,X){const Y=X._dirtyLeaves,Z=$._nodeMap;for(let Q of Y){const V=Z.get(Q);if(B(V)&&V.isAttached()&&V.isSimpleText()&&!V.isUnmergeable())oX(V)}},FZ=function($,X){const{_dirtyLeaves:Y,_dirtyElements:Z}=X,Q=$._nodeMap,V=W0(),j=new Map;let G=Y,W=G.size,_=Z,H=_.size;while(W>0||H>0){if(W>0){X._dirtyLeaves=new Set;for(let P of G){const J=Q.get(P);if(B(J)&&J.isAttached()&&J.isSimpleText()&&!J.isUnmergeable())oX(J);if(J!==void 0&&yX(J,V))vX(X,J,j);Y.add(P)}if(G=X._dirtyLeaves,W=G.size,W>0){M$++;continue}}X._dirtyLeaves=new Set,X._dirtyElements=new Map;for(let P of _){const J=P[0],D=P[1];if(J!=="root"&&!D)continue;const U=Q.get(J);if(U!==void 0&&yX(U,V))vX(X,U,j);Z.set(J,D)}G=X._dirtyLeaves,W=G.size,_=X._dirtyElements,H=_.size,M$++}X._dirtyLeaves=Y,X._dirtyElements=Z};var NY=function($,X){const Y=$.type,Z=X.get(Y);if(Z===void 0)throw Error(`parseEditorState: type "${Y}" + not found`);const Q=Z.klass;if($.type!==Q.getType())throw Error(`LexicalNode: Node ${Q.name} does not implement .importJSON().`);const V=Q.importJSON($),j=$.children;if(A(V)&&Array.isArray(j))for(let G=0;G<j.length;G++){const W=j[G],_=NY(W,X);V.append(_)}return V},IZ=function($,X,Y){const Z=c1(),Q=k,V=i,j=g,G=X._dirtyElements,W=X._dirtyLeaves,_=X._cloneNotNeeded,H=X._dirtyType;X._dirtyElements=new Map,X._dirtyLeaves=new Set,X._cloneNotNeeded=new Set,X._dirtyType=0,k=Z,i=!1,g=X;try{const P=X._nodes,J=$.root;if(NY(J,P),Y)Y();Z._readOnly=!0,vY(Z)}catch(P){if(P instanceof Error)X._onError(P)}finally{X._dirtyElements=G,X._dirtyLeaves=W,X._cloneNotNeeded=_,X._dirtyType=H,k=Q,i=V,g=j}return Z},uX=function($,X){const Y=k,Z=i,Q=g;k=$,i=!0,g=null;try{return X()}finally{k=Y,i=Z,g=Q}},vY=function($){const X=$._nodeMap;X.set=()=>{throw new Error("Cannot call set() on a frozen Lexical node map")},X.clear=()=>{throw new Error("Cannot call clear() on a frozen Lexical node map")},X.delete=()=>{throw new Error("Cannot call delete() on a frozen Lexical node map")}},B0=function($,X){const{_pendingEditorState:Y,_rootElement:Z}=$,Q=$._headless||Z===null;if(Y===null)return;const V=$._editorState,j=V._selection,G=Y._selection,W=$._dirtyType!==w0,_=k,H=i,P=g,J=$._updating,D=$._observer;let U=null;if($._pendingEditorState=null,$._editorState=Y,!Q&&W&&D!==null){g=$,k=Y,i=!1,$._updating=!0;try{const{_dirtyType:z,_dirtyElements:N,_dirtyLeaves:E}=$;D.disconnect(),U=N5(V,Y,$,z,N,E)}catch(z){if(z instanceof Error)$._onError(z);if(!t$)SY($,null,Z,Y),rX($),$._dirtyType=N0,t$=!0,B0($,V),t$=!1;else throw z;return}finally{D.observe(Z,NX),$._updating=J,k=_,i=H,g=P}}if(!Y._readOnly){Y._readOnly=!0;{if(vY(Y),R(G))Object.freeze(G.anchor),Object.freeze(G.focus);Object.freeze(G)}}const{_dirtyLeaves:I,_dirtyElements:F,_normalizedNodes:M,_updateTags:K,_deferred:x}=$;if(W)$._dirtyType=w0,$._cloneNotNeeded.clear(),$._dirtyLeaves=new Set,$._dirtyElements=new Map,$._normalizedNodes=new Set,$._updateTags=new Set;B5($,Y);const q=Q?null:$0($._window);if($._editable&&q!==null&&(W||G===null||G.dirty)){g=$,k=Y;try{if(D!==null)D.disconnect();if(W||G===null||G.dirty){const z=$._blockCursorElement;if(z!==null)E1(z,$,Z);HZ(j,G,$,q,K,Z)}if(O5($,Z,G),D!==null)D.observe(Z,NX)}finally{g=P,k=_}}if(U!==null)KZ($,U,K,I,V);if(!R(G)&&G!==null&&(j===null||!j.is(G)))$.dispatchCommand(P1,void 0);const w=$._pendingDecorators;if(w!==null)$._decorators=w,$._pendingDecorators=null,n0("decorator",$,!0,w);MZ($,X||V,Y),n0("update",$,!0,{dirtyElements:F,dirtyLeaves:I,editorState:Y,normalizedNodes:M,prevEditorState:X||V,tags:K}),OZ($,x),AZ($)},MZ=function($,X,Y){const Z=jX(X),Q=jX(Y);if(Z!==Q)n0("textcontent",$,!0,Q)},KZ=function($,X,Y,Z,Q){const V=Array.from($._listeners.mutation),j=V.length;for(let G=0;G<j;G++){const[W,_]=V[G],H=X.get(_);if(H!==void 0)W(H,{dirtyLeaves:Z,prevEditorState:Q,updateTags:Y})}},n0=function($,X,Y,...Z){const Q=X._updating;X._updating=Y;try{const V=Array.from(X._listeners[$]);for(let j=0;j<V.length;j++)V[j].apply(null,Z)}finally{X._updating=Q}},yY=function($,X,Y){if($._updating===!1||g!==$){let Q=!1;return $.update(()=>{Q=yY($,X,Y)}),Q}const Z=N1($);for(let Q=4;Q>=0;Q--)for(let V=0;V<Z.length;V++){const W=Z[V]._commands.get(X);if(W!==void 0){const _=W[Q];if(_!==void 0){const H=Array.from(_),P=H.length;for(let J=0;J<P;J++)if(H[J](Y,$)===!0)return!0}}}return!1},AZ=function($){const X=$._updates;if(X.length!==0){const Y=X.shift();if(Y){const[Z,Q]=Y;uY($,Z,Q)}}},OZ=function($,X){if($._deferred=[],X.length!==0){const Y=$._updating;$._updating=!0;try{for(let Z=0;Z<X.length;Z++)X[Z]()}finally{$._updating=Y}}},EX=function($,X){const Y=$._updates;let Z=X||!1;while(Y.length!==0){const Q=Y.shift();if(Q){const[V,j]=Q;let G,W;if(j!==void 0){if(G=j.onUpdate,W=j.tag,j.skipTransforms)Z=!0;if(G)$._deferred.push(G);if(W)$._updateTags.add(W)}V()}}return Z},uY=function($,X,Y){const Z=$._updateTags;let Q,V,j=!1,G=!1;if(Y!==void 0){if(Q=Y.onUpdate,V=Y.tag,V!=null)Z.add(V);j=Y.skipTransforms||!1,G=Y.discrete||!1}if(Q)$._deferred.push(Q);const W=$._editorState;let _=$._pendingEditorState,H=!1;if(_===null||_._readOnly)_=$._pendingEditorState=zZ(_||W),H=!0;_._flushSync=G;const P=k,J=i,D=g,U=$._updating;k=_,i=!1,$._updating=!0,g=$;try{if(H)if($._headless){if(W._selection!==null)_._selection=W._selection.clone()}else _._selection=_Z($);const F=$._compositionKey;if(X(),j=EX($,j),WZ(_,$),$._dirtyType!==w0){if(j)UZ(_,$);else FZ(_,$);EX($),w5(W,_,$._dirtyLeaves,$._dirtyElements)}const M=$._compositionKey;if(F!==M)_._flushSync=!0;const K=_._selection;if(R(K)){const x=_._nodeMap,q=K.anchor.key,w=K.focus.key;if(x.get(q)===void 0||x.get(w)===void 0)throw Error("updateEditor: selection has been lost because the previously selected nodes have been removed and selection wasn't moved to another node. Ensure selection changes after removing/replacing a selected node.")}else if(v$(K)){if(K._nodes.size===0)_._selection=null}}catch(F){if(F instanceof Error)$._onError(F);$._pendingEditorState=W,$._dirtyType=N0,$._cloneNotNeeded.clear(),$._dirtyLeaves=new Set,$._dirtyElements.clear(),B0($);return}finally{k=P,i=J,g=D,$._updating=U,M$=0}if($._dirtyType!==w0||wZ(_,$)){if(_._flushSync)_._flushSync=!1,B0($);else if(H)N3(()=>{B0($)})}else if(_._flushSync=!1,H)Z.clear(),$._deferred=[],$._pendingEditorState=null},r=function($,X,Y){if($._updating)$._updates.push([X,Y]);else uY($,X,Y)},m=function($){return $ instanceof s1},A=function($){return $ instanceof u$},SX=function($,X,Y){let Z=$.getNode();while(Z){const Q=Z.__key;if(X.has(Q)&&!Y.has(Q))return!0;Z=Z.getParent()}return!1},BZ=function(){return new X$},o=function($){return $ instanceof X$},wZ=function($,X){const Y=X.getEditorState()._selection,Z=$._selection;if(Z!==null){if(Z.dirty||!Z.is(Y))return!0}else if(Y!==null)return!0;return!1},zZ=function($){return new E$(new Map($._nodeMap))},c1=function(){return new E$(new Map([["root",BZ()]]))},EY=function($){const X=$.exportJSON(),Y=$.constructor;if(X.type!==Y.getType())throw Error(`LexicalNode: Node ${Y.name} does not match the serialized type. Check if .exportJSON() is implemented and it is returning the correct type.`);if(A($)){const Z=X.children;if(!Array.isArray(Z))throw Error(`LexicalNode: Node ${Y.name} is an element but .exportJSON() does not have a children array.`);const Q=$.getChildren();for(let V=0;V<Q.length;V++){const j=Q[V],G=EY(j);Z.push(G)}}return X},RZ=function($){const X=j0();if($.style){X.setFormat($.style.textAlign);const Y=parseInt($.style.textIndent,10)/20;if(Y>0)X.setIndent(Y)}return{node:X}},j0=function(){return T$(new S$)};var SY=function($,X,Y,Z){const Q=$._keyToDOMMap;Q.clear(),$._editorState=c1(),$._pendingEditorState=Z,$._compositionKey=null,$._dirtyType=w0,$._cloneNotNeeded.clear(),$._dirtyLeaves=new Set,$._dirtyElements.clear(),$._normalizedNodes=new Set,$._updateTags=new Set,$._updates=[],$._blockCursorElement=null;const V=$._observer;if(V!==null)V.disconnect(),$._observer=null;if(X!==null)X.textContent="";if(Y!==null)Y.textContent="",Q.set("root",Y)},TZ=function($,X){const Y=new Map,Z=new Set,Q=(V)=>{Object.keys(V).forEach((j)=>{let G=Y.get(j);if(G===void 0)G=[],Y.set(j,G);G.push(V[j])})};if($.forEach((V)=>{const j=V.klass.importDOM!=null?V.klass.importDOM.bind(V.klass):null;if(j==null||Z.has(j))return;Z.add(j);const G=j();if(G!==null)Q(G)}),X)Q(X);return Y},qZ=function($){const X=$||{},Y=DZ(),Z=X.theme||{},Q=$===void 0?Y:X.parentEditor||null,V=X.disableEvents||!1,j=c1(),G=X.namespace||(Q!==null?Q._config.namespace:YY()),W=X.editorState,_=[X$,v0,d0,e0,S$,...X.nodes||[]],{onError:H,html:P}=X,J=X.editable!==void 0?X.editable:!0;let D;if($===void 0&&Y!==null)D=Y._nodes;else{D=new Map;for(let I=0;I<_.length;I++){let F=_[I],M=null,K=null;if(typeof F!=="function"){const z=F;F=z.replace,M=z.with,K=z.withKlass||null}{const z=F.name;if(z!=="RootNode"){const N=F.prototype;if(["getType","clone"].forEach((E)=>{if(!F.hasOwnProperty(E))console.warn(`${z} must implement static "${E}" method`)}),!F.hasOwnProperty("importDOM")&&F.hasOwnProperty("exportDOM"))console.warn(`${z} should implement "importDOM" if using a custom "exportDOM" method to ensure HTML serialization (important for copy & paste) works as expected`);if(N instanceof s1){if(!N.hasOwnProperty("decorate"))console.warn(`${N.constructor.name} must implement "decorate" method`)}if(!F.hasOwnProperty("importJSON"))console.warn(`${z} should implement "importJSON" method to ensure JSON and default HTML serialization works as expected`);if(!N.hasOwnProperty("exportJSON"))console.warn(`${z} should implement "exportJSON" method to ensure JSON and default HTML serialization works as expected`)}}const x=F.getType(),q=F.transform(),w=new Set;if(q!==null)w.add(q);D.set(x,{exportDOM:P&&P.export?P.export.get(F):void 0,klass:F,replace:M,replaceWithKlass:K,transforms:w})}}const U=new mY(j,Q,D,{disableEvents:V,namespace:G,theme:Z},H?H:console.error,TZ(D,P?P.import:void 0),J);if(W!==void 0)U._pendingEditorState=W,U._dirtyType=N0;return U},P1=T("SELECTION_CHANGE_COMMAND"),lZ=T("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),sY=T("CLICK_COMMAND"),E0=T("DELETE_CHARACTER_COMMAND"),Q$=T("INSERT_LINE_BREAK_COMMAND"),$X=T("INSERT_PARAGRAPH_COMMAND"),S0=T("CONTROLLED_TEXT_INSERTION_COMMAND"),mX=T("PASTE_COMMAND"),XX=T("REMOVE_TEXT_COMMAND"),j$=T("DELETE_WORD_COMMAND"),G$=T("DELETE_LINE_COMMAND"),A0=T("FORMAT_TEXT_COMMAND"),hX=T("UNDO_COMMAND"),kX=T("REDO_COMMAND"),cY=T("KEYDOWN_COMMAND"),lY=T("KEY_ARROW_RIGHT_COMMAND"),bY=T("MOVE_TO_END"),nY=T("KEY_ARROW_LEFT_COMMAND"),iY=T("MOVE_TO_START"),rY=T("KEY_ARROW_UP_COMMAND"),oY=T("KEY_ARROW_DOWN_COMMAND"),d$=T("KEY_ENTER_COMMAND"),aY=T("KEY_SPACE_COMMAND"),tY=T("KEY_BACKSPACE_COMMAND"),dY=T("KEY_ESCAPE_COMMAND"),eY=T("KEY_DELETE_COMMAND"),$3=T("KEY_TAB_COMMAND"),bZ=T("INSERT_TAB_COMMAND"),nZ=T("INDENT_CONTENT_COMMAND"),iZ=T("OUTDENT_CONTENT_COMMAND"),X3=T("DROP_COMMAND"),rZ=T("FORMAT_ELEMENT_COMMAND"),Y3=T("DRAGSTART_COMMAND"),Z3=T("DRAGOVER_COMMAND"),Q3=T("DRAGEND_COMMAND"),gX=T("COPY_COMMAND"),fX=T("CUT_COMMAND"),YX=T("SELECT_ALL_COMMAND"),oZ=T("CLEAR_EDITOR_COMMAND"),aZ=T("CLEAR_HISTORY_COMMAND"),tZ=T("CAN_REDO_COMMAND"),dZ=T("CAN_UNDO_COMMAND"),V3=T("FOCUS_COMMAND"),j3=T("BLUR_COMMAND"),G3=T("KEY_MODIFIER_COMMAND"),e=typeof window!=="undefined"&&typeof window.document!=="undefined"&&typeof window.document.createElement!=="undefined",J3=e&&"documentMode"in document?document.documentMode:null,d=e&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),L0=e&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),J$=e&&"InputEvent"in window&&!J3?"getTargetRanges"in new window.InputEvent("input"):!1,L1=e&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),K$=e&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,_3=e&&/Android/.test(navigator.userAgent),W3=e&&/^(?=.*Chrome).*/i.test(navigator.userAgent),D1=e&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!W3,i0=1,M0=3,w0=0,pX=1,N0=2,sX=0,U1=1,F1=2,I1=1,M1=1<<1,_$=1<<2,W$=1<<3,K1=1<<4,A1=1<<5,O1=1<<6,B1=1<<7,H3=I1|M1|_$|W$|K1|A1|O1|B1,e$=1,H$=1<<1,w1=1,z1=2,R1=3,T1=4,q1=5,C1=6,cX="\xA0",P3="\u200B",A$=L1||K$||D1?cX:P3,V0="\n\n",L3=L0?cX:A$,lX="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",bX="A-Za-z\xC0-\xD6\xD8-\xF6"+"\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C"+"\uFE00-\uFE6F\uFEFD-\uFFFF",D3=new RegExp("^[^"+bX+"]*["+lX+"]"),U3=new RegExp("^[^"+lX+"]*["+bX+"]"),P0={bold:I1,code:K1,highlight:B1,italic:M1,strikethrough:_$,subscript:A1,superscript:O1,underline:W$},F3={directionless:e$,unmergeable:H$},ZX={center:z1,end:C1,justify:T1,left:w1,right:R1,start:q1},I3={[z1]:"center",[C1]:"end",[T1]:"justify",[w1]:"left",[R1]:"right",[q1]:"start"},M3={normal:sX,segmented:F1,token:U1},K3={[sX]:"normal",[F1]:"segmented",[U1]:"token"},A3=100,$1=!1,x1=0,q3=1,N3=typeof queueMicrotask==="function"?queueMicrotask:($)=>{Promise.resolve().then($)},S="",c="",Q0="",U0,l,s0,WY=!1,S1=!1,q$,V$=null,Q1,V1,z0,F0,j1,c0,z5="40px",Z0=Object.freeze({}),g1=30,G1=[["keydown",f5],["pointerdown",u5],["compositionstart",k5],["compositionend",g5],["input",h5],["click",y5],["cut",Z0],["copy",Z0],["dragstart",Z0],["dragover",Z0],["dragend",Z0],["paste",Z0],["focus",Z0],["blur",Z0],["drop",Z0]];if(J$)G1.push(["beforeinput",($,X)=>m5($,X)]);var a0=0,FY=0,IY=0,q0=null,k0=0,J1=!1,_1=!1,g0=!1,u0=!1,MY=[0,"",0,"root",0],x0=new Map;class t0{static getType(){throw Error(`LexicalNode: Node ${this.name} does not implement .getType().`)}static clone($){throw Error(`LexicalNode: Node ${this.name} does not implement .clone().`)}constructor($){if(this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,E3(this,$),this.__type!=="root")p(),n5(this.__type,this.constructor)}getType(){return this.__type}isInline(){throw Error(`LexicalNode: Node ${this.constructor.name} does not implement .isInline().`)}isAttached(){let $=this.__key;while($!==null){if($==="root")return!0;const X=s($);if(X===null)break;$=X.__parent}return!1}isSelected($){const X=$||v();if(X==null)return!1;const Y=X.getNodes().some((Z)=>Z.__key===this.__key);if(B(this))return Y;if(R(X)&&X.anchor.type==="element"&&X.focus.type==="element"&&X.anchor.key===X.focus.key&&X.anchor.offset===X.focus.offset)return!1;return Y}getKey(){return this.__key}getIndexWithinParent(){const $=this.getParent();if($===null)return-1;let X=$.getFirstChild(),Y=0;while(X!==null){if(this.is(X))return Y;Y++,X=X.getNextSibling()}return-1}getParent(){const $=this.getLatest().__parent;if($===null)return null;return s($)}getParentOrThrow(){const $=this.getParent();if($===null)throw Error(`Expected node ${this.__key} to have a parent.`);return $}getTopLevelElement(){let $=this;while($!==null){const X=$.getParent();if(o0(X)){if(!A($))throw Error("Children of root nodes must be elements");return $}$=X}return null}getTopLevelElementOrThrow(){const $=this.getTopLevelElement();if($===null)throw Error(`Expected node ${this.__key} to have a top parent element.`);return $}getParents(){const $=[];let X=this.getParent();while(X!==null)$.push(X),X=X.getParent();return $}getParentKeys(){const $=[];let X=this.getParent();while(X!==null)$.push(X.__key),X=X.getParent();return $}getPreviousSibling(){const X=this.getLatest().__prev;return X===null?null:s(X)}getPreviousSiblings(){const $=[],X=this.getParent();if(X===null)return $;let Y=X.getFirstChild();while(Y!==null){if(Y.is(this))break;$.push(Y),Y=Y.getNextSibling()}return $}getNextSibling(){const X=this.getLatest().__next;return X===null?null:s(X)}getNextSiblings(){const $=[];let X=this.getNextSibling();while(X!==null)$.push(X),X=X.getNextSibling();return $}getCommonAncestor($){const X=this.getParents(),Y=$.getParents();if(A(this))X.unshift(this);if(A($))Y.unshift($);const Z=X.length,Q=Y.length;if(Z===0||Q===0||X[Z-1]!==Y[Q-1])return null;const V=new Set(Y);for(let j=0;j<Z;j++){const G=X[j];if(V.has(G))return G}return null}is($){if($==null)return!1;return this.__key===$.__key}isBefore($){if(this===$)return!1;if($.isParentOf(this))return!0;if(this.isParentOf($))return!1;const X=this.getCommonAncestor($);let Y=0,Z=0,Q=this;while(!0){const V=Q.getParentOrThrow();if(V===X){Y=Q.getIndexWithinParent();break}Q=V}Q=$;while(!0){const V=Q.getParentOrThrow();if(V===X){Z=Q.getIndexWithinParent();break}Q=V}return Y<Z}isParentOf($){const X=this.__key;if(X===$.__key)return!1;let Y=$;while(Y!==null){if(Y.__key===X)return!0;Y=Y.getParent()}return!1}getNodesBetween($){const X=this.isBefore($),Y=[],Z=new Set;let Q=this;while(!0){const V=Q.__key;if(!Z.has(V))Z.add(V),Y.push(Q);if(Q===$)break;const j=A(Q)?X?Q.getFirstChild():Q.getLastChild():null;if(j!==null){Q=j;continue}const G=X?Q.getNextSibling():Q.getPreviousSibling();if(G!==null){Q=G;continue}const W=Q.getParentOrThrow();if(!Z.has(W.__key))Y.push(W);if(W===$)break;let _=null,H=W;do{if(H===null)throw Error("getNodesBetween: ancestor is null");if(_=X?H.getNextSibling():H.getPreviousSibling(),H=H.getParent(),H!==null){if(_===null&&!Z.has(H.__key))Y.push(H)}}while(_===null);Q=_}if(!X)Y.reverse();return Y}isDirty(){const X=u()._dirtyLeaves;return X!==null&&X.has(this.__key)}getLatest(){const $=s(this.__key);if($===null)throw Error("Lexical node does not exist in active editor state. Avoid using the same node references between nested closures from editorState.read/editor.update.");return $}getWritable(){p();const $=G0(),X=u(),Y=$._nodeMap,Z=this.__key,Q=this.getLatest(),V=Q.__parent,j=X._cloneNotNeeded,G=v();if(G!==null)G.setCachedNodes(null);if(j.has(Z))return L$(Q),Q;const _=Q.constructor.clone(Q);if(_.__parent=V,_.__next=Q.__next,_.__prev=Q.__prev,A(Q)&&A(_))_.__first=Q.__first,_.__last=Q.__last,_.__size=Q.__size,_.__indent=Q.__indent,_.__format=Q.__format,_.__dir=Q.__dir;else if(B(Q)&&B(_))_.__format=Q.__format,_.__style=Q.__style,_.__mode=Q.__mode,_.__detail=Q.__detail;return j.add(Z),_.__key=Z,L$(_),Y.set(Z,_),_}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM($,X){throw Error("createDOM: base method not extended")}updateDOM($,X,Y){throw Error("updateDOM: base method not extended")}exportDOM($){return{element:this.createDOM($._config,$)}}exportJSON(){throw Error("exportJSON: base method not extended")}static importJSON($){throw Error(`LexicalNode: Node ${this.name} does not implement .importJSON().`)}static transform(){return null}remove($){H1(this,!0,$)}replace($,X){p();let Y=v();if(Y!==null)Y=Y.clone();c$(this,$);const Z=this.getLatest(),Q=this.__key,V=$.__key,j=$.getWritable(),G=this.getParentOrThrow().getWritable(),W=G.__size;O0(j);const _=Z.getPreviousSibling(),H=Z.getNextSibling(),P=Z.__prev,J=Z.__next,D=Z.__parent;if(H1(Z,!1,!0),_===null)G.__first=V;else{const U=_.getWritable();U.__next=V}if(j.__prev=P,H===null)G.__last=V;else{const U=H.getWritable();U.__prev=V}if(j.__next=J,j.__parent=D,G.__size=W,X){if(!(A(this)&&A(j)))throw Error("includeChildren should only be true for ElementNodes");this.getChildren().forEach((U)=>{j.append(U)})}if(R(Y)){D0(Y);const{anchor:U,focus:I}=Y;if(U.key===Q)AX(U,j);if(I.key===Q)AX(I,j)}if(W0()===Q)h(V);return j}insertAfter($,X=!0){p(),c$(this,$);const Y=this.getWritable(),Z=$.getWritable(),Q=Z.getParent(),V=v();let j=!1,G=!1;if(Q!==null){const J=$.getIndexWithinParent();if(O0(Z),R(V)){const D=Q.__key,U=V.anchor,I=V.focus;j=U.type==="element"&&U.key===D&&U.offset===J+1,G=I.type==="element"&&I.key===D&&I.offset===J+1}}const W=this.getNextSibling(),_=this.getParentOrThrow().getWritable(),H=Z.__key,P=Y.__next;if(W===null)_.__last=H;else{const J=W.getWritable();J.__prev=H}if(_.__size++,Y.__next=H,Z.__next=P,Z.__prev=Y.__key,Z.__parent=Y.__parent,X&&R(V)){const J=this.getIndexWithinParent();F$(V,_,J+1);const D=_.__key;if(j)V.anchor.set(D,J+2,"element");if(G)V.focus.set(D,J+2,"element")}return $}insertBefore($,X=!0){p(),c$(this,$);const Y=this.getWritable(),Z=$.getWritable(),Q=Z.__key;O0(Z);const V=this.getPreviousSibling(),j=this.getParentOrThrow().getWritable(),G=Y.__prev,W=this.getIndexWithinParent();if(V===null)j.__first=Q;else{const H=V.getWritable();H.__next=Q}j.__size++,Y.__prev=Q,Z.__prev=G,Z.__next=Y.__key,Z.__parent=Y.__parent;const _=v();if(X&&R(_)){const H=this.getParentOrThrow();F$(_,H,W)}return $}isParentRequired(){return!1}createParentElementNode(){return j0()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious($,X){p();const Y=this.getPreviousSibling(),Z=this.getParentOrThrow();if(Y===null)return Z.select(0,0);if(A(Y))return Y.select();else if(!B(Y)){const Q=Y.getIndexWithinParent()+1;return Z.select(Q,Q)}return Y.select($,X)}selectNext($,X){p();const Y=this.getNextSibling(),Z=this.getParentOrThrow();if(Y===null)return Z.select();if(A(Y))return Y.select(0,0);else if(!B(Y)){const Q=Y.getIndexWithinParent();return Z.select(Q,Q)}return Y.select($,X)}markDirty(){this.getWritable()}}class d0 extends t0{static getType(){return"linebreak"}static clone($){return new d0($.__key)}constructor($){super($)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:($)=>{if(o5($))return null;return{conversion:r5,priority:0}}}}static importJSON($){return l0()}exportJSON(){return{type:"linebreak",version:1}}}class v0 extends t0{static getType(){return"text"}static clone($){return new v0($.__text,$.__key)}constructor($,X){super(X);this.__text=$,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const $=this.getLatest();return K3[$.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===U1}isComposing(){return this.__key===W0()}isSegmented(){return this.getLatest().__mode===F1}isDirectionless(){return(this.getLatest().__detail&e$)!==0}isUnmergeable(){return(this.getLatest().__detail&H$)!==0}hasFormat($){const X=P0[$];return(this.getFormat()&X)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags($,X){const Z=this.getLatest().__format;return Y1(Z,$,X)}canHaveFormat(){return!0}createDOM($,X){const Y=this.__format,Z=i$(this,Y),Q=r$(this,Y),V=Z===null?Q:Z,j=document.createElement(V);let G=j;if(this.hasFormat("code"))j.setAttribute("spellcheck","false");if(Z!==null)G=document.createElement(Q),j.appendChild(G);const W=this.__text;IX(G,this,Q,Y,W,$);const _=this.__style;if(_!=="")j.style.cssText=_;return j}updateDOM($,X,Y){const Z=this.__text,Q=$.__format,V=this.__format,j=i$(this,Q),G=i$(this,V),W=r$(this,Q),_=r$(this,V);if((j===null?W:j)!==(G===null?_:G))return!0;if(j===G&&W!==_){const M=X.firstChild;if(M==null)throw Error("updateDOM: prevInnerDOM is null or undefined");const K=document.createElement(_);return IX(K,this,_,V,Z,Y),X.replaceChild(K,M),!1}let J=X;if(G!==null){if(j!==null){if(J=X.firstChild,J==null)throw Error("updateDOM: innerDOM is null or undefined")}}zY(Z,J,this);const U=Y.theme.text;if(U!==void 0&&Q!==V)wY(_,Q,V,J,U);const I=$.__style,F=this.__style;if(I!==F)X.style.cssText=F;return!1}static importDOM(){return{"#text":()=>({conversion:XZ,priority:0}),b:()=>({conversion:d5,priority:0}),code:()=>({conversion:_0,priority:0}),em:()=>({conversion:_0,priority:0}),i:()=>({conversion:_0,priority:0}),s:()=>({conversion:_0,priority:0}),span:()=>({conversion:t5,priority:0}),strong:()=>({conversion:_0,priority:0}),sub:()=>({conversion:_0,priority:0}),sup:()=>({conversion:_0,priority:0}),u:()=>({conversion:_0,priority:0})}}static importJSON($){const X=f($.text);return X.setFormat($.format),X.setDetail($.detail),X.setMode($.mode),X.setStyle($.style),X}exportDOM($){let{element:X}=super.exportDOM($);if(!(X!==null&&JY(X)))throw Error("Expected TextNode createDOM to always return a HTMLElement");if(X.style.whiteSpace="pre-wrap",this.hasFormat("bold"))X=Z$(X,"b");if(this.hasFormat("italic"))X=Z$(X,"i");if(this.hasFormat("strikethrough"))X=Z$(X,"s");if(this.hasFormat("underline"))X=Z$(X,"u");return{element:X}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform($,X){return}setFormat($){const X=this.getWritable();return X.__format=typeof $==="string"?P0[$]:$,X}setDetail($){const X=this.getWritable();return X.__detail=typeof $==="string"?F3[$]:$,X}setStyle($){const X=this.getWritable();return X.__style=$,X}toggleFormat($){const X=this.getFormat(),Y=Y1(X,$,null);return this.setFormat(Y)}toggleDirectionless(){const $=this.getWritable();return $.__detail^=e$,$}toggleUnmergeable(){const $=this.getWritable();return $.__detail^=H$,$}setMode($){const X=M3[$];if(this.__mode===X)return this;const Y=this.getWritable();return Y.__mode=X,Y}setTextContent($){if(this.__text===$)return this;const X=this.getWritable();return X.__text=$,X}select($,X){p();let Y=$,Z=X;const Q=v(),V=this.getTextContent(),j=this.__key;if(typeof V==="string"){const G=V.length;if(Y===void 0)Y=G;if(Z===void 0)Z=G}else Y=0,Z=0;if(!R(Q))return CY(j,Y,j,Z,"text","text");else{const G=W0();if(G===Q.anchor.key||G===Q.focus.key)h(j);Q.setTextNodeRange(this,Y,this,Z)}return Q}selectStart(){return this.select(0,0)}selectEnd(){const $=this.getTextContentSize();return this.select($,$)}spliceText($,X,Y,Z){const Q=this.getWritable(),V=Q.__text,j=Y.length;let G=$;if(G<0){if(G=j+G,G<0)G=0}const W=v();if(Z&&R(W)){const H=$+j;W.setTextNodeRange(Q,H,Q,H)}const _=V.slice(0,G)+Y+V.slice(G+X);return Q.__text=_,Q}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...$){p();const X=this.getLatest(),Y=X.getTextContent(),Z=X.__key,Q=W0(),V=new Set($),j=[],G=Y.length;let W="";for(let z=0;z<G;z++){if(W!==""&&V.has(z))j.push(W),W="";W+=Y[z]}if(W!=="")j.push(W);const _=j.length;if(_===0)return[];else if(j[0]===Y)return[X];const H=j[0],P=X.getParentOrThrow();let J;const D=X.getFormat(),U=X.getStyle(),I=X.__detail;let F=!1;if(X.isSegmented())J=f(H),J.__format=D,J.__style=U,J.__detail=I,F=!0;else J=X.getWritable(),J.__text=H;const M=v(),K=[J];let x=H.length;for(let z=1;z<_;z++){const N=j[z],E=N.length,a=f(N).getWritable();a.__format=D,a.__style=U,a.__detail=I;const C=a.__key,y=x+E;if(R(M)){const{anchor:b,focus:Y0}=M;if(b.key===Z&&b.type==="text"&&b.offset>x&&b.offset<=y)b.key=C,b.offset-=x,M.dirty=!0;if(Y0.key===Z&&Y0.type==="text"&&Y0.offset>x&&Y0.offset<=y)Y0.key=C,Y0.offset-=x,M.dirty=!0}if(Q===Z)h(C);x=y,K.push(a)}m3(this);const q=P.getWritable(),w=this.getIndexWithinParent();if(F)q.splice(w,0,K),this.remove();else q.splice(w,1,K);if(R(M))F$(M,P,w,_-1);return K}mergeWithSibling($){const X=$===this.getPreviousSibling();if(!X&&$!==this.getNextSibling())throw Error("mergeWithSibling: sibling must be a previous or next sibling");const Y=this.__key,Z=$.__key,Q=this.__text,V=Q.length;if(W0()===Z)h(Y);const G=v();if(R(G)){const{anchor:P,focus:J}=G;if(P!==null&&P.key===Z)xX(P,X,Y,$,V),G.dirty=!0;if(J!==null&&J.key===Z)xX(J,X,Y,$,V),G.dirty=!0}const W=$.__text,_=X?W+Q:Q+W;this.setTextContent(_);const H=this.getWritable();return $.remove(),H}isTextEntity(){return!1}}var MX=new WeakMap,YZ=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/,"i"),ZZ={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};class e0 extends v0{static getType(){return"tab"}static clone($){const X=new e0($.__key);return X.__text=$.__text,X.__format=$.__format,X.__style=$.__style,X}constructor($){super("\t",$);this.__detail=H$}static importDOM(){return null}static importJSON($){const X=f1();return X.setFormat($.format),X.setStyle($.style),X}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent($){throw Error("TabNode does not support setTextContent")}setDetail($){throw Error("TabNode does not support setDetail")}setMode($){throw Error("TabNode does not support setMode")}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}class RY{constructor($,X,Y){this._selection=null,this.key=$,this.offset=X,this.type=Y}is($){return this.key===$.key&&this.offset===$.offset&&this.type===$.type}isBefore($){let X=this.getNode(),Y=$.getNode();const Z=this.offset,Q=$.offset;if(A(X)){const V=X.getDescendantByIndex(Z);X=V!=null?V:X}if(A(Y)){const V=Y.getDescendantByIndex(Q);Y=V!=null?V:Y}if(X===Y)return Z<Q;return X.isBefore(Y)}getNode(){const $=this.key,X=s($);if(X===null)throw Error("Point.getNode: node not found");return X}set($,X,Y){const Z=this._selection,Q=this.key;if(this.key=$,this.offset=X,this.type=Y,!$$()){if(W0()===Q)h($);if(Z!==null)Z.setCachedNodes(null),Z.dirty=!0}}}class N${constructor($){this._cachedNodes=null,this._nodes=$,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes($){this._cachedNodes=$}is($){if(!v$($))return!1;const X=this._nodes,Y=$._nodes;return X.size===Y.size&&Array.from(X).every((Z)=>Y.has(Z))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add($){this.dirty=!0,this._nodes.add($),this._cachedNodes=null}delete($){this.dirty=!0,this._nodes.delete($),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has($){return this._nodes.has($)}clone(){return new N$(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText($){}insertText(){}insertNodes($){const X=this.getNodes(),Y=X.length,Z=X[Y-1];let Q;if(B(Z))Q=Z.select();else{const V=Z.getIndexWithinParent()+1;Q=Z.getParentOrThrow().select(V,V)}Q.insertNodes($);for(let V=0;V<Y;V++)X[V].remove()}getNodes(){const $=this._cachedNodes;if($!==null)return $;const X=this._nodes,Y=[];for(let Z of X){const Q=s(Z);if(Q!==null)Y.push(Q)}if(!$$())this._cachedNodes=Y;return Y}getTextContent(){const $=this.getNodes();let X="";for(let Y=0;Y<$.length;Y++)X+=$[Y].getTextContent();return X}}class R0{constructor($,X,Y,Z){this.anchor=$,this.focus=X,$._selection=this,X._selection=this,this._cachedNodes=null,this.format=Y,this.style=Z,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes($){this._cachedNodes=$}is($){if(!R($))return!1;return this.anchor.is($.anchor)&&this.focus.is($.focus)&&this.format===$.format&&this.style===$.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const $=this._cachedNodes;if($!==null)return $;const X=this.anchor,Y=this.focus,Z=X.isBefore(Y),Q=Z?X:Y,V=Z?Y:X;let j=Q.getNode(),G=V.getNode();const W=Q.offset,_=V.offset;if(A(j)){const P=j.getDescendantByIndex(W);j=P!=null?P:j}if(A(G)){let P=G.getDescendantByIndex(_);if(P!==null&&P!==j&&G.getChildAtIndex(_)===P)P=P.getPreviousSibling();G=P!=null?P:G}let H;if(j.is(G))if(A(j)&&j.getChildrenSize()>0)H=[];else H=[j];else H=j.getNodesBetween(G);if(!$$())this._cachedNodes=H;return H}setTextNodeRange($,X,Y,Z){H0(this.anchor,$.__key,X,"text"),H0(this.focus,Y.__key,Z,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){const $=this.getNodes();if($.length===0)return"";const X=$[0],Y=$[$.length-1],Z=this.anchor,Q=this.focus,V=Z.isBefore(Q),[j,G]=wX(this);let W="",_=!0;for(let H=0;H<$.length;H++){const P=$[H];if(A(P)&&!P.isInline()){if(!_)W+="\n";if(P.isEmpty())_=!1;else _=!0}else if(_=!1,B(P)){let J=P.getTextContent();if(P===X)if(P===Y){if(Z.type!=="element"||Q.type!=="element"||Q.offset===Z.offset)J=j<G?J.slice(j,G):J.slice(G,j)}else J=V?J.slice(j):J.slice(G);else if(P===Y)J=V?J.slice(0,G):J.slice(0,j);W+=J}else if((m(P)||b0(P))&&(P!==Y||!this.isCollapsed()))W+=P.getTextContent()}return W}applyDOMRange($){const X=u(),Z=X.getEditorState()._selection,Q=qY($.startContainer,$.startOffset,$.endContainer,$.endOffset,X,Z);if(Q===null)return;const[V,j]=Q;H0(this.anchor,V.key,V.offset,V.type),H0(this.focus,j.key,j.offset,j.type),this._cachedNodes=null}clone(){const $=this.anchor,X=this.focus;return new R0(I0($.key,$.offset,$.type),I0(X.key,X.offset,X.type),this.format,this.style)}toggleFormat($){this.format=Y1(this.format,$,null),this.dirty=!0}setStyle($){this.style=$,this.dirty=!0}hasFormat($){const X=P0[$];return(this.format&X)!==0}insertRawText($){const X=$.split(/(\r?\n|\t)/),Y=[],Z=X.length;for(let Q=0;Q<Z;Q++){const V=X[Q];if(V==="\n"||V==="\r\n")Y.push(l0());else if(V==="\t")Y.push(f1());else Y.push(f(V))}this.insertNodes(Y)}insertText($){const X=this.anchor,Y=this.focus,Z=this.isCollapsed()||X.isBefore(Y),Q=this.format,V=this.style;if(Z&&X.type==="element")OX(X,Y,Q,V);else if(!Z&&Y.type==="element")OX(Y,X,Q,V);const j=this.getNodes(),G=j.length,W=Z?X:Y,_=Z?Y:X,H=W.offset,P=_.offset;let J=j[0];if(!B(J))throw Error("insertText: first node is not a text node");const U=J.getTextContent().length,I=J.getParentOrThrow(),F=G-1;let M=j[F];if(this.isCollapsed()&&H===U&&(J.isSegmented()||J.isToken()||!J.canInsertTextAfter()||!I.canInsertTextAfter()&&J.getNextSibling()===null)){let K=J.getNextSibling();if(!B(K)||!K.canInsertTextBefore()||X1(K))if(K=f(),K.setFormat(Q),!I.canInsertTextAfter())I.insertAfter(K);else J.insertAfter(K);if(K.select(0,0),J=K,$!==""){this.insertText($);return}}else if(this.isCollapsed()&&H===0&&(J.isSegmented()||J.isToken()||!J.canInsertTextBefore()||!I.canInsertTextBefore()&&J.getPreviousSibling()===null)){let K=J.getPreviousSibling();if(!B(K)||X1(K))if(K=f(),K.setFormat(Q),!I.canInsertTextBefore())I.insertBefore(K);else J.insertBefore(K);if(K.select(),J=K,$!==""){this.insertText($);return}}else if(J.isSegmented()&&H!==U){const K=f(J.getTextContent());K.setFormat(Q),J.replace(K),J=K}else if(!this.isCollapsed()&&$!==""){const K=M.getParent();if(!I.canInsertTextBefore()||!I.canInsertTextAfter()||A(K)&&(!K.canInsertTextBefore()||!K.canInsertTextAfter())){this.insertText(""),TY(this.anchor,this.focus,null),this.insertText($);return}}if(G===1){if(J.isToken()){const w=f($);w.select(),J.replace(w);return}const K=J.getFormat(),x=J.getStyle();if(H===P&&(K!==Q||x!==V))if(J.getTextContent()==="")J.setFormat(Q),J.setStyle(V);else{const w=f($);if(w.setFormat(Q),w.setStyle(V),w.select(),H===0)J.insertBefore(w,!1);else{const[z]=J.splitText(H);z.insertAfter(w,!1)}if(w.isComposing()&&this.anchor.type==="text")this.anchor.offset-=$.length;return}else if(QZ(J)){const w=f($);w.setFormat(Q),w.setStyle(V),w.select(),J.replace(w);return}const q=P-H;if(J=J.spliceText(H,q,$,!0),J.getTextContent()==="")J.remove();else if(this.anchor.type==="text")if(J.isComposing())this.anchor.offset-=$.length;else this.format=K,this.style=x}else{const K=new Set([...J.getParentKeys(),...M.getParentKeys()]),x=A(J)?J:J.getParentOrThrow();let q=A(M)?M:M.getParentOrThrow(),w=M;if(!x.is(q)&&q.isInline())do w=q,q=q.getParentOrThrow();while(q.isInline());if(_.type==="text"&&(P!==0||M.getTextContent()==="")||_.type==="element"&&M.getIndexWithinParent()<P)if(B(M)&&!M.isToken()&&P!==M.getTextContentSize()){if(M.isSegmented()){const C=f(M.getTextContent());M.replace(C),M=C}if(!o(_.getNode())&&_.type==="text")M=M.spliceText(0,P,"");K.add(M.__key)}else{const C=M.getParentOrThrow();if(!C.canBeEmpty()&&C.getChildrenSize()===1)C.remove();else M.remove()}else K.add(M.__key);const z=q.getChildren(),N=new Set(j),E=x.is(q),a=x.isInline()&&J.getNextSibling()===null?x:J;for(let C=z.length-1;C>=0;C--){const y=z[C];if(y.is(J)||A(y)&&y.isParentOf(J))break;if(y.isAttached())if(!N.has(y)||y.is(w)){if(!E)a.insertAfter(y,!1)}else y.remove()}if(!E){let C=q,y=null;while(C!==null){const b=C.getChildren(),Y0=b.length;if(Y0===0||b[Y0-1].is(y))K.delete(C.__key),y=C;C=C.getParent()}}if(!J.isToken()){if(J=J.spliceText(H,U-H,$,!0),J.getTextContent()==="")J.remove();else if(J.isComposing()&&this.anchor.type==="text")this.anchor.offset-=$.length}else if(H===U)J.select();else{const C=f($);C.select(),J.replace(C)}for(let C=1;C<G;C++){const y=j[C],b=y.__key;if(!K.has(b))y.remove()}}}removeText(){this.insertText("")}formatText($){if(this.isCollapsed()){this.toggleFormat($),h(null);return}const X=this.getNodes(),Y=[];for(let M of X)if(B(M))Y.push(M);const Z=Y.length;if(Z===0){this.toggleFormat($),h(null);return}const Q=this.anchor,V=this.focus,j=this.isBackward(),G=j?V:Q,W=j?Q:V;let _=0,H=Y[0],P=G.type==="element"?0:G.offset;if(G.type==="text"&&P===H.getTextContentSize())_=1,H=Y[1],P=0;if(H==null)return;const J=H.getFormatFlags($,null),D=Z-1;let U=Y[D];const I=W.type==="text"?W.offset:U.getTextContentSize();if(H.is(U)){if(P===I)return;if(P===0&&I===H.getTextContentSize())H.setFormat(J);else{const M=H.splitText(P,I),K=P===0?M[0]:M[1];if(K.setFormat(J),G.type==="text")G.set(K.__key,0,"text");if(W.type==="text")W.set(K.__key,I-P,"text")}this.format=J;return}if(P!==0)[,H]=H.splitText(P),P=0;H.setFormat(J);const F=U.getFormatFlags($,J);if(I>0){if(I!==U.getTextContentSize())[U]=U.splitText(I);U.setFormat(F)}for(let M=_+1;M<D;M++){const K=Y[M];if(!K.isToken()){const x=K.getFormatFlags($,F);K.setFormat(x)}}if(G.type==="text")G.set(H.__key,P,"text");if(W.type==="text")W.set(U.__key,I,"text");this.format=J|F}insertNodes($){if($.length===0)return;if(this.anchor.key==="root"){this.insertParagraph();const F=v();if(!R(F))throw Error("Expected RangeSelection after insertParagraph");return F.insertNodes($)}const X=this.isBackward()?this.focus:this.anchor,Y=b$(X.getNode(),T0),Z=$[$.length-1];if("__language"in Y&&A(Y)){if("__language"in $[0])this.insertText($[0].getTextContent());else{const F=a$(this);Y.splice(F,0,$),Z.selectEnd()}return}const Q=(F)=>(A(F)||m(F))&&!F.isInline();if(!$.some(Q)){if(!A(Y))throw Error("Expected 'firstBlock' to be an ElementNode");const F=a$(this);Y.splice(F,0,$),Z.selectEnd();return}const V=LZ($),j=V.getLastDescendant(),G=V.getChildren(),W=(F)=>("__value"in F)&&("__checked"in F),_=(F)=>A(F)&&T0(F)&&!F.isEmpty()&&A(Y)&&(!Y.isEmpty()||W(Y)),P=!A(Y)||!Y.isEmpty()?this.insertParagraph():null,J=G[G.length-1];let D=G[0];if(_(D)){if(!A(Y))throw Error("Expected 'firstBlock' to be an ElementNode");Y.append(...D.getChildren()),D=G[1]}if(D)i5(Y,D);const U=b$(j,T0);if(P&&A(U)&&(W(P)||T0(J)))U.append(...P.getChildren()),P.remove();if(A(Y)&&Y.isEmpty())Y.remove();j.selectEnd();const I=A(Y)?Y.getLastChild():null;if(b0(I)&&U!==Y)I.remove()}insertParagraph(){if(this.anchor.key==="root"){const V=j0();return t().splice(this.anchor.offset,0,[V]),V.select(),V}const $=a$(this),X=b$(this.anchor.getNode(),T0);if(!A(X))throw Error("Expected ancestor to be an ElementNode");const Y=X.getChildAtIndex($),Z=Y?[Y,...Y.getNextSiblings()]:[],Q=X.insertNewAfter(this,!1);if(Q)return Q.append(...Z),Q.selectStart(),Q;return null}insertLineBreak($){const X=l0();if(this.insertNodes([X]),$){const Y=X.getParentOrThrow(),Z=X.getIndexWithinParent();Y.select(Z,Z)}}extract(){const $=this.getNodes(),X=$.length,Y=X-1,Z=this.anchor,Q=this.focus;let V=$[0],j=$[Y];const[G,W]=wX(this);if(X===0)return[];else if(X===1){if(B(V)&&!this.isCollapsed()){const H=G>W?W:G,P=G>W?G:W,J=V.splitText(H,P),D=H===0?J[0]:J[1];return D!=null?[D]:[]}return[V]}const _=Z.isBefore(Q);if(B(V)){const H=_?G:W;if(H===V.getTextContentSize())$.shift();else if(H!==0)[,V]=V.splitText(H),$[0]=V}if(B(j)){const P=j.getTextContent().length,J=_?W:G;if(J===0)$.pop();else if(J!==P)[j]=j.splitText(J),$[Y]=j}return $}modify($,X,Y){const Z=this.focus,Q=this.anchor,V=$==="move",j=WX(Z,X);if(m(j)&&!j.isIsolated()){if(V&&j.isKeyboardSelectable()){const J=qX();J.add(j.__key),D0(J);return}const P=X?j.getPreviousSibling():j.getNextSibling();if(!B(P)){const J=j.getParentOrThrow();let D,U;if(A(P))U=P.__key,D=X?P.getChildrenSize():0;else if(D=j.getIndexWithinParent(),U=J.__key,!X)D++;if(Z.set(U,D,"element"),V)Q.set(U,D,"element");return}else{const J=P.__key,D=X?P.getTextContent().length:0;if(Z.set(J,D,"text"),V)Q.set(J,D,"text");return}}const G=u(),W=$0(G._window);if(!W)return;const{_blockCursorElement:_,_rootElement:H}=G;if(H!==null&&_!==null&&A(j)&&!j.isInline()&&!j.canBeEmpty())E1(_,G,H);if(jZ(W,$,X?"backward":"forward",Y),W.rangeCount>0){const P=W.getRangeAt(0),J=this.anchor.getNode(),D=o(J)?J:K5(J);if(this.applyDOMRange(P),this.dirty=!0,!V){const U=this.getNodes(),I=[];let F=!1;for(let M=0;M<U.length;M++){const K=U[M];if(Z1(K,D))I.push(K);else F=!0}if(F&&I.length>0)if(X){const M=I[0];if(A(M))M.selectStart();else M.getParentOrThrow().selectStart()}else{const M=I[I.length-1];if(A(M))M.selectEnd();else M.getParentOrThrow().selectEnd()}if(W.anchorNode!==P.startContainer||W.anchorOffset!==P.startOffset)VZ(this)}}}deleteCharacter($){const X=this.isCollapsed();if(this.isCollapsed()){const Y=this.anchor,Z=this.focus;let Q=Y.getNode();if(!$&&(Y.type==="element"&&A(Q)&&Y.offset===Q.getChildrenSize()||Y.type==="text"&&Y.offset===Q.getTextContentSize())){const j=Q.getParent(),G=Q.getNextSibling()||(j===null?null:j.getNextSibling());if(A(G)&&G.isShadowRoot())return}const V=WX(Z,$);if(m(V)&&!V.isIsolated()){if(V.isKeyboardSelectable()&&A(Q)&&Q.getChildrenSize()===0){Q.remove();const j=qX();j.add(V.__key),D0(j)}else V.remove(),u().dispatchCommand(P1,void 0);return}else if(!$&&A(V)&&A(Q)&&Q.isEmpty()){Q.remove(),V.selectStart();return}if(this.modify("extend",$,"character"),!this.isCollapsed()){const j=Z.type==="text"?Z.getNode():null;if(Q=Y.type==="text"?Y.getNode():null,j!==null&&j.isSegmented()){const G=Z.offset,W=j.getTextContentSize();if(j.is(Q)||$&&G!==W||!$&&G!==0){zX(j,$,G);return}}else if(Q!==null&&Q.isSegmented()){const G=Y.offset,W=Q.getTextContentSize();if(Q.is(j)||$&&G!==0||!$&&G!==W){zX(Q,$,G);return}}GZ(this,$)}else if($&&Y.offset===0){if((Y.type==="element"?Y.getNode():Y.getNode().getParentOrThrow()).collapseAtStart(this))return}}if(this.removeText(),$&&!X&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const Y=this.anchor.getNode();if(Y.isEmpty()&&o(Y.getParent())&&Y.getIndexWithinParent()===0)Y.collapseAtStart(this)}}deleteLine($){if(this.isCollapsed()){if(this.anchor.type==="text")this.modify("extend",$,"lineboundary");if(($?this.focus:this.anchor).offset===0)this.modify("extend",$,"character")}this.removeText()}deleteWord($){if(this.isCollapsed())this.modify("extend",$,"word");this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}var k=null,g=null,i=!1,t$=!1,M$=0,NX={characterData:!0,childList:!0,subtree:!0};class s1 extends t0{constructor($){super($)}decorate($,X){throw Error("decorate: base method not extended")}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}class u$ extends t0{constructor($){super($);this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__indent=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){const $=this.getFormat();return I3[$]||""}getIndent(){return this.getLatest().__indent}getChildren(){const $=[];let X=this.getFirstChild();while(X!==null)$.push(X),X=X.getNextSibling();return $}getChildrenKeys(){const $=[];let X=this.getFirstChild();while(X!==null)$.push(X.__key),X=X.getNextSibling();return $}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const X=u()._dirtyElements;return X!==null&&X.has(this.__key)}isLastChild(){const $=this.getLatest(),X=this.getParentOrThrow().getLastChild();return X!==null&&X.is($)}getAllTextNodes(){const $=[];let X=this.getFirstChild();while(X!==null){if(B(X))$.push(X);if(A(X)){const Y=X.getAllTextNodes();$.push(...Y)}X=X.getNextSibling()}return $}getFirstDescendant(){let $=this.getFirstChild();while($!==null){if(A($)){const X=$.getFirstChild();if(X!==null){$=X;continue}}break}return $}getLastDescendant(){let $=this.getLastChild();while($!==null){if(A($)){const X=$.getLastChild();if(X!==null){$=X;continue}}break}return $}getDescendantByIndex($){const X=this.getChildren(),Y=X.length;if($>=Y){const Q=X[Y-1];return A(Q)&&Q.getLastDescendant()||Q||null}const Z=X[$];return A(Z)&&Z.getFirstDescendant()||Z||null}getFirstChild(){const X=this.getLatest().__first;return X===null?null:s(X)}getFirstChildOrThrow(){const $=this.getFirstChild();if($===null)throw Error(`Expected node ${this.__key} to have a first child.`);return $}getLastChild(){const X=this.getLatest().__last;return X===null?null:s(X)}getLastChildOrThrow(){const $=this.getLastChild();if($===null)throw Error(`Expected node ${this.__key} to have a last child.`);return $}getChildAtIndex($){const X=this.getChildrenSize();let Y,Z;if($<X/2){Y=this.getFirstChild(),Z=0;while(Y!==null&&Z<=$){if(Z===$)return Y;Y=Y.getNextSibling(),Z++}return null}Y=this.getLastChild(),Z=X-1;while(Y!==null&&Z>=$){if(Z===$)return Y;Y=Y.getPreviousSibling(),Z--}return null}getTextContent(){let $="";const X=this.getChildren(),Y=X.length;for(let Z=0;Z<Y;Z++){const Q=X[Z];if($+=Q.getTextContent(),A(Q)&&Z!==Y-1&&!Q.isInline())$+=V0}return $}getTextContentSize(){let $=0;const X=this.getChildren(),Y=X.length;for(let Z=0;Z<Y;Z++){const Q=X[Z];if($+=Q.getTextContentSize(),A(Q)&&Z!==Y-1&&!Q.isInline())$+=V0.length}return $}getDirection(){return this.getLatest().__dir}hasFormat($){if($!==""){const X=ZX[$];return(this.getFormat()&X)!==0}return!1}select($,X){p();const Y=v();let Z=$,Q=X;const V=this.getChildrenSize();if(!this.canBeEmpty()){if($===0&&X===0){const G=this.getFirstChild();if(B(G)||A(G))return G.select(0,0)}else if(($===void 0||$===V)&&(X===void 0||X===V)){const G=this.getLastChild();if(B(G)||A(G))return G.select()}}if(Z===void 0)Z=V;if(Q===void 0)Q=V;const j=this.__key;if(!R(Y))return CY(j,Z,j,Q,"element","element");else Y.anchor.set(j,Z,"element"),Y.focus.set(j,Q,"element"),Y.dirty=!0;return Y}selectStart(){const $=this.getFirstDescendant();return $?$.selectStart():this.select()}selectEnd(){const $=this.getLastDescendant();return $?$.selectEnd():this.select()}clear(){const $=this.getWritable();return this.getChildren().forEach((Y)=>Y.remove()),$}append(...$){return this.splice(this.getChildrenSize(),0,$)}setDirection($){const X=this.getWritable();return X.__dir=$,X}setFormat($){const X=this.getWritable();return X.__format=$!==""?ZX[$]:0,this}setIndent($){const X=this.getWritable();return X.__indent=$,this}splice($,X,Y){const Z=Y.length,Q=this.getChildrenSize(),V=this.getWritable(),j=V.__key,G=[],W=[],_=this.getChildAtIndex($+X);let H=null,P=Q-X+Z;if($!==0)if($===Q)H=this.getLastChild();else{const D=this.getChildAtIndex($);if(D!==null)H=D.getPreviousSibling()}if(X>0){let D=H===null?this.getFirstChild():H.getNextSibling();for(let U=0;U<X;U++){if(D===null)throw Error("splice: sibling not found");const I=D.getNextSibling(),F=D.__key,M=D.getWritable();O0(M),W.push(F),D=I}}let J=H;for(let D=0;D<Z;D++){const U=Y[D];if(J!==null&&U.is(J))H=J=J.getPreviousSibling();const I=U.getWritable();if(I.__parent===j)P--;O0(I);const F=U.__key;if(J===null)V.__first=F,I.__prev=null;else{const M=J.getWritable();M.__next=F,I.__prev=M.__key}if(U.__key===j)throw Error("append: attempting to append self");I.__parent=j,G.push(F),J=U}if($+X===Q){if(J!==null){const D=J.getWritable();D.__next=null,V.__last=J.__key}}else if(_!==null){const D=_.getWritable();if(J!==null){const U=J.getWritable();D.__prev=J.__key,U.__next=_.__key}else D.__prev=null}if(V.__size=P,W.length){const D=v();if(R(D)){const U=new Set(W),I=new Set(G),{anchor:F,focus:M}=D;if(SX(F,U,I))I$(F,F.getNode(),this,H,_);if(SX(M,U,I))I$(M,M.getNode(),this,H,_);if(P===0&&!this.canBeEmpty()&&!o0(this))this.remove()}}return V}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter($,X){return null}canIndent(){return!0}collapseAtStart($){return!1}excludeFromCopy($){return!1}canExtractContents(){return!0}canReplaceWith($){return!0}canInsertAfter($){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith($){return!1}extractWithChild($,X,Y){return!1}}class X$ extends u${static getType(){return"root"}static clone(){return new X$}constructor(){super("root");this.__cachedText=null}getTopLevelElementOrThrow(){throw Error("getTopLevelElementOrThrow: root nodes are not top level elements")}getTextContent(){const $=this.__cachedText;if($$()||u()._dirtyType===w0){if($!==null)return $}return super.getTextContent()}remove(){throw Error("remove: cannot be called on root nodes")}replace($){throw Error("replace: cannot be called on root nodes")}insertBefore($){throw Error("insertBefore: cannot be called on root nodes")}insertAfter($){throw Error("insertAfter: cannot be called on root nodes")}updateDOM($,X){return!1}append(...$){for(let X=0;X<$.length;X++){const Y=$[X];if(!A(Y)&&!m(Y))throw Error("rootNode.append: Only element or decorator nodes can be appended to the root node")}return super.append(...$)}static importJSON($){const X=t();return X.setFormat($.format),X.setIndent($.indent),X.setDirection($.direction),X}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}class E${constructor($,X){this._nodeMap=$,this._selection=X||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read($){return uX(this,$)}clone($){const X=new E$(this._nodeMap,$===void 0?this._selection:$);return X._readOnly=!0,X}toJSON(){return uX(this,()=>({root:EY(t())}))}}class S$ extends u${static getType(){return"paragraph"}static clone($){return new S$($.__key)}createDOM($){const X=document.createElement("p"),Y=m0($.theme,"paragraph");if(Y!==void 0)X.classList.add(...Y);return X}updateDOM($,X,Y){return!1}static importDOM(){return{p:($)=>({conversion:RZ,priority:0})}}exportDOM($){const{element:X}=super.exportDOM($);if(X&&JY(X)){if(this.isEmpty())X.append(document.createElement("br"));const Y=this.getFormatType();X.style.textAlign=Y;const Z=this.getDirection();if(Z)X.dir=Z;const Q=this.getIndent();if(Q>0)X.style.textIndent=`${Q*20}px`}return{element:X}}static importJSON($){const X=j0();return X.setFormat($.format),X.setIndent($.indent),X.setDirection($.direction),X}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter($,X){const Y=j0(),Z=this.getDirection();return Y.setDirection(Z),this.insertAfter(Y,X),Y}collapseAtStart(){const $=this.getChildren();if($.length===0||B($[0])&&$[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}class mY{constructor($,X,Y,Z,Q,V,j){this._parentEditor=X,this._rootElement=null,this._editorState=$,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=Z,this._nodes=Y,this._decorators={},this._pendingDecorators=null,this._dirtyType=w0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=YY(),this._onError=Q,this._htmlConversions=V,this._editable=j,this._headless=X!==null&&X._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener($){const X=this._listeners.update;return X.add($),()=>{X.delete($)}}registerEditableListener($){const X=this._listeners.editable;return X.add($),()=>{X.delete($)}}registerDecoratorListener($){const X=this._listeners.decorator;return X.add($),()=>{X.delete($)}}registerTextContentListener($){const X=this._listeners.textcontent;return X.add($),()=>{X.delete($)}}registerRootListener($){const X=this._listeners.root;return $(this._rootElement,null),X.add($),()=>{$(null,this._rootElement),X.delete($)}}registerCommand($,X,Y){if(Y===void 0)throw Error('Listener for type "command" requires a "priority".');const Z=this._commands;if(!Z.has($))Z.set($,[new Set,new Set,new Set,new Set,new Set]);const Q=Z.get($);if(Q===void 0)throw Error(`registerCommand: Command ${String($)} not found in command map`);const V=Q[Y];return V.add(X),()=>{if(V.delete(X),Q.every((j)=>j.size===0))Z.delete($)}}registerMutationListener($,X){if(this._nodes.get($.getType())===void 0)throw Error(`Node ${$.name} has not been registered. Ensure node has been passed to createEditor.`);const Z=this._listeners.mutation;return Z.set(X,$),()=>{Z.delete(X)}}registerNodeTransformToKlass($,X){const Y=$.getType(),Z=this._nodes.get(Y);if(Z===void 0)throw Error(`Node ${$.name} has not been registered. Ensure node has been passed to createEditor.`);return Z.transforms.add(X),Z}registerNodeTransform($,X){const Y=this.registerNodeTransformToKlass($,X),Z=[Y],Q=Y.replaceWithKlass;if(Q!=null){const V=this.registerNodeTransformToKlass(Q,X);Z.push(V)}return h3(this,$.getType()),()=>{Z.forEach((V)=>V.transforms.delete(X))}}hasNode($){return this._nodes.has($.getType())}hasNodes($){return $.every(this.hasNode.bind(this))}dispatchCommand($,X){return O(this,$,X)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement($){const X=this._rootElement;if($!==X){const Y=m0(this._config.theme,"root"),Z=this._pendingEditorState||this._editorState;if(this._rootElement=$,SY(this,X,$,Z),X!==null){if(!this._config.disableEvents)s5(X);if(Y!=null)X.classList.remove(...Y)}if($!==null){const Q=M5($),V=$.style;if(V.userSelect="text",V.whiteSpace="pre-wrap",V.wordBreak="break-word",$.setAttribute("data-lexical-editor","true"),this._window=Q,this._dirtyType=N0,rX(this),this._updateTags.add("history-merge"),B0(this),!this._config.disableEvents)p5($,this);if(Y!=null)$.classList.add(...Y)}else this._editorState=Z,this._pendingEditorState=null,this._window=null;n0("root",this,!1,$,X)}}getElementByKey($){return this._keyToDOMMap.get($)||null}getEditorState(){return this._editorState}setEditorState($,X){if($.isEmpty())throw Error("setEditorState: the editor state is empty. Ensure the editor state's root node never becomes empty.");iX(this);const Y=this._pendingEditorState,Z=this._updateTags,Q=X!==void 0?X.tag:null;if(Y!==null&&!Y.isEmpty()){if(Q!=null)Z.add(Q);B0(this)}if(this._pendingEditorState=$,this._dirtyType=N0,this._dirtyElements.set("root",!1),this._compositionKey=null,Q!=null)Z.add(Q);B0(this)}parseEditorState($,X){const Y=typeof $==="string"?JSON.parse($):$;return IZ(Y,this,X)}update($,X){r(this,$,X)}focus($,X={}){const Y=this._rootElement;if(Y!==null){if(Y.setAttribute("autocapitalize","off"),r(this,()=>{const Z=v(),Q=t();if(Z!==null)Z.dirty=!0;else if(Q.getChildrenSize()!==0)if(X.defaultSelection==="rootStart")Q.selectStart();else Q.selectEnd()},{onUpdate:()=>{if(Y.removeAttribute("autocapitalize"),$)$()},tag:"focus"}),this._pendingEditorState===null)Y.removeAttribute("autocapitalize")}}blur(){const $=this._rootElement;if($!==null)$.blur();const X=$0(this._window);if(X!==null)X.removeAllRanges()}isEditable(){return this._editable}setEditable($){if(this._editable!==$)this._editable=$,n0("editable",this,!0,$)}toJSON(){return{editorState:this._editorState.toJSON()}}}var l1=j0;var b1=f;var n1=t,i1=v;var r1=qZ;var Y2=n("lexical");var Q2=n("@lexical/selection"),o1=n("lexical");var{$splitNode:CZ,isHTMLAnchorElement:xZ,isHTMLElement:NZ}=o1;var j2=n("@lexical/selection"),G2=n("@lexical/utils"),J2=n("lexical");var W2=n("@lexical/html"),H2=n("@lexical/selection"),P2=n("@lexical/utils"),L2=n("lexical"),D2=typeof window!=="undefined"&&typeof window.document!=="undefined"&&typeof window.document.createElement!=="undefined";var hY=function($,X){return typeof document.caretRangeFromPoint!=="undefined"?($=document.caretRangeFromPoint($,X),$===null?null:{node:$.startContainer,offset:$.startOffset}):document.caretPositionFromPoint!=="undefined"?($=document.caretPositionFromPoint($,X),$===null?null:{node:$.offsetNode,offset:$.offset}):null},pY=function(){return L.$applyNodeReplacement(new f$)},gY=function($){return $.nodeName.toLowerCase()==="span"?$.style.fontSize==="26pt":!1},y0=function($){let X=$.nodeName.toLowerCase(),Y=null;if(X==="h1"||X==="h2"||X==="h3"||X==="h4"||X==="h5"||X==="h6")Y=Y$(X),$.style!==null&&Y.setFormat($.style.textAlign);return{node:Y}},hZ=function($){let X=pY();return $.style!==null&&X.setFormat($.style.textAlign),{node:X}},Y$=function($){return L.$applyNodeReplacement(new p$($))},kZ=function($,X){$.preventDefault(),X.update(()=>{let Y=L.$getSelection(),Z=$ instanceof InputEvent||$ instanceof KeyboardEvent?null:$.clipboardData;Z!=null&&Y!==null&&g$.$insertDataTransferForRichText(Z,Y,X)},{tag:"paste"})};async function gZ($,X){await g$.copyToClipboard(X,X0.objectKlassEquals($,ClipboardEvent)?$:null),X.update(()=>{let Y=L.$getSelection();L.$isRangeSelection(Y)?Y.removeText():L.$isNodeSelection(Y)&&Y.getNodes().forEach((Z)=>Z.remove())})}var h$=function($){let X=null;if($ instanceof DragEvent?X=$.dataTransfer:$ instanceof ClipboardEvent&&(X=$.clipboardData),X===null)return[!1,[],!1];var Y=X.types;return $=Y.includes("Files"),Y=Y.includes("text/html")||Y.includes("text/plain"),[$,Array.from(X.files),Y]},fY=function($){var X=L.$getSelection();if(!L.$isRangeSelection(X))return!1;let Y=new Set;X=X.getNodes();for(let V=0;V<X.length;V++){var Z=X[V],Q=Z.getKey();Y.has(Q)||(Z=X0.$getNearestBlockElementAncestorOrThrow(Z),Q=Z.getKey(),Z.canIndent()&&!Y.has(Q)&&(Y.add(Q),$(Z)))}return 0<Y.size},k$=function($){return $=L.$getNearestNodeFromDOMNode($),L.$isDecoratorNode($)},g$=n("@lexical/clipboard"),m$=n("@lexical/selection"),X0=n("@lexical/utils"),L=n("lexical"),J0=typeof window!=="undefined"&&typeof window.document!=="undefined"&&typeof window.document.createElement!=="undefined",vZ=J0&&"documentMode"in document?document.documentMode:null;J0&&/Mac|iPod|iPhone|iPad/.test(navigator.platform);J0&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);var yZ=J0&&"InputEvent"in window&&!vZ?"getTargetRanges"in new window.InputEvent("input"):!1,uZ=J0&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),EZ=J0&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;J0&&/Android/.test(navigator.userAgent);var SZ=J0&&/^(?=.*Chrome).*/i.test(navigator.userAgent),mZ=J0&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!SZ,kY=L.createCommand("DRAG_DROP_PASTE_FILE");class f$ extends L.ElementNode{static getType(){return"quote"}static clone($){return new f$($.__key)}constructor($){super($)}createDOM($){let X=document.createElement("blockquote");return X0.addClassNamesToElement(X,$.theme.quote),X}updateDOM(){return!1}static importDOM(){return{blockquote:()=>({conversion:hZ,priority:0})}}exportDOM($){if({element:$}=super.exportDOM($),$&&X0.isHTMLElement($)){this.isEmpty()&&$.append(document.createElement("br"));var X=this.getFormatType();if($.style.textAlign=X,X=this.getDirection())$.dir=X}return{element:$}}static importJSON($){let X=pY();return X.setFormat($.format),X.setIndent($.indent),X.setDirection($.direction),X}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter($,X){$=L.$createParagraphNode();let Y=this.getDirection();return $.setDirection(Y),this.insertAfter($,X),$}collapseAtStart(){let $=L.$createParagraphNode();return this.getChildren().forEach((X)=>$.append(X)),this.replace($),!0}}class p$ extends L.ElementNode{static getType(){return"heading"}static clone($){return new p$($.__tag,$.__key)}constructor($,X){super(X);this.__tag=$}getTag(){return this.__tag}createDOM($){let X=this.__tag,Y=document.createElement(X);return $=$.theme.heading,$!==void 0&&X0.addClassNamesToElement(Y,$[X]),Y}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:y0,priority:0}),h2:()=>({conversion:y0,priority:0}),h3:()=>({conversion:y0,priority:0}),h4:()=>({conversion:y0,priority:0}),h5:()=>({conversion:y0,priority:0}),h6:()=>({conversion:y0,priority:0}),p:($)=>{return $=$.firstChild,$!==null&&gY($)?{conversion:()=>({node:null}),priority:3}:null},span:($)=>gY($)?{conversion:()=>({node:Y$("h1")}),priority:3}:null}}exportDOM($){if({element:$}=super.exportDOM($),$&&X0.isHTMLElement($)){this.isEmpty()&&$.append(document.createElement("br"));var X=this.getFormatType();if($.style.textAlign=X,X=this.getDirection())$.dir=X}return{element:$}}static importJSON($){let X=Y$($.tag);return X.setFormat($.format),X.setIndent($.indent),X.setDirection($.direction),X}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter($,X=!0){let Y=$?$.anchor.offset:0,Z=Y!==this.getTextContentSize()&&$?Y$(this.getTag()):L.$createParagraphNode(),Q=this.getDirection();return Z.setDirection(Q),this.insertAfter(Z,X),Y===0&&!this.isEmpty()&&$&&($=L.$createParagraphNode(),$.select(),this.replace($,!0)),Z}collapseAtStart(){let $=this.isEmpty()?L.$createParagraphNode():Y$(this.getTag());return this.getChildren().forEach((X)=>$.append(X)),this.replace($),!0}extractWithChild(){return!0}}var a1=p$,t1=f$;var d1=function($){return X0.mergeRegister($.registerCommand(L.CLICK_COMMAND,()=>{const X=L.$getSelection();return L.$isNodeSelection(X)?(X.clear(),!0):!1},0),$.registerCommand(L.DELETE_CHARACTER_COMMAND,(X)=>{const Y=L.$getSelection();if(!L.$isRangeSelection(Y))return!1;return Y.deleteCharacter(X),!0},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.DELETE_WORD_COMMAND,(X)=>{const Y=L.$getSelection();if(!L.$isRangeSelection(Y))return!1;return Y.deleteWord(X),!0},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.DELETE_LINE_COMMAND,(X)=>{const Y=L.$getSelection();if(!L.$isRangeSelection(Y))return!1;return Y.deleteLine(X),!0},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.CONTROLLED_TEXT_INSERTION_COMMAND,(X)=>{const Y=L.$getSelection();if(typeof X==="string")Y!==null&&Y.insertText(X);else{if(Y===null)return!1;const Z=X.dataTransfer;Z!=null?g$.$insertDataTransferForRichText(Z,Y,$):L.$isRangeSelection(Y)&&(X=X.data)&&Y.insertText(X)}return!0},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.REMOVE_TEXT_COMMAND,()=>{const X=L.$getSelection();if(!L.$isRangeSelection(X))return!1;return X.removeText(),!0},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.FORMAT_TEXT_COMMAND,(X)=>{const Y=L.$getSelection();if(!L.$isRangeSelection(Y))return!1;return Y.formatText(X),!0},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.FORMAT_ELEMENT_COMMAND,(X)=>{var Y=L.$getSelection();if(!L.$isRangeSelection(Y)&&!L.$isNodeSelection(Y))return!1;Y=Y.getNodes();for(let Z of Y)Y=X0.$findMatchingParent(Z,(Q)=>L.$isElementNode(Q)&&!Q.isInline()),Y!==null&&Y.setFormat(X);return!0},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.INSERT_LINE_BREAK_COMMAND,(X)=>{const Y=L.$getSelection();if(!L.$isRangeSelection(Y))return!1;return Y.insertLineBreak(X),!0},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.INSERT_PARAGRAPH_COMMAND,()=>{const X=L.$getSelection();if(!L.$isRangeSelection(X))return!1;return X.insertParagraph(),!0},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.INSERT_TAB_COMMAND,()=>{return L.$insertNodes([L.$createTabNode()]),!0},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.INDENT_CONTENT_COMMAND,()=>fY((X)=>{const Y=X.getIndent();X.setIndent(Y+1)}),L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.OUTDENT_CONTENT_COMMAND,()=>fY((X)=>{const Y=X.getIndent();0<Y&&X.setIndent(Y-1)}),L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.KEY_ARROW_UP_COMMAND,(X)=>{var Y=L.$getSelection();if(L.$isNodeSelection(Y)&&!k$(X.target)){if(X=Y.getNodes(),0<X.length)return X[0].selectPrevious(),!0}else if(L.$isRangeSelection(Y)&&(Y=L.$getAdjacentNode(Y.focus,!0),!X.shiftKey&&L.$isDecoratorNode(Y)&&!Y.isIsolated()&&!Y.isInline()))return Y.selectPrevious(),X.preventDefault(),!0;return!1},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.KEY_ARROW_DOWN_COMMAND,(X)=>{var Y=L.$getSelection();if(L.$isNodeSelection(Y)){if(X=Y.getNodes(),0<X.length)return X[0].selectNext(0,0),!0}else if(L.$isRangeSelection(Y)){let Z=Y.focus;if(Z.key==="root"&&Z.offset===L.$getRoot().getChildrenSize())return X.preventDefault(),!0;if(Y=L.$getAdjacentNode(Y.focus,!1),!X.shiftKey&&L.$isDecoratorNode(Y)&&!Y.isIsolated()&&!Y.isInline())return Y.selectNext(),X.preventDefault(),!0}return!1},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.KEY_ARROW_LEFT_COMMAND,(X)=>{const Y=L.$getSelection();if(L.$isNodeSelection(Y)){var Z=Y.getNodes();if(0<Z.length)return X.preventDefault(),Z[0].selectPrevious(),!0}return L.$isRangeSelection(Y)?m$.$shouldOverrideDefaultCharacterSelection(Y,!0)?(Z=X.shiftKey,X.preventDefault(),m$.$moveCharacter(Y,Z,!0),!0):!1:!1},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.KEY_ARROW_RIGHT_COMMAND,(X)=>{const Y=L.$getSelection();if(L.$isNodeSelection(Y)&&!k$(X.target)){var Z=Y.getNodes();if(0<Z.length)return X.preventDefault(),Z[0].selectNext(0,0),!0}if(!L.$isRangeSelection(Y))return!1;return Z=X.shiftKey,m$.$shouldOverrideDefaultCharacterSelection(Y,!1)?(X.preventDefault(),m$.$moveCharacter(Y,Z,!1),!0):!1},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.KEY_BACKSPACE_COMMAND,(X)=>{if(k$(X.target))return!1;const Y=L.$getSelection();if(!L.$isRangeSelection(Y))return!1;X.preventDefault(),{anchor:X}=Y;const Z=X.getNode();return Y.isCollapsed()&&X.offset===0&&!L.$isRootNode(Z)&&0<X0.$getNearestBlockElementAncestorOrThrow(Z).getIndent()?$.dispatchCommand(L.OUTDENT_CONTENT_COMMAND,void 0):$.dispatchCommand(L.DELETE_CHARACTER_COMMAND,!0)},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.KEY_DELETE_COMMAND,(X)=>{if(k$(X.target))return!1;const Y=L.$getSelection();if(!L.$isRangeSelection(Y))return!1;return X.preventDefault(),$.dispatchCommand(L.DELETE_CHARACTER_COMMAND,!1)},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.KEY_ENTER_COMMAND,(X)=>{const Y=L.$getSelection();if(!L.$isRangeSelection(Y))return!1;if(X!==null){if((EZ||uZ||mZ)&&yZ)return!1;if(X.preventDefault(),X.shiftKey)return $.dispatchCommand(L.INSERT_LINE_BREAK_COMMAND,!1)}return $.dispatchCommand(L.INSERT_PARAGRAPH_COMMAND,void 0)},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.KEY_ESCAPE_COMMAND,()=>{const X=L.$getSelection();if(!L.$isRangeSelection(X))return!1;return $.blur(),!0},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.DROP_COMMAND,(X)=>{const[,Y]=h$(X);if(0<Y.length){var Z=hY(X.clientX,X.clientY);if(Z!==null){const{offset:V,node:j}=Z;var Q=L.$getNearestNodeFromDOMNode(j);if(Q!==null){if(Z=L.$createRangeSelection(),L.$isTextNode(Q))Z.anchor.set(Q.getKey(),V,"text"),Z.focus.set(Q.getKey(),V,"text");else{const G=Q.getParentOrThrow().getKey();Q=Q.getIndexWithinParent()+1,Z.anchor.set(G,Q,"element"),Z.focus.set(G,Q,"element")}Z=L.$normalizeSelection__EXPERIMENTAL(Z),L.$setSelection(Z)}$.dispatchCommand(kY,Y)}return X.preventDefault(),!0}return X=L.$getSelection(),L.$isRangeSelection(X)?!0:!1},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.DRAGSTART_COMMAND,(X)=>{[X]=h$(X);const Y=L.$getSelection();return X&&!L.$isRangeSelection(Y)?!1:!0},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.DRAGOVER_COMMAND,(X)=>{var[Y]=h$(X);const Z=L.$getSelection();if(Y&&!L.$isRangeSelection(Z))return!1;return Y=hY(X.clientX,X.clientY),Y!==null&&(Y=L.$getNearestNodeFromDOMNode(Y.node),L.$isDecoratorNode(Y)&&X.preventDefault()),!0},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.SELECT_ALL_COMMAND,()=>{return L.$selectAll(),!0},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.COPY_COMMAND,(X)=>{return g$.copyToClipboard($,X0.objectKlassEquals(X,ClipboardEvent)?X:null),!0},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.CUT_COMMAND,(X)=>{return gZ(X,$),!0},L.COMMAND_PRIORITY_EDITOR),$.registerCommand(L.PASTE_COMMAND,(X)=>{const[,Y,Z]=h$(X);return 0<Y.length&&!Z?($.dispatchCommand(kY,Y),!0):L.isSelectionCapturedInDecoratorInput(X.target)?!1:L.$getSelection()!==null?(kZ(X,$),!0):!1},L.COMMAND_PRIORITY_EDITOR))};var fZ={ltr:"ltr",rtl:"rtl",placeholder:"editor-placeholder",paragraph:"editor-paragraph",quote:"editor-quote",heading:{h1:"editor-heading-h1",h2:"editor-heading-h2",h3:"editor-heading-h3",h4:"editor-heading-h4",h5:"editor-heading-h5"},list:{nested:{listitem:"editor-nested-listitem"},ol:"editor-list-ol",ul:"editor-list-ul",listitem:"editor-listitem"},image:"editor-image",link:"editor-link",text:{bold:"editor-text-bold",italic:"editor-text-italic",overflowed:"editor-text-overflowed",hashtag:"editor-text-hashtag",underline:"editor-text-underline",strikethrough:"editor-text-strikethrough",underlineStrikethrough:"editor-text-underlineStrikethrough",code:"editor-text-code"},code:"editor-code",codeHighlight:{atrule:"editor-tokenAttr",attr:"editor-tokenAttr",boolean:"editor-tokenProperty",builtin:"editor-tokenSelector",cdata:"editor-tokenComment",char:"editor-tokenSelector",class:"editor-tokenFunction","class-name":"editor-tokenFunction",comment:"editor-tokenComment",constant:"editor-tokenProperty",deleted:"editor-tokenProperty",doctype:"editor-tokenComment",entity:"editor-tokenOperator",function:"editor-tokenFunction",important:"editor-tokenVariable",inserted:"editor-tokenSelector",keyword:"editor-tokenAttr",namespace:"editor-tokenVariable",number:"editor-tokenProperty",operator:"editor-tokenOperator",prolog:"editor-tokenComment",property:"editor-tokenProperty",punctuation:"editor-tokenPunctuation",regex:"editor-tokenVariable",selector:"editor-tokenSelector",string:"editor-tokenSelector",symbol:"editor-tokenProperty",tag:"editor-tokenProperty",url:"editor-tokenOperator",variable:"editor-tokenVariable"}},pZ={theme:fZ,onError($){throw $},nodes:[a1,t1]},e1=r1(pZ);d1(e1);var sZ=document.getElementById("editor");e1.setRootElement(sZ);e1.update(()=>{const $=n1(),X=i1(),Y=l1(),Z=b1("Hello world from ESM");Y.append(Z),$.append(Y)});
